webpackJsonp([1],{"+U6P":function(t,e){},"/mNf":function(t,e){},"1Ek5":function(t,e){},"1uuo":function(t,e){},"2FHI":function(t,e){},"52fC":function(t,e){},"5mf/":function(t,e){},"8+Mr":function(t,e){},"865z":function(t,e){},"8cNz":function(t,e){},"8eNO":function(t,e){},"8sv+":function(t,e){},"9r4F":function(t,e){},AseE:function(t,e){},CIct:function(t,e){},D0W0:function(t,e){},IKNc:function(t,e){},L86l:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("header",[e("h1",[e("span",{staticClass:"logo"},[this._v("@")]),e("span",{staticClass:"logoTxt"},[e("router-link",{attrs:{to:"/"}},[this._v("TJC")])],1)])]),this._v(" "),this.showToggle?e("div",{attrs:{id:"mnavToggle"},on:{click:this.openSidebar}},[this._m(0)]):this._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span"),this._v(" "),e("span"),this._v(" "),e("span")])}]};var o=n("VU/8")({name:"Header",computed:{appTitle:function(){return this.$store.getters.appTitle},showToggle:function(){return this.$store.getters.showToggre}},methods:{openSidebar:function(){this.$store.dispatch("setShowSidebar",!0)}}},r,!1,function(t){n("xg5q")},null,null).exports,s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{position:"fixed","z-index":"9998",top:"0",left:"0",width:"200%",height:"150%","background-color":"rgba(0, 0, 0, .5)",display:"table"},on:{click:t.closeMenu}},[n("div",{attrs:{id:"menu","data-v-sidemenuF":""}},[n("h1",{staticClass:"userId",attrs:{"data-v-sidemenuF":""}},[t._v(t._s(t.userId))]),t._v(" "),n("h2",{attrs:{"data-v-sidemenuF":""}},[n("router-link",{attrs:{to:"/"}},[t._v("Portal")])],1),t._v(" "),n("h2",{attrs:{"data-v-sidemenuF":""}},[n("router-link",{attrs:{to:{name:"MyPage"}}},[t._v("マイページ")])],1),t._v(" "),n("h2",{attrs:{"data-v-sidemenuF":""}},[n("a",{attrs:{href:"#"},on:{click:t.logout}},[t._v("ログアウト")])]),t._v(" "),t._m(0),t._v(" "),n("h2",{attrs:{"data-v-sidemenuF":""}},[n("router-link",{attrs:{to:{name:"MemberList"}}},[t._v("メンバーリスト")])],1),t._v(" "),n("h2",{attrs:{"data-v-sidemenuF":""}},[n("router-link",{attrs:{to:{name:"EventList"}}},[t._v("イベント一覧")])],1),t._v(" "),n("h2",{attrs:{"data-v-sidemenuF":""}},[n("router-link",{attrs:{to:{name:"EntryList"}}},[t._v("エントリ一覧")])],1),t._v(" "),n("h2",{attrs:{"data-v-sidemenuF":""}},[n("router-link",{attrs:{to:{name:"Inquiry"}}},[t._v("お問い合わせフォーム")])],1),t._v(" "),n("h2",{attrs:{"data-v-sidemenuF":""}},[n("router-link",{attrs:{to:{name:"Terms"}}},[t._v("利用規約")])],1),t._v(" "),n("h1",{attrs:{"data-v-sidemenuF":""}},[t._v("外部リンク")]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t.admin?[n("h1",{attrs:{"data-v-sidemenuF":""}},[t._v("Admin")]),t._v(" "),n("h2",{attrs:{"data-v-sidemenuF":""}},[n("router-link",{attrs:{to:{name:"AdminInfo"}}},[t._v("管理画面")])],1)]:t._e()],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{"data-v-sidemenuF":""}},[e("span",{staticClass:"logo"},[this._v("@")]),e("span",{staticClass:"logoTxt"},[this._v("TJC")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{"data-v-sidemenuF":""}},[e("a",{attrs:{href:"https://gifukoujichikai.tumblr.com/",target:"_blank"}},[this._v("WEB自治会室")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{"data-v-sidemenuF":""}},[e("a",{attrs:{href:"https://tjc-word-library.herokuapp.com/libraries/",target:"_blank"}},[this._v("用語名言集")])])}]};var i=n("VU/8")({name:"SideMenu",computed:{userId:function(){return this.$store.getters.userInfo.userId},admin:function(){return this.$store.getters.userInfo.admin}},data:function(){return{}},methods:{closeMenu:function(t){this.$store.dispatch("setShowSidebar",!1)},nonClose:function(){},logout:function(){this.$store.dispatch("callLogoutApi")}}},s,!1,function(t){n("865z")},"data-v-50afc65a",null).exports,l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"modal"}},[n("div",{staticClass:"modal-mask"},[n("div",{staticClass:"modal-wrapper"},[n("div",{staticClass:"modal-container"},[n("div",{staticClass:"modal-header"},[t._t("header",[t._v("\n              default header\n          ")])],2),t._v(" "),n("div",{staticClass:"modal-body"},[t._t("body",[t._v("\n              default body\n          ")])],2),t._v(" "),n("div",{staticClass:"modal-footer"},[n("div",{directives:[{name:"show",rawName:"v-show",value:1==this.mtypeIn,expression:"this.mtypeIn == 1"}],staticClass:"mtype1"},[n("div",{staticClass:"buttonBase",staticStyle:{float:"left",margin:"10px",width:"75px"},on:{click:t.clickYes}},[t._v("Yes")]),t._v(" "),n("div",{staticClass:"buttonBase",staticStyle:{float:"left",margin:"10px",width:"75px"},on:{click:t.clickNo}},[t._v("No")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:2==this.mtypeIn,expression:"this.mtypeIn == 2"}],staticClass:"mtype2"},[n("div",{staticClass:"buttonBase",staticStyle:{float:"left",margin:"10px",width:"75px"},on:{click:t.clickOk}},[t._v("OK")])])])])])])])},staticRenderFns:[]};var d=n("VU/8")({name:"Modal",props:["mtypeIn"],methods:{clickYes:function(){this.$emit("modal-yes-event")},clickNo:function(){this.$emit("modal-no-event")},clickOk:function(){this.$emit("modal-ok-event")}}},l,!1,function(t){n("D0W0")},"data-v-a3213810",null).exports,c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"loading"}},[e("div",{staticClass:"loading-mask"},[e("div",{staticClass:"loading-wrapper"},[e("div",{staticClass:"loading-container"},[e("img",{staticClass:"loading",attrs:{src:n("aKXg")}})])])])])},staticRenderFns:[]};var u={name:"App",components:{Header:o,SideMenu:i,Modal:d,Loading:n("VU/8")({name:"Loading"},c,!1,function(t){n("IKNc")},"data-v-4a48abb5",null).exports},computed:{showModal:function(){return this.$store.getters.showModal},modalMsg:function(){return this.$store.getters.modalMsg},loadingState:function(){return this.$store.getters.loading},sidebarState:function(){return this.$store.getters.showSideBar}},methods:{globalModalOk:function(){this.$store.dispatch("setShowModal",!1)}},mounted:function(){var t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAurb2Yh0plll9zUoxBg3nBP0Gz5XiYSxM",document.body.appendChild(t)}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Header"),t._v(" "),n("router-view"),t._v(" "),n("transition",{attrs:{name:"sidef"}},[t.sidebarState?n("SideMenu"):t._e()],1),t._v(" "),n("Modal",{directives:[{name:"show",rawName:"v-show",value:t.showModal,expression:"showModal"}],attrs:{mtypeIn:2},on:{"modal-ok-event":t.globalModalOk}},[n("p",{attrs:{slot:"header"},slot:"header"},[t._v("@TJC message")]),t._v(" "),n("template",{slot:"body"},[n("p",{domProps:{innerHTML:t._s(t.modalMsg)}})])],2),t._v(" "),t.loadingState?n("Loading"):t._e()],1)},staticRenderFns:[]};var p=n("VU/8")(u,m,!1,function(t){n("8sv+")},null,null).exports,v=n("Xxa5"),f=n.n(v),h=n("exGp"),g=n.n(h),_=n("/ocq"),w=n("mvHQ"),M=n.n(w),b=(n("j1ja"),n("NYxO")),y=n("lbHh"),k=n.n(y),S=n("mtWM"),U=n.n(S),P=(n("Ya8g"),n("UZ5h"),n("U0rC"));a.a.use(b.a);var x=new b.a.Store({state:{appTitle:"@TJC",showToggre:!0,logined:!1,showModal:!1,modalMsg:"",loading:!1,showSideBar:!1,userInfo:{userId:"",admin:!1},profile:{},posSingleMap:{lat:0,lng:0},portalMarkers:[],portalNews:[],portalInfos:[],registration:{invCode:null,email:null,loginId:null,pw:null,pwc:null,invOk:!1},members:[],events:[],event:{},comments:[],maintenance:{},admin:{maintenance:{},loginUsers:[],infos:[],info:{},invCode:""},entry:{no:null,title:"",body:"",imgUrl:"",dat:"",user:"",userId:"",twitter:!1,imgFile:null},entries:[],afterLogin:null},getters:{appTitle:function(t){return t.appTitle},showToggre:function(t){return t.showToggre},logined:function(t){return t.logined},showModal:function(t){return t.showModal},modalMsg:function(t){return t.modalMsg},loading:function(t){return t.loading},showSideBar:function(t){return t.showSideBar},userInfo:function(t){return t.userInfo},profile:function(t){return t.profile},posSingleMap:function(t){return t.posSingleMap},portalMarkers:function(t){return t.portalMarkers},portalNews:function(t){return t.portalNews},registration:function(t){return t.registration},invOk:function(t){return t.registration.invOk},members:function(t){return t.members},events:function(t){return t.events},event:function(t){return t.event},portalInfos:function(t){return t.portalInfos},maintenance:function(t){return t.maintenance},afterLogin:function(t){return t.afterLogin},adminMaintenance:function(t){return t.admin.maintenance},adminLoginUsers:function(t){return t.admin.loginUsers},comments:function(t){return t.comments},adminInfos:function(t){return t.admin.infos},adminInfo:function(t){return t.admin.info},adminInvCode:function(t){return t.admin.invCode},entry:function(t){return t.entry},entries:function(t){return t.entries}},mutations:{setUserInfo:function(t,e){t.userInfo.userId=e.userId,t.userInfo.admin=e.admin},setToggreState:function(t,e){t.showToggre=e.toggreState},setLogined:function(t,e){t.logined=e.logined},setShowModal:function(t,e){t.showModal=e.modalState},setModalMsg:function(t,e){t.modalMsg=e.modalMsg},setLoading:function(t,e){t.loading=e.loadingState},setShowSidebar:function(t,e){t.showSideBar=e.sidebarState},setProfile:function(t,e){t.profile=e.profile},setPosSingleMap:function(t,e){t.posSingleMap=e.pos},setResidence:function(t,e){t.profile.residences[e.index].name=e.name,t.profile.residences[e.index].lat=e.lat,t.profile.residences[e.index].lng=e.lng},setInvCode:function(t,e){t.registration.invCode=e.invCode},setInvOk:function(t,e){t.registration.invOk=e.invOk},setRegistration:function(t,e){t.registration.email=e.registration.email,t.registration.loginId=e.registration.loginId,t.registration.pw=e.registration.pw,t.registration.pwc=e.registration.pwc},addResidence:function(t,e){var n={name:e.name,lat:e.lat,lng:e.lng,from:e.from,to:e.to};t.profile.residences.push(n)},addPortalMarker:function(t,e){var n={type:e.type,name:e.name,lat:e.lat,lng:e.lng,userName:e.userName,userNo:e.userNo,date:e.date,eventNo:e.eventNo};t.portalMarkers.push(n)},clearPortalMarkers:function(t,e){t.portalMarkers=[]},addPortalNew:function(t,e){var n={userName:e.userName,userNo:e.userNo,type:e.type,posName:e.posName,date:e.date,time:e.time,eventName:e.eventName,eventNo:e.eventNo,creationtime:e.creationtime};t.portalNews.push(n)},clearPortalNews:function(t,e){t.portalNews=[]},setMembers:function(t,e){t.members=e.members},setEvents:function(t,e){t.events=e.events},setEvent:function(t,e){t.event=e.event},setPortalInfos:function(t,e){t.portalInfos=e.portalInfos},setMaintenance:function(t,e){t.maintenance=e.maintenance},setAfterLogin:function(t,e){t.afterLogin=e.afterLogin},setAdminMaintenance:function(t,e){t.admin.maintenance=e.maintenance},setAdminLoginUsers:function(t,e){t.admin.loginUsers=e.loginUsers},setComments:function(t,e){t.comments=e.comments},setAdminInfos:function(t,e){t.admin.infos=e.infos},setAdminInfo:function(t,e){t.admin.info=e.info},setAdminInvCode:function(t,e){t.admin.invCode=e},setEntry:function(t,e){t.entry=e},setEntries:function(t,e){t.entries=e}},actions:{setUserInfo:function(t,e){(0,t.commit)("setUserInfo",{userInfo:e})},setToggreState:function(t,e){(0,t.commit)("setToggreState",{toggreState:e})},setShowModal:function(t,e){(0,t.commit)("setShowModal",{modalState:e})},setModalMsg:function(t,e){(0,t.commit)("setModalMsg",{modalMsg:e})},setLoading:function(t,e){(0,t.commit)("setLoading",{loadingState:e})},setShowSidebar:function(t,e){(0,t.commit)("setShowSidebar",{sidebarState:e})},setPosSingleMap:function(t,e){(0,t.commit)("setPosSingleMap",{pos:e})},addResidence:function(t,e){(0,t.commit)("addResidence",{pos:e})},setInvCode:function(t,e){(0,t.commit)("setInvCode",{invCode:e})},setRegistration:function(t,e){(0,t.commit)("setRegistration",{registration:e})},setAfterLogin:function(t,e){(0,t.commit)("setAfterLogin",{afterLogin:e})},setAdminMaintenanceFront:function(t,e){(0,t.commit)("setAdminMaintenance",{maintenance:e})},setAdminInfo:function(t,e){(0,t.commit)("setAdminInfo",{info:e})},callLoginApi:function(t,e){var n=t.commit;n("setLoading",{loadingState:!0});var a=this;U.a.post("https://placeunknown.herokuapp.com/api/v1/at-tjc/auth",{userId:e.id,password:e.pw}).then(function(t){n("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status?(n("setLogined",{logined:!0}),n("setToggreState",{toggreState:!0}),k.a.set("token",t.data.data.token,{expires:.5}),null!=a.getters.afterLogin&&"/maintenance"!=a.getters.afterLogin.path?Ue.push(a.getters.afterLogin.path):Ue.push("/")):(n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:t.data.msg}))}).catch(function(t){console.log(t),n("setLoading",{loadingState:!1}),n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})})},checkLogin:function(t){var e=this,n=t.commit;return g()(f.a.mark(function t(){var a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(a=k.a.get("token"))&&0!=a.length){t.next=4;break}return console.log("info:not token"),t.abrupt("return");case 4:return t.next=6,U.a.get("https://placeunknown.herokuapp.com/api/v1/at-tjc/user",{headers:{Authorization:a}}).then(function(t){n("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status?(n("setLogined",{logined:!0}),n("setUserInfo",{userId:t.data.data.userId,admin:t.data.data.admin}),console.log("info:login ok")):(k.a.remove("token"),n("setLogined",{logined:!1}),n("setLoading",{loadingState:!1}),n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:t.data.msg}))}).catch(function(t){});case 6:case"end":return t.stop()}},t,e)}))()},callLogoutApi:function(t){var e=t.commit;e("setLoading",{loadingState:!0});var n=k.a.get("token");U.a.get("https://placeunknown.herokuapp.com/api/v1/at-tjc/user/logout",{headers:{Authorization:n}}).then(function(t){e("setLoading",{loadingState:!1}),k.a.remove("token"),location.reload()}).catch(function(t){e("setLoading",{loadingState:!1}),k.a.remove("token"),location.reload()})},updatePW:function(t,e){var n=t.commit;n("setLoading",{loadingState:!0});var a=k.a.get("token");U.a.post("https://placeunknown.herokuapp.com/api/v1/at-tjc/user/changePW",{currentPW:e.currentPW,updatedPW:e.updatedPW,updatedPWRe:e.updatedPWRe},{headers:{Authorization:a}}).then(function(t){n("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status?(n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:"パスワードを変更しました。<br>再度 ログインしなおしてください。"}),k.a.remove("token"),n("setLogined",{logined:!1}),Ue.push("/")):(n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:t.data.msg}))}).catch(function(t){Ue.push("/registration/input"),n("setLoading",{loadingState:!1}),n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})})},initPortalPage:function(t){var e=this,n=t.commit;return g()(f.a.mark(function t(){var a,r,o,s,i,l,d,c;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("info:portal初期化"),n("setLoading",{loadingState:!0}),n("clearPortalMarkers",{}),n("clearPortalNews",{}),t.prev=4,a=k.a.get("token"),t.next=8,U.a.get("https://placeunknown.herokuapp.com/api/v1/at-tjc/portal/pos",{headers:{Authorization:a}});case 8:if(200==(r=t.sent).status){t.next=14;break}return n("setLoading",{loadingState:!1}),n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"}),t.abrupt("return");case 14:return o=r.data.data,t.next=17,U.a.get("https://placeunknown.herokuapp.com/api/v1/at-tjc/portal/news",{headers:{Authorization:a}});case 17:if(200==(s=t.sent).status){t.next=23;break}return n("setLoading",{loadingState:!1}),n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"}),t.abrupt("return");case 23:for(i=s.data.data,l=0;l<o.length;l++)n("addPortalMarker",o[l]);for(l=0;l<i.length;l++)n("addPortalNew",i[l]);return t.next=28,U.a.get("https://placeunknown.herokuapp.com/api/v1/at-tjc/portal/info",{headers:{Authorization:a}});case 28:if(200==(d=t.sent).status){t.next=34;break}return n("setLoading",{loadingState:!1}),n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"}),t.abrupt("return");case 34:c=d.data.data,n("setPortalInfos",{portalInfos:c}),n("setLoading",{loadingState:!1}),t.next=45;break;case 39:return t.prev=39,t.t0=t.catch(4),n("setLoading",{loadingState:!1}),n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"}),t.abrupt("return");case 45:case"end":return t.stop()}},t,e,[[4,39]])}))()},initMypage:function(t){var e=t.commit;e("setLoading",{loadingState:!0});var n=k.a.get("token");U.a.get("https://placeunknown.herokuapp.com/api/v1/at-tjc/user",{headers:{Authorization:n}}).then(function(t){if(e("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status){var n=t.data.data;e("setProfile",{profile:n})}}).catch(function(t){})},updateProfile:function(t,e){var n=t.commit;n("setLoading",{loadingState:!0});var a=k.a.get("token"),r={};r.userId=e.userId,r.dob=e.dob,r.comment=e.comment;var o=[],s={type:"Email"};s.value=e.email,s.url=null,s.open=e.emailOpen,o.push(s);var i={type:"twitter"};i.value=e.twitter,i.url="https://twitter.com/"+e.twitter.replace("@",""),i.open=e.twitterOpen,o.push(i);var l={type:"facebook"};l.value=e.facebook,l.url=e.facebook,l.open=e.facebookOpen,o.push(l),r.contacts=o;for(var d=[],c=0;c<e.residences.length;c++)if(null!=e.residences[c].name&&""!=e.residences[c].name){var u={id:e.residences[c].id,name:e.residences[c].name,lat:e.residences[c].lat,lng:e.residences[c].lng,from:e.residences[c].from,to:e.residences[c].to,del:e.residences[c].del};d.push(u)}r.residences=d;var m=[];for(c=0;c<e.deps.length;c++){var p={value:e.deps[c].value,del:e.deps[c].del};m.push(p)}var v={from:e.univ.from,to:e.univ.to,dep:m};r.univ=v,console.log("リクエスト："+M()(r)),U.a.post("https://placeunknown.herokuapp.com/api/v1/at-tjc/user/myProfile",r,{headers:{Authorization:a}}).then(function(t){n("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status?(n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:"マイプロフィールを更新しました。"}),Ue.push({name:"MyPage"})):(n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:t.data.msg}))}).catch(function(t){n("setLoading",{loadingState:!1}),n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})})},updateResidence:function(t,e){var n=this,a=t.commit;return g()(f.a.mark(function t(){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a("setLoading",{loadingState:!0}),n,t.next=4,U.a.get("https://maps.googleapis.com/maps/api/geocode/json?address="+e.name+"&key=AIzaSyAurb2Yh0plll9zUoxBg3nBP0Gz5XiYSxM").then(function(t){if(a("setLoading",{loadingState:!1}),200==t.status&&"OK"==t.data.status){var n={index:e.index,name:e.name,lat:t.data.results[0].geometry.location.lat,lng:t.data.results[0].geometry.location.lng};e.save&&a("setResidence",n),a("setPosSingleMap",{pos:{lat:t.data.results[0].geometry.location.lat,lng:t.data.results[0].geometry.location.lng}})}else console.log("API呼出エラー"),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:'"'+e.name+'" が見つかりません。'})}).catch(function(t){a("setLoading",{loadingState:!1}),console.log("API exception"+t),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:'"'+e.name+'" が見つかりません。'})});case 4:case"end":return t.stop()}},t,n)}))()},initProfile:function(t,e){var n=t.commit;n("setLoading",{loadingState:!0});var a=k.a.get("token");U.a.get("https://placeunknown.herokuapp.com/api/v1/at-tjc/user/profile/"+e,{headers:{Authorization:a}}).then(function(t){if(n("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status){var e=t.data.data;n("setProfile",{profile:e})}else n("setLoading",{loadingState:!1}),n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:t.data.msg}),Ue.push({name:"Portal"})}).catch(function(t){n("setLoading",{loadingState:!1}),n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})})},CheckInvitationCode:function(t){var e=this,n=t.commit;return g()(f.a.mark(function t(){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n("setLoading",{loadingState:!0}),e,U.a.post("https://placeunknown.herokuapp.com/api/v1/at-tjc/registration/invitation",{invCode:e.getters.registration.invCode}).then(function(t){n("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status?n("setInvOk",{invOk:!0}):(Ue.push("/registration"),n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:t.data.msg}))}).catch(function(t){Ue.push("/registration"),n("setLoading",{loadingState:!1}),n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})});case 3:case"end":return t.stop()}},t,e)}))()},Registration:function(t){var e=this,n=t.commit;return g()(f.a.mark(function t(){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n("setLoading",{loadingState:!0}),e,U.a.post("https://placeunknown.herokuapp.com/api/v1/at-tjc/registration",{invCode:e.getters.registration.invCode,email:e.getters.registration.email,loginId:e.getters.registration.loginId,pw:e.getters.registration.pw,pwc:e.getters.registration.pwc}).then(function(t){n("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status||(Ue.push("/registration/input"),n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:t.data.msg}))}).catch(function(t){Ue.push("/registration/input"),n("setLoading",{loadingState:!1}),n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})});case 3:case"end":return t.stop()}},t,e)}))()},initMemberlist:function(t){var e=t.commit;e("setLoading",{loadingState:!0});var n=k.a.get("token");U.a.get("https://placeunknown.herokuapp.com/api/v1/at-tjc/user/members",{headers:{Authorization:n}}).then(function(t){if(e("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status){var n=t.data.data;e("setMembers",{members:n})}else e("setLoading",{loadingState:!1}),e("setShowModal",{modalState:!0}),e("setModalMsg",{modalMsg:t.data.msg}),Ue.push({name:"Portal"})}).catch(function(t){e("setLoading",{loadingState:!1}),e("setShowModal",{modalState:!0}),e("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})})},initEventlist:function(t,e){var n=t.commit;n("setLoading",{loadingState:!0});var a=k.a.get("token"),r="https://placeunknown.herokuapp.com/api/v1/at-tjc/event";e&&(r+="/all"),U.a.get(r,{headers:{Authorization:a}}).then(function(t){if(n("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status){var e=t.data.data;n("setEvents",{events:e})}else n("setLoading",{loadingState:!1}),n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:t.data.msg}),Ue.push({name:"Portal"})}).catch(function(t){n("setLoading",{loadingState:!1}),n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})})},initEvent:function(t,e){var n=this,a=t.commit;return g()(f.a.mark(function t(){var r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a("setLoading",{loadingState:!0}),r=k.a.get("token"),t.next=4,U.a.get("https://placeunknown.herokuapp.com/api/v1/at-tjc/event/"+e,{headers:{Authorization:r}}).then(function(t){if(a("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status){var e=t.data.data;a("setEvent",{event:e})}else a("setLoading",{loadingState:!1}),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:t.data.msg}),Ue.push({name:"Portal"})}).catch(function(t){a("setLoading",{loadingState:!1}),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})});case 4:case"end":return t.stop()}},t,n)}))()},initGuestEvent:function(t,e){var n=this,a=t.commit;return g()(f.a.mark(function t(){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a("setLoading",{loadingState:!0}),t.next=3,U.a.get("https://placeunknown.herokuapp.com/api/v1/at-tjc/guest/event/"+e).then(function(t){if(a("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status){var e=t.data.data;a("setEvent",{event:e})}else a("setLoading",{loadingState:!1}),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:t.data.msg}),Ue.push({name:"Portal"})}).catch(function(t){a("setLoading",{loadingState:!1}),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})});case 3:case"end":return t.stop()}},t,n)}))()},searchPos:function(t,e){var n=this,a=t.commit;return g()(f.a.mark(function t(){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a("setLoading",{loadingState:!0}),n,t.next=4,U.a.get("https://maps.googleapis.com/maps/api/geocode/json?address="+e+"&key=AIzaSyAurb2Yh0plll9zUoxBg3nBP0Gz5XiYSxM").then(function(t){a("setLoading",{loadingState:!1}),200==t.status&&"OK"==t.data.status?a("setPosSingleMap",{pos:{lat:t.data.results[0].geometry.location.lat,lng:t.data.results[0].geometry.location.lng}}):(console.log("API呼出エラー"),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:'"'+e+'" が見つかりません。'}))}).catch(function(t){a("setLoading",{loadingState:!1}),console.log("API exception"+t),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:'"'+e+'" が見つかりません。'})});case 4:case"end":return t.stop()}},t,n)}))()},regEvent:function(t,e){var n=t.commit;n("setLoading",{loadingState:!0});var a=k.a.get("token");U.a.post("https://placeunknown.herokuapp.com/api/v1/at-tjc/event",e,{headers:{Authorization:a}}).then(function(t){n("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status?(Ue.push("/events"),n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:"イベントを登録しました。"})):(n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:t.data.msg}))}).catch(function(t){n("setLoading",{loadingState:!1}),n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})})},editEvent:function(t,e){var n=t.commit;n("setLoading",{loadingState:!0});var a=k.a.get("token");U.a.post("https://placeunknown.herokuapp.com/api/v1/at-tjc/event/edit/"+e.no,e,{headers:{Authorization:a}}).then(function(t){n("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status?(Ue.push("/events"),n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:"イベントを更新しました。"})):(n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:t.data.msg}))}).catch(function(t){n("setLoading",{loadingState:!1}),n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})})},addGuest:function(t,e){var n=this,a=t.commit;return g()(f.a.mark(function t(){var r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a("setLoading",{loadingState:!0}),r=k.a.get("token"),n,t.next=5,U.a.post("https://placeunknown.herokuapp.com/api/v1/at-tjc/event/guest/"+e,null,{headers:{Authorization:r}}).then(function(t){a("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status?(a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"参加登録しました"})):(a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:t.data.msg}))}).catch(function(t){a("setLoading",{loadingState:!1}),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})});case 5:case"end":return t.stop()}},t,n)}))()},addOtGuest:function(t,e){var n=this,a=t.commit;return g()(f.a.mark(function t(){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a("setLoading",{loadingState:!0}),n,t.next=4,U.a.post("https://placeunknown.herokuapp.com/api/v1/at-tjc/guest/event/guest/"+e.eventNo,{name:e.name,gtoken:e.gtoken}).then(function(t){if(a("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status){var n="E"+e.eventNo;localStorage.setItem(n,e.gtoken),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"参加登録しました"})}else a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:t.data.msg})}).catch(function(t){a("setLoading",{loadingState:!1}),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})});case 4:case"end":return t.stop()}},t,n)}))()},removeGuest:function(t,e){var n=this,a=t.commit;return g()(f.a.mark(function t(){var r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a("setLoading",{loadingState:!0}),r=k.a.get("token"),n,t.next=5,U.a.post("https://placeunknown.herokuapp.com/api/v1/at-tjc/event/remove/"+e,null,{headers:{Authorization:r}}).then(function(t){a("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status?(a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"参加を取消しました"})):(a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:t.data.msg}))}).catch(function(t){a("setLoading",{loadingState:!1}),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})});case 5:case"end":return t.stop()}},t,n)}))()},removeOtGuest:function(t,e){var n=this,a=t.commit;return g()(f.a.mark(function t(){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a("setLoading",{loadingState:!0}),k.a.get("token"),n,t.next=5,U.a.post("https://placeunknown.herokuapp.com/api/v1/at-tjc/guest/event/remove/"+e.eventNo,{gtoken:e.gtoken}).then(function(t){if(a("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status){var n="E"+e.eventNo;localStorage.removeItem(n),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"参加を取消しました"})}else a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:t.data.msg})}).catch(function(t){a("setLoading",{loadingState:!1}),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})});case 5:case"end":return t.stop()}},t,n)}))()},cancelEvent:function(t,e){var n=this,a=t.commit;return g()(f.a.mark(function t(){var r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a("setLoading",{loadingState:!0}),r=k.a.get("token"),n,t.next=5,U.a.post("https://placeunknown.herokuapp.com/api/v1/at-tjc/event/cancel/"+e,null,{headers:{Authorization:r}}).then(function(t){a("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status?(Ue.push("/events"),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"イベントを取消しました"})):(a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:t.data.msg}))}).catch(function(t){a("setLoading",{loadingState:!1}),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})});case 5:case"end":return t.stop()}},t,n)}))()},addComment:function(t,e){var n=this,a=t.commit;return g()(f.a.mark(function t(){var r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a("setLoading",{loadingState:!0}),r=k.a.get("token"),n,t.next=5,U.a.post("https://placeunknown.herokuapp.com/api/v1/at-tjc/event/comment/"+e.eventNo,{comment:e.comment},{headers:{Authorization:r}}).then(function(t){a("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status?(a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"コメントを投稿しました"})):(a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:t.data.msg}))}).catch(function(t){a("setLoading",{loadingState:!1}),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})});case 5:case"end":return t.stop()}},t,n)}))()},addGuestComment:function(t,e){var n=this,a=t.commit;return g()(f.a.mark(function t(){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a("setLoading",{loadingState:!0}),n,t.next=4,U.a.post("https://placeunknown.herokuapp.com/api/v1/at-tjc/guest/event/comment/"+e.eventNo,{comment:e.comment,name:e.name}).then(function(t){a("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status?(a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"コメントを投稿しました"})):(a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:t.data.msg}))}).catch(function(t){a("setLoading",{loadingState:!1}),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})});case 4:case"end":return t.stop()}},t,n)}))()},CheckMaintenance:function(t){var e=this,n=t.commit;return g()(f.a.mark(function t(){var a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n("setLoading",{loadingState:!0}),a=k.a.get("token"),t.next=4,U.a.get("https://placeunknown.herokuapp.com/api/v1/at-tjc/maintenance",{headers:{Authorization:a}}).then(function(t){if(n("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status){var e=t.data.data;n("setMaintenance",{maintenance:e})}else{n("setMaintenance",{maintenance:e={flag:!0,from:null,to:null,title:"Service Unavailable",desc:"<p style='margin:10px 0px;'>申し訳ございません。<br>ただいま一時的にシステムが応答不能となっています。</p><p style='margin:10px 0px;'>時間をおいて再度お試しください。</p><p style='margin:10px 0px;'>ご利用の皆様には、大変ご迷惑をおかけしますが、<br> 何卒ご了承のほどよろしくお願い致します。 </p>"}})}}).catch(function(t){n("setLoading",{loadingState:!1});n("setMaintenance",{maintenance:{flag:!0,from:null,to:null,title:"Service Unavailable",desc:"<p style='margin:10px 0px;'>申し訳ございません。<br>ただいま一時的にシステムが応答不能となっています。</p><p style='margin:10px 0px;'>時間をおいて再度お試しください。</p><p style='margin:10px 0px;'>ご利用の皆様には、大変ご迷惑をおかけしますが、<br> 何卒ご了承のほどよろしくお願い致します。 </p>"}})});case 4:case"end":return t.stop()}},t,e)}))()},GetAdminMaintenance:function(t){var e=this,n=t.commit;return g()(f.a.mark(function t(){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n("setLoading",{loadingState:!0}),t.next=3,U.a.get("https://placeunknown.herokuapp.com/api/v1/at-tjc/maintenance?mode=1").then(function(t){if(n("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status){var e=t.data.data;n("setAdminMaintenance",{maintenance:e})}}).catch(function(t){n("setLoading",{loadingState:!1})});case 3:case"end":return t.stop()}},t,e)}))()},GetAdminLoginUsers:function(t){var e=this,n=t.commit;return g()(f.a.mark(function t(){var a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n("setLoading",{loadingState:!0}),a=k.a.get("token"),e,t.next=5,U.a.get("https://placeunknown.herokuapp.com/api/v1/at-tjc/admin/loginUsers",{headers:{Authorization:a}}).then(function(t){if(n("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status){var e=t.data.data;n("setAdminLoginUsers",{loginUsers:e})}}).catch(function(t){n("setLoading",{loadingState:!1})});case 5:case"end":return t.stop()}},t,e)}))()},UpdateAdminMaintenance:function(t){var e=t.commit;console.log(this.getters.adminMaintenance.title),e("setLoading",{loadingState:!0});var n=k.a.get("token");U.a.post("https://placeunknown.herokuapp.com/api/v1/at-tjc/admin/maintenance",this.getters.adminMaintenance,{headers:{Authorization:n}}).then(function(t){e("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status?(e("setShowModal",{modalState:!0}),e("setModalMsg",{modalMsg:"メンテナンス設定を更新しました。"})):(e("setShowModal",{modalState:!0}),e("setModalMsg",{modalMsg:t.data.msg}))}).catch(function(t){e("setLoading",{loadingState:!1}),e("setShowModal",{modalState:!0}),e("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})})},GetAdminInfos:function(t){var e=this,n=t.commit;return g()(f.a.mark(function t(){var a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n("setLoading",{loadingState:!0}),a=k.a.get("token"),e,t.next=5,U.a.get("https://placeunknown.herokuapp.com/api/v1/at-tjc/admin/infolist",{headers:{Authorization:a}}).then(function(t){if(n("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status){var e=t.data.data;n("setAdminInfos",{infos:e})}}).catch(function(t){n("setLoading",{loadingState:!1}),n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})});case 5:case"end":return t.stop()}},t,e)}))()},GetAdminInfo:function(t,e){var n=this,a=t.commit;return g()(f.a.mark(function t(){var r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a("setLoading",{loadingState:!0}),r=k.a.get("token"),n,t.next=5,U.a.get("https://placeunknown.herokuapp.com/api/v1/at-tjc/admin/info/"+e,{headers:{Authorization:r}}).then(function(t){if(a("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status){var e=t.data.data;a("setAdminInfo",{info:e})}}).catch(function(t){a("setLoading",{loadingState:!1}),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})});case 5:case"end":return t.stop()}},t,n)}))()},UpdateAdminInfo:function(t,e){var n=this,a=t.commit;return g()(f.a.mark(function t(){var r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a("setLoading",{loadingState:!0}),r=k.a.get("token"),n,t.next=5,U.a.post("https://placeunknown.herokuapp.com/api/v1/at-tjc/admin/info/",e,{headers:{Authorization:r}}).then(function(t){a("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status?(a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"Informationを更新しました。"})):(a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:t.data.msg}))}).catch(function(t){a("setLoading",{loadingState:!1}),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})});case 5:case"end":return t.stop()}},t,n)}))()},RegAdminInfo:function(t,e){var n=this,a=t.commit;return g()(f.a.mark(function t(){var r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a("setLoading",{loadingState:!0}),r=k.a.get("token"),n,t.next=5,U.a.post("https://placeunknown.herokuapp.com/api/v1/at-tjc/admin/regInfo",e,{headers:{Authorization:r}}).then(function(t){a("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status?(Ue.push("/admin/"),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"Informationを登録しました。"})):(a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:t.data.msg}))}).catch(function(t){a("setLoading",{loadingState:!1}),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})});case 5:case"end":return t.stop()}},t,n)}))()},DelAdminInfo:function(t,e){var n=this,a=t.commit;return g()(f.a.mark(function t(){var r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a("setLoading",{loadingState:!0}),r=k.a.get("token"),n,t.next=5,U.a.post("https://placeunknown.herokuapp.com/api/v1/at-tjc/admin/delInfo/"+e,null,{headers:{Authorization:r}}).then(function(t){a("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status?(Ue.push("/admin/"),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"Informationを削除しました。"})):(a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:t.data.msg}))}).catch(function(t){a("setLoading",{loadingState:!1}),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})});case 5:case"end":return t.stop()}},t,n)}))()},GetAdminInvCode:function(t){var e=this,n=t.commit;return g()(f.a.mark(function t(){var a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n("setLoading",{loadingState:!0}),a=k.a.get("token"),e,t.next=5,U.a.get("https://placeunknown.herokuapp.com/api/v1/at-tjc/admin/invCode",{headers:{Authorization:a}}).then(function(t){if(n("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status){var e=t.data.data;n("setAdminInvCode",e)}}).catch(function(t){n("setLoading",{loadingState:!1})});case 5:case"end":return t.stop()}},t,e)}))()},GetComments:function(t,e){var n=this,a=t.commit;return g()(f.a.mark(function t(){var r,o;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a("setLoading",{loadingState:!0}),r=k.a.get("token"),n,o="",o=null==e?"https://placeunknown.herokuapp.com/api/v1/at-tjc/portal/comments":"https://placeunknown.herokuapp.com/api/v1/at-tjc/portal/comments?limit="+e.toString(),t.next=7,U.a.get(o,{headers:{Authorization:r}}).then(function(t){if(a("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status){var e=t.data.data;a("setComments",{comments:e})}}).catch(function(t){a("setLoading",{loadingState:!1}),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})});case 7:case"end":return t.stop()}},t,n)}))()},AddTLcomment:function(t,e){var n=this,a=t.commit;return g()(f.a.mark(function t(){var r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e.comment){t.next=4;break}return a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"コメントを入力してください。"}),t.abrupt("return");case 4:return a("setLoading",{loadingState:!0}),r=k.a.get("token"),n,t.next=9,U.a.post("https://placeunknown.herokuapp.com/api/v1/at-tjc/portal/comment",{comment:e.comment,twitter:e.twitter},{headers:{Authorization:r}}).then(function(t){a("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status?(a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"コメントを追加しました。"})):(a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:t.data.msg}))}).catch(function(t){a("setLoading",{loadingState:!1}),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})});case 9:case"end":return t.stop()}},t,n)}))()},DelComment:function(t,e){var n=this,a=t.commit;return g()(f.a.mark(function t(){var r,o;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a("setLoading",{loadingState:!0}),r=k.a.get("token"),n,o="",o="https://placeunknown.herokuapp.com/api/v1/at-tjc/portal/removeCmt/"+e,t.next=7,U.a.post(o,null,{headers:{Authorization:r}}).then(function(t){a("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status?(a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"コメントを削除しました。"})):(a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:t.data.msg}))}).catch(function(t){a("setLoading",{loadingState:!1}),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})});case 7:case"end":return t.stop()}},t,n)}))()},sendInquiry:function(t,e){var n=this,a=t.commit;return g()(f.a.mark(function t(){var r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a("setLoading",{loadingState:!0}),r=k.a.get("token"),n,t.next=5,U.a.post("https://placeunknown.herokuapp.com/api/v1/at-tjc/user/inquiry",e,{headers:{Authorization:r}}).then(function(t){a("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status?(a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"お問い合わせ内容を送信いたしました。"})):(a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:t.data.msg}))}).catch(function(t){a("setLoading",{loadingState:!1}),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})});case 5:case"end":return t.stop()}},t,n)}))()},passwordReminder:function(t,e){var n=t.commit;if(null==e||""==e)return n("setShowModal",{modalState:!0}),void n("setModalMsg",{modalMsg:"登録メールアドレスを入力してください。"});n("setLoading",{loadingState:!0});k.a.get("token");U.a.post("https://placeunknown.herokuapp.com/api/v1/at-tjc/passwordreminder/input",e,null).then(function(t){n("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status?(n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:"登録メールアドレスへパスワード再設定用URLを送信いたしました。<br>メール本文に記載されたURLからパスワードを再設定してください。"}),Ue.push("/")):(n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:t.data.msg}))}).catch(function(t){n("setLoading",{loadingState:!1}),n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})})},resetPassword:function(t,e){var n=t.commit;if(null==e||""==e)return n("setShowModal",{modalState:!0}),void n("setModalMsg",{modalMsg:"必須項目を入力してください。"});n("setLoading",{loadingState:!0});U.a.post("https://placeunknown.herokuapp.com/api/v1/at-tjc/passwordreminder/reset",e,null).then(function(t){n("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status?(n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:"パスワードを変更いたしました。"}),Ue.push("/")):(n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:t.data.msg}))}).catch(function(t){n("setLoading",{loadingState:!1}),n("setShowModal",{modalState:!0}),n("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})})},invitationUser:function(t,e){var n=this,a=t.commit;return g()(f.a.mark(function t(){var r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e&&""!=e.mail){t.next=4;break}return a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"必須項目を入力してください。"}),t.abrupt("return");case 4:a("setLoading",{loadingState:!0}),n,r=k.a.get("token"),U.a.post("https://placeunknown.herokuapp.com/api/v1/at-tjc/user/invitation",e,{headers:{Authorization:r}}).then(function(t){a("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status?(a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"招待メールを送信しました。"})):(a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:t.data.msg}))}).catch(function(t){a("setLoading",{loadingState:!1}),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})});case 8:case"end":return t.stop()}},t,n)}))()},regEntry:function(t,e){var n=this,a=t.commit;return g()(f.a.mark(function t(){var r,o,s,i,l,d,c,u;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a("setLoading",{loadingState:!0}),r=k.a.get("token"),n,null==e.imgFile){t.next=27;break}return o=/(.*)(?:\.([^.]+$))/,s=new Date,i=e.imgFile.name.match(o)[1],l=e.imgFile.name.match(o)[2],i=i+"_"+s.getTime()+"."+l,t.next=11,n.dispatch("getCompressImageFileAsync",e.imgFile);case 11:if(null!=(d=t.sent)){t.next=14;break}return t.abrupt("return",null);case 14:return(c=new FormData).append("file",d),c.append("path","at-tjc%2Fentry"),c.append("name",i),t.next=20,U.a.post("https://placeunknown.herokuapp.com/api/v1/at-tjc/entry/img",c,{headers:{Authorization:r}});case 20:if(200==(u=t.sent).status&&"S"==u.data.status){t.next=26;break}return a("setLoading",{loadingState:!1}),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"}),t.abrupt("return");case 26:e.imgUrl=u.data.data;case 27:U.a.post("https://placeunknown.herokuapp.com/api/v1/at-tjc/entry",e,{headers:{Authorization:r}}).then(function(t){a("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status?(Ue.push("/entries"),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"エントリを投稿しました。"})):(a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:t.data.msg}))}).catch(function(t){a("setLoading",{loadingState:!1}),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})});case 28:case"end":return t.stop()}},t,n)}))()},updateEntry:function(t,e){var n=this,a=t.commit;return g()(f.a.mark(function t(){var r,o,s,i,l,d,c,u;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a("setLoading",{loadingState:!0}),r=k.a.get("token"),n,null==e.imgFile){t.next=27;break}return o=/(.*)(?:\.([^.]+$))/,s=new Date,i=e.imgFile.name.match(o)[1],l=e.imgFile.name.match(o)[2],i=i+"_"+s.getTime()+"."+l,t.next=11,n.dispatch("getCompressImageFileAsync",e.imgFile);case 11:if(null!=(d=t.sent)){t.next=14;break}return t.abrupt("return",null);case 14:return(c=new FormData).append("file",d),c.append("path","at-tjc%2Fentry"),c.append("name",i),t.next=20,U.a.post("https://placeunknown.herokuapp.com/api/v1/at-tjc/entry/img",c,{headers:{Authorization:r}});case 20:if(200==(u=t.sent).status&&"S"==u.data.status){t.next=26;break}return a("setLoading",{loadingState:!1}),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"}),t.abrupt("return");case 26:e.imgUrl=u.data.data;case 27:U.a.post("https://placeunknown.herokuapp.com/api/v1/at-tjc/entry/edit/"+e.no,e,{headers:{Authorization:r}}).then(function(t){a("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status?(Ue.push("/entries"),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"エントリを更新しました。"})):(a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:t.data.msg}))}).catch(function(t){a("setLoading",{loadingState:!1}),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})});case 28:case"end":return t.stop()}},t,n)}))()},initEntry:function(t,e){var n=this,a=t.commit;return g()(f.a.mark(function t(){var r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a("setLoading",{loadingState:!0}),r=k.a.get("token"),t.next=4,U.a.get("https://placeunknown.herokuapp.com/api/v1/at-tjc/entry/"+e,{headers:{Authorization:r}}).then(function(t){if(a("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status){var e=t.data.data;a("setEntry",e)}else a("setLoading",{loadingState:!1}),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:t.data.msg}),Ue.push({name:"Portal"})}).catch(function(t){a("setLoading",{loadingState:!1}),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})});case 4:case"end":return t.stop()}},t,n)}))()},initEntrylist:function(t){var e=t.commit;e("setLoading",{loadingState:!0});var n=k.a.get("token");U.a.get("https://placeunknown.herokuapp.com/api/v1/at-tjc/entry",{headers:{Authorization:n}}).then(function(t){if(e("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status){var n=t.data.data;e("setEntries",n)}else e("setLoading",{loadingState:!1}),e("setShowModal",{modalState:!0}),e("setModalMsg",{modalMsg:t.data.msg}),Ue.push({name:"Portal"})}).catch(function(t){e("setLoading",{loadingState:!1}),e("setShowModal",{modalState:!0}),e("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})})},delEntry:function(t,e){var n=this,a=t.commit;return g()(f.a.mark(function t(){var r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a("setLoading",{loadingState:!0}),r=k.a.get("token"),n,t.next=5,U.a.post("https://placeunknown.herokuapp.com/api/v1/at-tjc/entry/delete/"+e,null,{headers:{Authorization:r}}).then(function(t){a("setLoading",{loadingState:!1}),200==t.status&&"S"==t.data.status?(Ue.push("/entries"),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"エントリを削除しました"})):(a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:t.data.msg}))}).catch(function(t){a("setLoading",{loadingState:!1}),a("setShowModal",{modalState:!0}),a("setModalMsg",{modalMsg:"@TJCサービスから応答がありません。<br>時間をおいてから再度お試しください。"})});case 5:case"end":return t.stop()}},t,n)}))()},getCompressImageFileAsync:function(t,e){var n=this;t.commit;return g()(f.a.mark(function t(){var a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={maxSizeMB:1,maxWidthOrHeight:1200},t.prev=1,t.next=4,Object(P.a)(e,a);case 4:return t.abrupt("return",t.sent);case 7:throw t.prev=7,t.t0=t.catch(1),console.error("getCompressImageFileAsync is error",t.t0),t.t0;case 11:case"end":return t.stop()}},t,n,[[1,7]])}))()}}}),A={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("h1",[t._v(t._s(t.msg))]),t._v(" "),n("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),n("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[n("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n        Core Docs\n      ")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n        Forum\n      ")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n        Community Chat\n      ")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n        Twitter\n      ")])]),t._v(" "),n("br"),t._v(" "),n("li",[n("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n        Docs for This Template\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};n("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},A,!1,function(t){n("1uuo")},"data-v-d8ec41bc",null).exports;var I={name:"TimeLineComp",props:["limit"],computed:{comments:function(){return this.$store.getters.comments}},created:function(){this.$store.dispatch("GetComments",this.limit)},methods:{addComment:function(){var t=this;return g()(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("AddTLcomment",t.input);case 2:return e.next=4,t.$store.dispatch("GetComments",t.limit);case 4:t.input.comment=null;case 5:case"end":return e.stop()}},e,t)}))()},delComment:function(t){var e=this;return g()(f.a.mark(function n(){return f.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$store.dispatch("DelComment",t);case 2:return n.next=4,e.$store.dispatch("GetComments",e.limit);case 4:case"end":return n.stop()}},n,e)}))()}},data:function(){return{input:{comment:null,twitter:!1}}}},N={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.input.comment,expression:"input.comment"}],staticStyle:{"margin-bottom":"20px"},attrs:{type:"text"},domProps:{value:t.input.comment},on:{input:function(e){e.target.composing||t.$set(t.input,"comment",e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.input.twitter,expression:"input.twitter"}],staticStyle:{width:"unset",height:"unset"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.input.twitter)?t._i(t.input.twitter,null)>-1:t.input.twitter},on:{change:function(e){var n=t.input.twitter,a=e.target,r=!!a.checked;if(Array.isArray(n)){var o=t._i(n,null);a.checked?o<0&&t.$set(t.input,"twitter",n.concat([null])):o>-1&&t.$set(t.input,"twitter",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.input,"twitter",r)}}}),t._m(0),t._v(" "),n("div",{staticClass:"buttonBase",staticStyle:{"margin-top":"25px"},on:{click:t.addComment}},[t._v("コメント追加")]),t._v(" "),t._l(t.comments,function(e,a){return n("div",{key:a,staticClass:"comments",attrs:{"data-v-tl":""}},[n("p",[n("span",{staticStyle:{"font-size":"90%"}},[n("router-link",{attrs:{to:"/profile/"+e.user.userNo}},[t._v(t._s(e.user.name))]),t._v(" "+t._s(e.footer))],1)]),t._v(" "),n("span",[t._v(t._s(e.body)+" "),e.editable?n("a",{staticStyle:{"font-size":"90%"},on:{click:function(n){return t.delComment(e.cmtId)}}},[t._v("削除")]):t._e()])])})],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",[e("a",{attrs:{href:"https://twitter.com/tjc_ob_app",target:"_blank"}},[this._v("@TJC twitter")]),this._v("へ投稿する")])}]};var C=n("VU/8")(I,N,!1,function(t){n("5mf/")},"data-v-e163e8fa",null).exports,F={name:"Portal",components:{TimeLineComp:C},data:function(){return{map:null,marker:[],infoWindow:[],newsData:[],infoMsgs:this.$store.getters.portalInfos}},mounted:function(){console.log("info:portal描画"),this.newsData=[];for(var t=0;t<this.$store.getters.portalNews.length;t++){var e={type:this.$store.getters.portalNews[t].type,userName:this.$store.getters.portalNews[t].userName,userUrl:"/profile/"+this.$store.getters.portalNews[t].userNo,eventName:this.$store.getters.portalNews[t].eventName+"（"+this.$store.getters.portalNews[t].date+"）",eventUrl:"/events/detail/"+this.$store.getters.portalNews[t].eventNo,str:"",str2:"",creationtime:this.$store.getters.portalNews[t].creationtime};"1"==this.$store.getters.portalNews[t].type?e.str=" さんが、最寄に "+this.$store.getters.portalNews[t].posName+" を追加しました。":"2"==this.$store.getters.portalNews[t].type&&(e.str="さんが、",null!=this.$store.getters.portalNews[t].posName&&""!=this.$store.getters.portalNews[t].posName&&(e.str+=this.$store.getters.portalNews[t].posName+" に "),e.str2=" をイベント追加しました。"),this.newsData.push(e)}var n=new google.maps.LatLng({lat:35.4644342,lng:136.7389885});this.map=new google.maps.Map(document.getElementById("map"),{center:n,zoom:7});for(t=0;t<this.$store.getters.portalMarkers.length;t++){var a=new google.maps.LatLng({lat:this.$store.getters.portalMarkers[t].lat,lng:this.$store.getters.portalMarkers[t].lng});this.marker[t]=new google.maps.Marker({position:a,map:this.map});var r=location.href+"profile/"+this.$store.getters.portalMarkers[t].userNo,o=location.href+"events/detail/"+this.$store.getters.portalMarkers[t].eventNo;"1"==this.$store.getters.portalMarkers[t].type?this.infoWindow[t]=new google.maps.InfoWindow({content:'<div class="mapInfo"><p class="markerTitle">'+this.$store.getters.portalMarkers[t].name+'</p><ul><li><a href="'+r+'">'+this.$store.getters.portalMarkers[t].userName+"</a> さんの最寄</li></ul></div>"}):"2"==this.$store.getters.portalMarkers[t].type&&(this.infoWindow[t]=new google.maps.InfoWindow({content:'<div class="mapInfo"><p class="markerTitle">'+this.$store.getters.portalMarkers[t].name+'</p><ul><li>オーナー：<a href="'+r+'">'+this.$store.getters.portalMarkers[t].userName+"</a> さん</li><li>日時："+this.$store.getters.portalMarkers[t].date+'</li><li><a href="'+o+'">イベント詳細</a></li></ul></div>'})),this.markerEvent(t)}},methods:{markerEvent:function(t){var e=this;this.marker[t].addListener("click",function(){e.infoWindow[t].open(e.map,e.marker[t])})}}},$={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("div",{attrs:{id:"map"}}),t._v(" "),n("div",{attrs:{id:"mapInfo"}},[t.infoMsgs.length>0?n("h2",{attrs:{"data-v-portal":""}},[t._v("Information")]):t._e(),t._v(" "),t._l(t.infoMsgs,function(e,a){return n("div",{key:a},[n("h3",{attrs:{"data-v-portal":""},domProps:{innerHTML:t._s(e.title)}}),t._v(" "),n("div",{staticClass:"info",attrs:{"data-v-portal":""},domProps:{innerHTML:t._s(t.$sanitize(e.body))}})])}),t._v(" "),t.infoMsgs.length>0?n("hr"):t._e(),t._v(" "),n("h2",{attrs:{"data-v-portal":""}},[t._v("What's new")]),t._v(" "),n("ul",t._l(t.newsData,function(e,a){return n("li",{key:a},["1"==e.type?[n("router-link",{attrs:{to:e.userUrl}},[t._v(t._s(e.userName))]),t._v(t._s(e.str)+" "+t._s(e.creationtime))]:t._e(),t._v(" "),"2"==e.type?[n("router-link",{attrs:{to:e.userUrl}},[t._v(t._s(e.userName))]),t._v(t._s(e.str)+" "),n("router-link",{attrs:{to:e.eventUrl}},[t._v(t._s(e.eventName))]),t._v(" "+t._s(e.str2)+" "+t._s(e.creationtime))]:t._e()],2)}),0),t._v(" "),n("div",{staticStyle:{margin:"40px 0px"}},[n("h2",{attrs:{"data-v-portal":""}},[t._v("Comment TimeLine")]),t._v(" "),n("TimeLineComp",{attrs:{limit:5}}),t._v(" "),n("p",{staticStyle:{"text-align":"center",margin:"10px 0px"}},[n("router-link",{attrs:{to:"/timeline"}},[t._v("Read More")])],1)],1)],2)])},staticRenderFns:[]};var L=n("VU/8")(F,$,!1,function(t){n("+U6P")},"data-v-29122ca3",null).exports,E={name:"InputInvitation",data:function(){return{invCode:""}},created:function(){var t=this.$route.query;console.log(M()(t)),null!=t&&null!=t.invCode&&(this.invCode=t.invCode)},methods:{toInput:function(){this.$store.dispatch("setInvCode",this.invCode),this.$router.push({name:"reg-input"})}}},G={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("article",[n("p",[t._v("招待コードを入力してください。")]),t._v(" "),n("p",[t._v("招待コードをお持ちでない方は、OB会WEBページから発行してください。")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.invCode,expression:"invCode"}],attrs:{type:"text",name:"invitationCd",placeholder:"Invitation Code","data-v-registration":""},domProps:{value:t.invCode},on:{input:function(e){e.target.composing||(t.invCode=e.target.value)}}}),t._v(" "),n("div",{staticClass:"buttonBase",on:{click:t.toInput}},[t._v("次へ")])])},staticRenderFns:[]},D=n("VU/8")(E,G,!1,null,null,null).exports,T={render:function(){var t=this.$createElement;return(this._self._c||t)("textarea",{staticClass:"terms",attrs:{readonly:"",rows:"15","data-v-terms":""}},[this._v("<利用規約>\n\nこの利用規約（以下、「本規約」といいます。）は、@TJC（以下、「当サイト」といいます。）がこのウェブサイト上で提供するサービス（以下、「本サービス」といいます。）の利用条件を定めるものです。登録ユーザーの皆さま（以下、「ユーザー」といいます。）には、本規約に従って、本サービスをご利用いただきます。\n\n第1条（適用）\n本規約は、ユーザーと当サイトとの間の本サービスの利用に関わる一切の関係に適用されるものとします。\n\n第2条（利用登録）\n1. 本サービスにおいては、登録希望者が本規約に同意の上、当サイトの定める方法によって利用登録を申請し、当サイトがこれを承認することによって、利用登録が完了するものとします。\n2. 当サイトは、利用登録の申請者に以下の事由があると判断した場合、利用登録の申請を承認しないことがあり、その理由については一切の開示義務を負わないものとします。\n 1.利用登録の申請に際して虚偽の事項を届け出た場合\n 2. 本規約に違反したことがある者からの申請である場合\n 3 .その他、当サイトが利用登録を相当でないと判断した場合\n\n第3条（ユーザーIDおよびパスワードの管理）\n1. ユーザーは、自己の責任において、本サービスのユーザーIDおよびパスワードを適切に管理するものとします。\n2. ユーザーは、いかなる場合にも、ユーザーIDおよびパスワードを第三者に譲渡または貸与し、もしくは第三者と共用することはできません。当サイトは、ユーザーIDとパスワードの組み合わせが登録情報と一致してログインされた場合には、そのユーザーIDを登録しているユーザー自身による利用とみなします。\n3. ユーザーID及びパスワードが第三者によって使用されたことによって生じた損害は、当サイトに故意又は重大な過失がある場合を除き、当サイトは一切の責任を負わないものとします。\n\n第4条（禁止事項）\nユーザーは、本サービスの利用にあたり、以下の行為をしてはなりません。\n1. 法令または公序良俗に違反する行為\n2. 犯罪行為に関連する行為\n3. 本サービスの内容等、本サービスに含まれる著作権、商標権ほか知的財産権を侵害する行為\n4. 当サイト、ほかのユーザー、またはその他第三者のサーバーまたはネットワークの機能を破壊したり、妨害したりする行為\n5. 本サービスによって得られた情報を商業的に利用する行為\n6. 当サイトのサービスの運営を妨害するおそれのある行為\n5. 不正アクセスをし、またはこれを試みる行為\n6. 他のユーザーに関する個人情報等を収集または蓄積する行為\n7. 不正な目的を持って本サービスを利用する行為\n8. 本サービスの他のユーザーまたはその他の第三者に不利益、損害、不快感を与える行為\n9. 他のユーザーに成りすます行為\n10. 当サイトが許諾しない本サービス上での宣伝、広告、勧誘、または営業行為\n11. 面識のない異性との出会いを目的とした行為\n12. 当サイトのサービスに関連して、反社会的勢力に対して直接または間接に利益を供与する行為\n13. その他、当サイトが不適切と判断する行為\n\n第5条（本サービスの提供の停止等）\n1. 当サイトは、以下のいずれかの事由があると判断した場合、ユーザーに事前に通知することなく本サービスの全部または一部の提供を停止または中断することができるものとします。\n 1. 本サービスにかかるコンピュータシステムの保守点検または更新を行う場合\n 2. 地震、落雷、火災、停電または天災などの不可抗力により、本サービスの提供が困難となった場合\n 3. コンピュータまたは通信回線等が事故により停止した場合\n 4. その他、当サイトが本サービスの提供が困難と判断した場合\n2. 当サイトは、本サービスの提供の停止または中断により、ユーザーまたは第三者が被ったいかなる不利益または損害についても、一切の責任を負わないものとします。\n\n第6条（利用制限および登録抹消）\n1. 当サイトは、ユーザーが以下のいずれかに該当する場合には、事前の通知なく、ユーザーに対して、本サービスの全部もしくは一部の利用を制限し、またはユーザーとしての登録を抹消することができるものとします。\n 1. 本規約のいずれかの条項に違反した場合\n 2. 登録事項に虚偽の事実があることが判明した場合\n 3. 当サイトからの連絡に対し、一定期間返答がない場合\n 4. 本サービスについて、最終の利用から一定期間利用がない場合\n 5. その他、当サイトが本サービスの利用を適当でないと判断した場合\n2. 当サイトは、本条に基づき当サイトが行った行為によりユーザーに生じた損害について、一切の責任を負いません。\n\n第7条（退会）\nユーザーは、当サイトの定める退会手続により、本サービスから退会できるものとします。\n\n第8条（保証の否認および免責事項）\n1. 当サイトは、本サービスに事実上または法律上の瑕疵（安全性、信頼性、正確性、完全性、有効性、特定の目的への適合性、セキュリティなどに関する欠陥、エラーやバグ、権利侵害などを含みます。）がないことを明示的にも黙示的にも保証しておりません。\n2. 当サイトは、本サービスに起因してユーザーに生じたあらゆる損害について一切の責任を負いません。ただし、本サービスに関する当サイトとユーザーとの間の契約（本規約を含みます。）が消費者契約法に定める消費者契約となる場合、この免責規定は適用されません。\n3. 前項ただし書に定める場合であっても、当サイトは、当サイトの過失（重過失を除きます。）による債務不履行または不法行為によりユーザーに生じた損害のうち特別な事情から生じた損害（当サイトまたはユーザーが損害発生につき予見し、または予見し得た場合を含みます。）について一切の責任を負いません。また、当サイトの過失（重過失を除きます。）による債務不履行または不法行為によりユーザーに生じた損害の賠償は、ユーザーから当該損害が発生した月に受領した利用料の額を上限とします。\n4. 当サイトは、本サービスに関して、ユーザーと他のユーザーまたは第三者との間において生じた取引、連絡または紛争等について一切責任を負いません。\n\n第9条（サービス内容の変更等）\n当サイトは、ユーザーに通知することなく、本サービスの内容を変更しまたは本サービスの提供を中止することができるものとし、これによってユーザーに生じた損害について一切の責任を負いません。\n\n第10条（利用規約の変更）\n当サイトは、必要と判断した場合には、ユーザーに通知することなくいつでも本規約を変更することができるものとします。なお、本規約の変更後、本サービスの利用を開始した場合には、当該ユーザーは変更後の規約に同意したものとみなします。\n\n第11条（個人情報の取扱い）\n当サイトは、本サービスの利用によって取得する個人情報については、下記 当サイトの「プライバシーポリシー」に従い適切に取り扱うものとします。\n 1. 本サービスが回収した個人情報は、本サービス運営のためのみに利用します。\n 2. 本サービスが回収した個人情報は、ユーザーが設定した公開レベルに準じた範囲のみ本サービス上で公開し、他 ユーザーの事前同意なしに、個人情報の開示や第三者への提供をいたしません。\n 3. ユーザーから個人情報の開示・訂正・削除・利用停止等を求められた場合は、速やかに適切な措置を講じます。\n\n第12条（通知または連絡）\nユーザーと当サイトとの間の通知または連絡は、当サイトの定める方法によって行うものとします。当サイトは,ユーザーから,当サイトが別途定める方式に従った変更届け出がない限り,現在登録されている連絡先が有効なものとみなして当該連絡先へ通知または連絡を行い,これらは,発信時にユーザーへ到達したものとみなします。\n\n第13条（権利義務の譲渡の禁止）\nユーザーは、当サイトの書面による事前の承諾なく、利用契約上の地位または本規約に基づく権利もしくは義務を第三者に譲渡し、または担保に供することはできません。\n\n第14条（準拠法・裁判管轄）\n1. 本規約の解釈にあたっては、日本法を準拠法とします。\n2. 本サービスに関して紛争が生じた場合には、当サイトの本店所在地を管轄する裁判所を専属的合意管轄とします。\n\n附則\n1. 本規約に対するお問い合わせ先\n    std.ink.system@gmail.com\n2. 本規約は2019年7月21日より施行する。\n\n以上\n\n@TJC管理者：Shunya Fujigaki")])},staticRenderFns:[]};var R=n("VU/8")({name:"Terms"},T,!1,function(t){n("TDKC")},"data-v-1821d472",null).exports,B={name:"RegInput",data:function(){return{registration:{loginId:null,email:null,pw:null,pwc:null}}},components:{Terms:R},methods:{toRegister:function(){this.$store.dispatch("setRegistration",this.registration),this.$router.push({name:"reg-comp"})}}},H={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("article",[n("table",{attrs:{"data-v-regInput":""}},[n("tr",[n("td",[t._v("Login ID")]),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.registration.loginId,expression:"registration.loginId"}],attrs:{type:"text",name:"id",placeholder:"半角英数字記号 必須","data-v-regInput":""},domProps:{value:t.registration.loginId},on:{input:function(e){e.target.composing||t.$set(t.registration,"loginId",e.target.value)}}})])]),t._v(" "),n("tr",[n("td",[t._v("Email")]),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.registration.email,expression:"registration.email"}],attrs:{type:"email",name:"email",placeholder:"半角英数字記号 必須","data-v-regInput":""},domProps:{value:t.registration.email},on:{input:function(e){e.target.composing||t.$set(t.registration,"email",e.target.value)}}})])]),t._v(" "),n("tr",[n("td",[t._v("パスワード")]),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.registration.pw,expression:"registration.pw"}],attrs:{type:"password",name:"pw",placeholder:"半角英数字記号 必須","data-v-regInput":""},domProps:{value:t.registration.pw},on:{input:function(e){e.target.composing||t.$set(t.registration,"pw",e.target.value)}}})])]),t._v(" "),n("tr",[n("td",[t._v("パスワード(再確認)")]),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.registration.pwc,expression:"registration.pwc"}],attrs:{type:"password",name:"pw-re",placeholder:"半角英数字記号 必須","data-v-regInput":""},domProps:{value:t.registration.pwc},on:{input:function(e){e.target.composing||t.$set(t.registration,"pwc",e.target.value)}}})])])]),t._v(" "),t._m(0),t._v(" "),n("Terms"),t._v(" "),n("div",{staticClass:"buttonBase",on:{click:t.toRegister}},[t._v("規約に同意して登録する")])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"info",attrs:{"data-v-regInput":""}},[e("p",[this._v("Login IDは、プロフィール名となります。"),e("br"),this._v("他のユーザーからわかりやすい名前の設定をおすすめします（登録後、変更可能）。")]),this._v(" "),e("p",[this._v("Emailの公開・非公開設定は、プロフィール編集画面から変更が可能です（デフォルト：非公開）。")])])}]};var W=n("VU/8")(B,H,!1,function(t){n("T0hD")},null,null).exports,O={render:function(){var t=this.$createElement,e=this._self._c||t;return e("article",[e("p",[this._v("会員登録 完了しました。")]),this._v(" "),e("p",[this._v("ログインページからログインしてください。")]),this._v(" "),e("div",{staticClass:"buttonBase",attrs:{"data-v-compReg":""},on:{click:this.toLogin}},[this._v("ログインページへ")])])},staticRenderFns:[]};var z=n("VU/8")({methods:{toLogin:function(){this.$router.push({name:"Portal"})}}},O,!1,function(t){n("X0MJ")},null,null).exports,j={name:"Registration",created:function(){this.$store.dispatch("setToggreState",!1)},components:{InputInvitation:D,RegInput:W,CompReg:z}},Z={render:function(){var t=this.$createElement,e=this._self._c||t;return e("section",[e("router-view")],1)},staticRenderFns:[]};var V=n("VU/8")(j,Z,!1,function(t){n("g8SE")},null,null).exports,q={name:"Login",data:function(){return{loginId:null,password:null,bgStyle:{backgroundImage:"",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",backgroundSize:"cover",backgroundColor:"#e9e9e9"},wp:["https://firebasestorage.googleapis.com/v0/b/stdink-prd.appspot.com/o/at-tjc%2Fwallpaper%2Fwp1.JPG?alt=media&token=78497238-a389-4988-9634-f6f40fd4ff08","https://firebasestorage.googleapis.com/v0/b/stdink-prd.appspot.com/o/at-tjc%2Fwallpaper%2Fwp10.JPG?alt=media&token=04579a23-750b-427d-a068-65d876247c2","https://firebasestorage.googleapis.com/v0/b/stdink-prd.appspot.com/o/at-tjc%2Fwallpaper%2Fwp2.JPG?alt=media&token=9e35e5bb-33ec-4154-824c-6c10659b3f62","https://firebasestorage.googleapis.com/v0/b/stdink-prd.appspot.com/o/at-tjc%2Fwallpaper%2Fwp3.JPG?alt=media&token=ff5cc926-d027-4c99-b366-bfc716895ab0","https://firebasestorage.googleapis.com/v0/b/stdink-prd.appspot.com/o/at-tjc%2Fwallpaper%2Fwp4.JPG?alt=media&token=49e496e3-3073-4d25-9ed9-887d2e3b8df2","https://firebasestorage.googleapis.com/v0/b/stdink-prd.appspot.com/o/at-tjc%2Fwallpaper%2Fwp5.JPG?alt=media&token=8ca5f103-342e-4908-b201-43573da157aa","https://firebasestorage.googleapis.com/v0/b/stdink-prd.appspot.com/o/at-tjc%2Fwallpaper%2Fwp6.JPG?alt=media&token=ad361a38-911e-4216-8828-ef035630108d","https://firebasestorage.googleapis.com/v0/b/stdink-prd.appspot.com/o/at-tjc%2Fwallpaper%2Fwp7.JPG?alt=media&token=fedb8c6c-c1a4-427c-b67c-4cb6a58b90d2","https://firebasestorage.googleapis.com/v0/b/stdink-prd.appspot.com/o/at-tjc%2Fwallpaper%2Fwp8.JPG?alt=media&token=f16d6598-a247-432f-afb3-48e6a9af8236","https://firebasestorage.googleapis.com/v0/b/stdink-prd.appspot.com/o/at-tjc%2Fwallpaper%2Fwp9.JPG?alt=media&token=bc484f7d-ee38-476f-a705-66ec210c2798"]}},mounted:function(){var t=Math.floor(10*Math.random()),e=this.wp[t];this.bgStyle.backgroundImage="url('"+e+"')"},methods:{login:function(){this.$store.dispatch("callLoginApi",{id:this.loginId,pw:this.password})},registration:function(){this.$router.push("/registration")}}},J={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-mask",style:t.bgStyle,attrs:{"data-v-login":""}},[n("div",{staticClass:"form-wrapper",attrs:{"data-v-login":""}},[t._m(0),t._v(" "),n("form",{attrs:{"data-v-login":""}},[n("div",{staticClass:"form-item",attrs:{"data-v-login":""}},[n("label",{attrs:{for:"id"}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.loginId,expression:"loginId"}],attrs:{type:"text",name:"id",required:"required",placeholder:"Login ID or Email","data-v-login":""},domProps:{value:t.loginId},on:{input:function(e){e.target.composing||(t.loginId=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-item",attrs:{"data-v-login":""}},[n("label",{attrs:{for:"password"}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",name:"password",required:"required",placeholder:"Password","data-v-login":""},domProps:{value:t.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)},input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"button-panel",attrs:{"data-v-login":""}},[n("input",{staticClass:"button",attrs:{type:"button",title:"Login",value:"Login","data-v-login":""},on:{click:t.login}}),t._v(" "),n("input",{staticClass:"button",attrs:{type:"button",title:"Registration",value:"会員登録","data-v-login":""},on:{click:t.registration}}),t._v(" "),n("p",{staticStyle:{margin:"20px 0px","text-align":"center"}},[n("router-link",{attrs:{to:{name:"PasswordReminder"}}},[t._v("loginID・パスワードを忘れた方")])],1)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{"data-v-login":""}},[e("span",{staticClass:"logo",attrs:{"data-v-login":""}},[this._v("@")]),e("span",{staticClass:"logoTxt",attrs:{"data-v-login":""}},[this._v("TJC")])])}]};var Q=n("VU/8")(q,J,!1,function(t){n("8eNO")},"data-v-1c444fd8",null).exports,Y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-mask",attrs:{"data-v-login":""}},[n("div",{staticClass:"form-wrapper",attrs:{"data-v-login":""}},[t._m(0),t._v(" "),n("form",{attrs:{"data-v-login":""}},[n("div",{staticClass:"form-item",attrs:{"data-v-login":""}},[n("label",{attrs:{for:"id"}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.loginId,expression:"loginId"}],attrs:{type:"text",name:"id",required:"required",placeholder:"Login ID","data-v-login":""},domProps:{value:t.loginId},on:{input:function(e){e.target.composing||(t.loginId=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-item",attrs:{"data-v-login":""}},[n("label",{attrs:{for:"password"}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",name:"password",required:"required",placeholder:"Password","data-v-login":""},domProps:{value:t.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)},input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"button-panel",attrs:{"data-v-login":""}},[n("input",{staticClass:"button",attrs:{type:"button",title:"Login",value:"Login","data-v-login":""},on:{click:t.login}})])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{"data-v-login":""}},[e("span",{staticClass:"logo",attrs:{"data-v-login":""}},[this._v("@")]),e("span",{staticClass:"logoTxt",attrs:{"data-v-login":""}},[this._v("TJC Admin")])])}]};var K=n("VU/8")({name:"AdminLogin",data:function(){return{loginId:null,password:null}},methods:{login:function(){this.$store.dispatch("callLoginApi",{id:this.loginId,pw:this.password})}}},Y,!1,function(t){n("52fC")},"data-v-478a819e",null).exports,X={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"profile",attrs:{"data-v-profile":""}},[n("h1",{attrs:{"data-v-profile":""}},[t._v(t._s(t.profile.userId))]),t._v(" "),null!=t.profile.contacts&&t.profile.contacts.length>0?n("h2",{attrs:{"data-v-profile":""}},[t._v("連絡先")]):t._e(),t._v(" "),n("ul",t._l(t.profile.contacts,function(e,a){return n("li",{key:a},[t._v("\n      "+t._s(e.type)+" :\n      "),null!=e.url?n("a",{attrs:{href:e.url,target:"_blank"}},[t._v(t._s(e.value))]):t._e(),t._v(" "),null==e.url?[t._v(t._s(e.value))]:t._e()],2)}),0),t._v(" "),n("h2",{attrs:{"data-v-profile":""}},[t._v("Personal Info")]),t._v(" "),n("div",{staticClass:"personalBlock",attrs:{"data-v-profile":""}},[n("div",{staticClass:"personalInfo",attrs:{"data-v-profile":""}},[null!=t.profile.dob?n("h3",{attrs:{"data-v-profile":""}},[t._v("生年月日")]):t._e(),t._v(" "),n("ul",{attrs:{"data-v-profile":""}},[n("li",{attrs:{"data-v-profile":""}},[t._v(t._s(t.profile.dob))])])]),t._v(" "),n("div",{staticClass:"personalInfo",attrs:{"data-v-profile":""}},[null!=t.profile.residences&&t.profile.residences.length>0?n("h3",{attrs:{"data-v-profile":""}},[t._v("居住地の最寄")]):t._e(),t._v(" "),n("ul",{attrs:{"data-v-profile":""}},t._l(t.profile.residences,function(e,a){return n("li",{key:a,attrs:{"data-v-profile":""}},[t._v(t._s(e.name)+" ("+t._s(e.from)+" ～ "+t._s(e.to)+")")])}),0)]),t._v(" "),n("div",{staticClass:"personalInfo",attrs:{"data-v-profile":""}},[null!=t.profile.univ?n("h3",{attrs:{"data-v-profile":""}},[t._v("在学年")]):t._e(),t._v(" "),n("ul",{attrs:{"data-v-profile":""}},[null!=t.profile.univ?n("li",{attrs:{"data-v-profile":""}},[t._v(t._s(t.profile.univ.from)+" ～ "+t._s(t.profile.univ.to))]):t._e()])]),t._v(" "),n("div",{staticClass:"personalInfo",attrs:{"data-v-profile":""}},[null!=t.profile.univ?n("h3",{attrs:{"data-v-profile":""}},[t._v("学科・コース・専攻・研究室・役職等")]):t._e(),t._v(" "),null!=t.profile.univ?n("ul",{attrs:{"data-v-profile":""}},t._l(t.profile.univ.dep,function(e,a){return n("li",{key:a,attrs:{"data-v-profile":""}},[t._v(t._s(e))])}),0):t._e()])]),t._v(" "),null!=t.profile.comment?n("h2",{attrs:{"data-v-profile":""}},[t._v("Comment")]):t._e(),t._v(" "),n("p",{staticClass:"comment",attrs:{"data-v-profile":""}},[t._v(t._s(t.profile.comment))])])},staticRenderFns:[]};var tt=n("VU/8")({name:"Profile",computed:{profile:function(){return this.$store.getters.profile}}},X,!1,function(t){n("Y+9a")},"data-v-651b7c08",null).exports,et={name:"MyProfile",components:{Profile:tt},mounted:function(){}},nt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("section",[e("router-view")],1)},staticRenderFns:[]},at=n("VU/8")(et,nt,!1,null,null,null).exports,rt={name:"MyPage",components:{Profile:tt},methods:{toEdit:function(){this.$router.push({name:"EditProfile"})},toPassword:function(){this.$router.push({name:"UpdatePassword"})},toInvitation:function(){this.$router.push({name:"Invitation"})}}},ot={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("article",[n("Profile"),t._v(" "),n("div",{staticClass:"buttonBase",on:{click:t.toEdit}},[t._v("プロフィール編集")]),t._v(" "),n("div",{staticClass:"buttonBase",on:{click:t.toPassword}},[t._v("パスワード変更")]),t._v(" "),n("div",{staticClass:"buttonBase",on:{click:t.toInvitation}},[t._v("ユーザーを招待")])],1)},staticRenderFns:[]};var st=n("VU/8")(rt,ot,!1,function(t){n("AseE")},"data-v-38b6e0c3",null).exports,it={name:"SinglePosMap",data:function(){return{showMap:!0}},computed:{pos:{get:function(){return this.$store.getters.posSingleMap},set:function(t){this.$store.dispatch("setPosSingleMap",t)}}},methods:{initMap:function(){var t=new google.maps.Map(document.getElementById("map"),{zoom:15,center:this.pos});new google.maps.Marker({position:this.pos,map:t})}},mounted:function(){this.initMap()},updated:function(){this.initMap()},watch:{$route:function(t,e){this.initMap()}}},lt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:this.showMap,expression:"showMap"}],attrs:{id:"map","data-v-singleposmap":""}},[this._v("\n    MAP\n")])},staticRenderFns:[]};var dt=n("VU/8")(it,lt,!1,function(t){n("bD3I")},"data-v-401afe34",null).exports,ct={name:"editloc",props:["pos","index"],components:{SinglePosMap:dt},data:function(){return{inputTxt:""}},mounted:function(){this.inputTxt=this.pos[this.index].name},methods:{clickUpdate:function(){var t=this;return g()(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("updateResidence",{name:t.inputTxt,index:t.index,save:!0});case 2:t.pos[t.index].name=t.inputTxt,t.$emit("editloc-close-event");case 4:case"end":return e.stop()}},e,t)}))()},clickClose:function(){this.$emit("editloc-close-event")},enterPos:function(){var t=this;return g()(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("updateResidence",{name:t.inputTxt,index:t.index,save:!1});case 2:t.$refs.map.initMap();case 3:case"end":return e.stop()}},e,t)}))()}}},ut={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"editloc"}},[n("div",{staticClass:"editloc-mask",attrs:{"data-v-editloc":""}},[n("div",{staticClass:"editloc-wrapper",attrs:{"data-v-editloc":""}},[n("div",{staticClass:"editloc-container",attrs:{"data-v-editloc":""}},[n("div",{staticClass:"editloc-header",attrs:{"data-v-editloc":""}},[t._v("\n              Edit Locations\n          ")]),t._v(" "),n("SinglePosMap",{ref:"map"}),t._v(" "),n("div",{staticClass:"editloc-body",attrs:{"data-v-editloc":""}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputTxt,expression:"inputTxt"}],attrs:{type:"text",name:"posName",placeholder:"最寄の場所のキーワードを入力してください","data-v-editloc":""},domProps:{value:t.inputTxt},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enterPos(e)},input:function(e){e.target.composing||(t.inputTxt=e.target.value)}}}),t._v(" "),n("div",{staticClass:"buttonBase buttonEditloc",attrs:{"data-v-editloc":""},on:{click:t.clickUpdate}},[t._v("変更")])]),t._v(" "),n("div",{staticClass:"editloc-footer",attrs:{"data-v-editloc":""}},[n("div",{staticClass:"buttonBase",on:{click:t.clickClose}},[t._v("閉じる")])])],1)])])])},staticRenderFns:[]};var mt={name:"EditProfile",components:{Modal:d,EditLoc:n("VU/8")(ct,ut,!1,function(t){n("9r4F")},"data-v-74bb6f44",null).exports},data:function(){return{userId:"",email:"",emailOpen:!1,twitter:"",twitterOpen:!1,facebook:"",facebookOpen:!1,comment:"",dob:"",univ:{from:"",to:""},deps:[],residences:[],doby:"",dobm:"",dobd:"",posIndex:0,modalMsg:"",showModal:!1,showEditLoc:!1}},mounted:function(){if(this.userId=this.$store.getters.profile.userId,this.comment=this.$store.getters.profile.comment,null!=this.$store.getters.profile.dob&&(this.doby=this.$store.getters.profile.dob.substring(0,4),this.dobm=this.$store.getters.profile.dob.substring(5,7),this.dobd=this.$store.getters.profile.dob.substring(8,10)),null!=this.$store.getters.profile.univ&&(this.univ.from=this.$store.getters.profile.univ.from,this.univ.to=this.$store.getters.profile.univ.to,null!=this.$store.getters.profile.univ.dep))for(var t=0;t<this.$store.getters.profile.univ.dep.length;t++){var e={value:this.$store.getters.profile.univ.dep[t],del:!1};this.deps.push(e)}for(t=0;t<this.$store.getters.profile.contacts.length;t++)"Email"==this.$store.getters.profile.contacts[t].type?(this.email=this.$store.getters.profile.contacts[t].value,this.emailOpen=this.$store.getters.profile.contacts[t].open):"twitter"==this.$store.getters.profile.contacts[t].type?(this.twitter=this.$store.getters.profile.contacts[t].value,this.twitterOpen=this.$store.getters.profile.contacts[t].open):"facebook"==this.$store.getters.profile.contacts[t].type&&(this.facebook=this.$store.getters.profile.contacts[t].value,this.facebookOpen=this.$store.getters.profile.contacts[t].open);for(t=0;t<this.$store.getters.profile.residences.length;t++){var n={id:this.$store.getters.profile.residences[t].id,name:this.$store.getters.profile.residences[t].name,lat:this.$store.getters.profile.residences[t].lat,lng:this.$store.getters.profile.residences[t].lng,from:this.$store.getters.profile.residences[t].from,to:this.$store.getters.profile.residences[t].to,del:!1};this.residences.push(n)}},methods:{addDep:function(){this.deps.push({value:"",del:!1})},delDep:function(t){this.$delete(this.deps,t)},editResidence:function(t){this.posIndex=t,this.$store.dispatch("setPosSingleMap",{lat:this.$store.getters.profile.residences[t].lat,lng:this.$store.getters.profile.residences[t].lng}),this.showEditLoc=!0},addResidence:function(){this.$store.dispatch("addResidence",{id:null,name:"",lat:null,lng:null,from:null,to:null});this.residences.push({name:"",from:null,to:null})},editLocClose:function(){this.residences=[];for(var t=0;t<this.$store.getters.profile.residences.length;t++){var e={id:this.$store.getters.profile.residences[t].id,name:this.$store.getters.profile.residences[t].name,lat:this.$store.getters.profile.residences[t].lat,lng:this.$store.getters.profile.residences[t].lng,from:this.$store.getters.profile.residences[t].from,to:this.$store.getters.profile.residences[t].to,del:!1};this.residences.push(e)}this.showEditLoc=!1},toUpdate:function(){if(""==this.userId||""==this.email)return this.modalMsg="Login IDとEmailを入力してください。",void(this.showModal=!0);if(this.dob="",""!=this.doby&&""!=this.dobm&&""!=this.dobd){if(4!=this.doby.length)return this.modalMsg="生年月日が不正値です",void(this.showModal=!0);if(1!=this.dobm.length&&2!=this.dobm.length)return this.modalMsg="生年月日が不正値です",void(this.showModal=!0);if(1==this.dobm.length&&(this.dobm="0"+this.dobm),1!=this.dobd.length&&2!=this.dobd.length)return this.modalMsg="生年月日が不正値です",void(this.showModal=!0);if(1==this.dobd.length&&(this.dobd="0"+this.dobd),this.dob=this.doby+"-"+this.dobm+"-"+this.dobd,"Invalid Date"===new Date(this.dob).toString())return this.modalMsg="生年月日が不正値です",void(this.showModal=!0)}this.$store.dispatch("updateProfile",{userId:this.userId,email:this.email,emailOpen:this.emailOpen,twitter:this.twitter,twitterOpen:this.twitterOpen,facebook:this.facebook,facebookOpen:this.facebookOpen,comment:this.comment,dob:this.dob,univ:this.univ,deps:this.deps,residences:this.residences})},modalOk:function(){this.showModal=!1}}},pt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("article",[n("div",{staticClass:"editBox",attrs:{"data-v-edit":""}},[n("h2",{attrs:{"data-v-edit":""}},[t._v("Personal Info")]),t._v(" "),n("h3",{attrs:{"data-v-edit":""}},[t._v("Login ID")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.userId,expression:"userId"}],attrs:{type:"text",name:"id",placeholder:"半角英数字記号 必須","data-v-edit":""},domProps:{value:t.userId},on:{input:function(e){e.target.composing||(t.userId=e.target.value)}}}),t._v(" "),n("table",{staticStyle:{width:"100%"},attrs:{"data-v-edit":""}},[t._m(0),t._v(" "),n("tr",[n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",name:"email",placeholder:"半角英数字記号 必須","data-v-edit":""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.emailOpen,expression:"emailOpen"}],staticClass:"checkBoxInput",attrs:{type:"checkbox","data-v-edit":""},domProps:{checked:Array.isArray(t.emailOpen)?t._i(t.emailOpen,null)>-1:t.emailOpen},on:{change:function(e){var n=t.emailOpen,a=e.target,r=!!a.checked;if(Array.isArray(n)){var o=t._i(n,null);a.checked?o<0&&(t.emailOpen=n.concat([null])):o>-1&&(t.emailOpen=n.slice(0,o).concat(n.slice(o+1)))}else t.emailOpen=r}}}),t._v(" "),n("label",[t._v("公開")])])]),t._v(" "),t._m(1),t._v(" "),n("tr",[n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.twitter,expression:"twitter"}],attrs:{type:"text",name:"twitter",placeholder:"@ユーザーID","data-v-edit":""},domProps:{value:t.twitter},on:{input:function(e){e.target.composing||(t.twitter=e.target.value)}}})]),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.twitterOpen,expression:"twitterOpen"}],staticClass:"checkBoxInput",attrs:{type:"checkbox","data-v-edit":""},domProps:{checked:Array.isArray(t.twitterOpen)?t._i(t.twitterOpen,null)>-1:t.twitterOpen},on:{change:function(e){var n=t.twitterOpen,a=e.target,r=!!a.checked;if(Array.isArray(n)){var o=t._i(n,null);a.checked?o<0&&(t.twitterOpen=n.concat([null])):o>-1&&(t.twitterOpen=n.slice(0,o).concat(n.slice(o+1)))}else t.twitterOpen=r}}}),t._v(" "),n("label",[t._v("公開")])])]),t._v(" "),t._m(2),t._v(" "),n("tr",[n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.facebook,expression:"facebook"}],attrs:{type:"url",name:"facebook",placeholder:"プロフィールURL","data-v-edit":""},domProps:{value:t.facebook},on:{input:function(e){e.target.composing||(t.facebook=e.target.value)}}})]),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.facebookOpen,expression:"facebookOpen"}],staticClass:"checkBoxInput",attrs:{type:"checkbox","data-v-edit":""},domProps:{checked:Array.isArray(t.facebookOpen)?t._i(t.facebookOpen,null)>-1:t.facebookOpen},on:{change:function(e){var n=t.facebookOpen,a=e.target,r=!!a.checked;if(Array.isArray(n)){var o=t._i(n,null);a.checked?o<0&&(t.facebookOpen=n.concat([null])):o>-1&&(t.facebookOpen=n.slice(0,o).concat(n.slice(o+1)))}else t.facebookOpen=r}}}),t._v(" "),n("label",[t._v("公開")])])])]),t._v(" "),n("p",{staticStyle:{"margin-top":"20px","margin-left":"10px"}},[t._v("※ 公開にチェックをつけた情報は、他のユーザーがプロフィールページ上で参照できます。")]),t._v(" "),n("h3",{attrs:{"data-v-edit":""}},[t._v("生年月日")]),t._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.doby,expression:"doby"}],staticStyle:{width:"100px"},attrs:{type:"number",name:"doby",maxlength:"4",size:"4",placeholder:"YYYY","data-v-edit":""},domProps:{value:t.doby},on:{input:function(e){e.target.composing||(t.doby=e.target.value)}}}),t._v("年\n            "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.dobm,expression:"dobm"}],staticStyle:{width:"50px"},attrs:{type:"number",name:"dobm",maxlength:"2",size:"2",placeholder:"MM","data-v-edit":""},domProps:{value:t.dobm},on:{input:function(e){e.target.composing||(t.dobm=e.target.value)}}}),t._v("月\n            "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.dobd,expression:"dobd"}],staticStyle:{width:"50px"},attrs:{type:"number",name:"dobd",maxlength:"2",size:"2",placeholder:"DD","data-v-edit":""},domProps:{value:t.dobd},on:{input:function(e){e.target.composing||(t.dobd=e.target.value)}}}),t._v("日\n        ")]),t._v(" "),n("h3",{attrs:{"data-v-edit":""}},[t._v("近況コメント")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],attrs:{type:"text",name:"comment","data-v-edit":""},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"editBox",attrs:{"data-v-edit":""}},[n("h2",{attrs:{"data-v-edit":""}},[t._v("University Info")]),t._v(" "),n("h3",{attrs:{"data-v-edit":""}},[t._v("在学年")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.univ.from,expression:"univ.from"}],staticClass:"fromToDate",attrs:{type:"date",name:"univFrom","data-v-edit":""},domProps:{value:t.univ.from},on:{input:function(e){e.target.composing||t.$set(t.univ,"from",e.target.value)}}}),t._v("\n        ～\n        "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.univ.to,expression:"univ.to"}],staticClass:"fromToDate",attrs:{type:"date",name:"univTo","data-v-edit":""},domProps:{value:t.univ.to},on:{input:function(e){e.target.composing||t.$set(t.univ,"to",e.target.value)}}}),t._v(" "),n("h3",{attrs:{"data-v-edit":""}},[t._v("学科・コース・専攻・研究室・役職等")]),t._v(" "),n("table",{staticClass:"subinput",attrs:{"data-v-edit":""}},t._l(t.deps,function(e,a){return n("tr",{key:a},[n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"dep.value"}],attrs:{type:"text"},domProps:{value:e.value},on:{input:function(n){n.target.composing||t.$set(e,"value",n.target.value)}}})]),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.del,expression:"dep.del"}],staticClass:"checkBoxInput",attrs:{type:"checkbox","data-v-edit":""},domProps:{checked:Array.isArray(e.del)?t._i(e.del,null)>-1:e.del},on:{change:function(n){var a=e.del,r=n.target,o=!!r.checked;if(Array.isArray(a)){var s=t._i(a,null);r.checked?s<0&&t.$set(e,"del",a.concat([null])):s>-1&&t.$set(e,"del",a.slice(0,s).concat(a.slice(s+1)))}else t.$set(e,"del",o)}}}),t._v(" "),n("label",[t._v("削除")])])])}),0),t._v(" "),n("div",{staticClass:"buttonBase",on:{click:t.addDep}},[t._v("行追加")])]),t._v(" "),n("div",{staticClass:"editBox",attrs:{"data-v-edit":""}},[n("h2",{attrs:{"data-v-edit":""}},[t._v("居住地の最寄")]),t._v(" "),n("table",{staticClass:"subinput",attrs:{"data-v-edit":""}},t._l(t.residences,function(e,a){return n("tr",{key:a},[n("td",[n("p",{staticStyle:{"margin-top":"20px"}},[t._v(t._s(e.name))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.from,expression:"residence.from"}],staticClass:"fromToDate",attrs:{type:"date","data-v-edit":""},domProps:{value:e.from},on:{input:function(n){n.target.composing||t.$set(e,"from",n.target.value)}}}),t._v("～"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.to,expression:"residence.to"}],staticClass:"fromToDate",attrs:{type:"date","data-v-edit":""},domProps:{value:e.to},on:{input:function(n){n.target.composing||t.$set(e,"to",n.target.value)}}})]),t._v(" "),n("td",{staticStyle:{"min-width":"80px"}},[n("div",{staticClass:"buttonBase buttonSmall",on:{click:function(e){return t.editResidence(a)}}},[t._v("地図")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.del,expression:"residence.del"}],staticClass:"posCheckBoxInput",attrs:{type:"checkbox","data-v-edit":""},domProps:{checked:Array.isArray(e.del)?t._i(e.del,null)>-1:e.del},on:{change:function(n){var a=e.del,r=n.target,o=!!r.checked;if(Array.isArray(a)){var s=t._i(a,null);r.checked?s<0&&t.$set(e,"del",a.concat([null])):s>-1&&t.$set(e,"del",a.slice(0,s).concat(a.slice(s+1)))}else t.$set(e,"del",o)}}}),t._v(" "),n("label",[t._v("削除")])])])}),0),t._v(" "),n("div",{staticClass:"buttonBase",on:{click:t.addResidence}},[t._v("行追加")])]),t._v(" "),n("p",{staticStyle:{"margin-bottom":"20px","margin-left":"10px"}},[t._v("※ 非公開指定している情報を除き、プロフィール情報は他のユーザーが当サイト上から参照できます。")]),t._v(" "),n("div",{staticClass:"buttonBase",on:{click:t.toUpdate}},[t._v("更新")]),t._v(" "),t.showModal?n("Modal",{attrs:{mtypeIn:2},on:{"modal-ok-event":t.modalOk}},[n("p",{attrs:{slot:"header"},slot:"header"},[t._v("@TJC message")]),t._v(" "),n("template",{slot:"body"},[n("p",{domProps:{innerHTML:t._s(t.modalMsg)}})])],2):t._e(),t._v(" "),t.showEditLoc?n("EditLoc",{attrs:{pos:t.residences,index:t.posIndex},on:{"editloc-close-event":t.editLocClose}}):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{colspan:"2"}},[e("h3",{attrs:{"data-v-edit":""}},[this._v("Email")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{colspan:"2"}},[e("h3",{attrs:{"data-v-edit":""}},[this._v("twitter")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{colspan:"2"}},[e("h3",{attrs:{"data-v-edit":""}},[this._v("Facebook")])])])}]};var vt=n("VU/8")(mt,pt,!1,function(t){n("L86l")},"data-v-0f51290a",null).exports,ft={name:"UpdatePassWord",components:{Modal:d},data:function(){return{currentPW:"",updatedPW:"",updatedPWRe:"",modalMsg:"",showModal:!1}},methods:{toRegister:function(){return""==this.currentPW||""==this.updatedPW||""==this.updatedPWRe?(this.currentPW="",this.updatedPW="",this.updatedPWRe="",this.modalMsg="現在パスワード、変更後パスワード、変更後パスワード(再確認)を入力してください。",void(this.showModal=!0)):this.updatedPW!=this.updatedPWRe?(this.currentPW="",this.updatedPW="",this.updatedPWRe="",this.modalMsg="変更後パスワードと変更後パスワード(再確認)が一致しません。",void(this.showModal=!0)):this.currentPW==this.updatedPW?(this.currentPW="",this.updatedPW="",this.updatedPWRe="",this.modalMsg="現在パスワードと同じパスワードには変更できません。",void(this.showModal=!0)):void this.$store.dispatch("updatePW",{currentPW:this.currentPW,updatedPW:this.updatedPW,updatedPWRe:this.updatedPWRe})},modalOk:function(){this.showModal=!1}}},ht={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("article",[n("table",{attrs:{"data-v-pwUpdate":""}},[n("tr",[n("td",[t._v("現在のパスワード")]),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentPW,expression:"currentPW"}],attrs:{type:"password",name:"pw",placeholder:"半角英数字記号 必須","data-v-pwUpdate":""},domProps:{value:t.currentPW},on:{input:function(e){e.target.composing||(t.currentPW=e.target.value)}}})])]),t._v(" "),n("tr",[n("td",[t._v("変更後パスワード")]),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.updatedPW,expression:"updatedPW"}],attrs:{type:"password",name:"pw",placeholder:"半角英数字記号 必須","data-v-pwUpdate":""},domProps:{value:t.updatedPW},on:{input:function(e){e.target.composing||(t.updatedPW=e.target.value)}}})])]),t._v(" "),n("tr",[n("td",[t._v("変更後パスワード(再確認)")]),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.updatedPWRe,expression:"updatedPWRe"}],attrs:{type:"password",name:"pw-re",placeholder:"半角英数字記号 必須","data-v-pwUpdate":""},domProps:{value:t.updatedPWRe},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.toRegister(e)},input:function(e){e.target.composing||(t.updatedPWRe=e.target.value)}}})])])]),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"buttonBase",on:{click:t.toRegister}},[t._v("変更")]),t._v(" "),n("Modal",{directives:[{name:"show",rawName:"v-show",value:t.showModal,expression:"showModal"}],attrs:{mtypeIn:2},on:{"modal-ok-event":t.modalOk}},[n("p",{attrs:{slot:"header"},slot:"header"},[t._v("@TJC message")]),t._v(" "),n("template",{slot:"body"},[n("p",{domProps:{innerHTML:t._s(t.modalMsg)}})])],2)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"info",attrs:{"data-v-pwUpdate":""}},[e("p",[this._v("※ 現在パスワードと同じパスワードを変更後パスワードに設定できません。")])])}]};var gt=n("VU/8")(ft,ht,!1,function(t){n("i7Bl")},"data-v-00a8ade2",null).exports,_t={name:"MyPage",components:{Profile:tt}},wt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("section",[e("Profile")],1)},staticRenderFns:[]},Mt=n("VU/8")(_t,wt,!1,null,null,null).exports,bt={name:"Inquiry",components:{Modal:d},data:function(){return{inputData:{subject:"",body:""},modalMsg:"",showModal:!1}},methods:{toSend:function(){var t=this;return g()(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=t.inputData.subject){e.next=6;break}return t.modalMsg="件名を入力してください",t.showModal=!0,e.abrupt("return");case 6:if(""!=t.inputData.body){e.next=10;break}return t.modalMsg="本文を入力してください",t.showModal=!0,e.abrupt("return");case 10:return e.next=12,t.$store.dispatch("sendInquiry",t.inputData);case 12:t.inputData.subject="",t.inputData.body="";case 14:case"end":return e.stop()}},e,t)}))()},modalOk:function(){this.showModal=!1}}},yt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("h1",{attrs:{"data-v-inquiry":""}},[t._v("お問い合わせフォーム")]),t._v(" "),n("h2",{attrs:{"data-v-inquiry":""}},[t._v("件名")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputData.subject,expression:"inputData.subject"}],attrs:{type:"text","data-v-inquiry":""},domProps:{value:t.inputData.subject},on:{input:function(e){e.target.composing||t.$set(t.inputData,"subject",e.target.value)}}}),t._v(" "),n("h2",{attrs:{"data-v-inquiry":""}},[t._v("本文")]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.inputData.body,expression:"inputData.body"}],attrs:{rows:"5","data-v-inquiry":""},domProps:{value:t.inputData.body},on:{input:function(e){e.target.composing||t.$set(t.inputData,"body",e.target.value)}}}),t._v(" "),n("div",{staticClass:"buttonBase",on:{click:t.toSend}},[t._v("送信")]),t._v(" "),t.showModal?n("Modal",{attrs:{mtypeIn:2},on:{"modal-ok-event":t.modalOk}},[n("p",{attrs:{slot:"header"},slot:"header"},[t._v("@TJC message")]),t._v(" "),n("template",{slot:"body"},[n("p",{domProps:{innerHTML:t._s(t.modalMsg)}})])],2):t._e()],1)},staticRenderFns:[]};var kt=n("VU/8")(bt,yt,!1,function(t){n("eG7f")},"data-v-63d4b36e",null).exports,St={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("h1",{attrs:{"data-v-members":""}},[t._v("Member List")]),t._v(" "),t._l(t.members,function(e,a){return n("h2",{key:a,attrs:{"data-v-members":""}},[n("router-link",{attrs:{to:"/profile/"+e.userNo}},[t._v(t._s(e.loginId))]),t._v(" "),n("h3",{attrs:{"data-v-members":""}},[t._v(t._s(e.comment))])],1)})],2)},staticRenderFns:[]};var Ut=n("VU/8")({name:"Members",computed:{members:function(){return this.$store.getters.members}},mounted:function(){this.$store.dispatch("initMemberlist")},data:function(){return{}}},St,!1,function(t){n("b5xD")},"data-v-7140b9ba",null).exports,Pt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("h1",{attrs:{"data-v-events":""}},[t._v("イベント一覧")]),t._v(" "),n("div",{staticStyle:{"margin-bottom":"50px"}},t._l(t.events,function(e,a){return n("h2",{key:a,attrs:{"data-v-events":""}},[n("router-link",{attrs:{to:"/events/detail/"+e.no}},[t._v(t._s(e.name))]),t._v(" "),n("h3",{attrs:{"data-v-events":""}},[t._v("場所："+t._s(e.pos.posName))]),t._v(" "),n("h3",{attrs:{"data-v-events":""}},[t._v("期間："+t._s(e.time))])],1)}),0),t._v(" "),n("div",{staticStyle:{"text-align":"center",margin:"0px 0px 40px 0px"}},[t.archived?t._e():n("a",{on:{click:t.readArchived}},[t._v("終了したイベントも表示")])]),t._v(" "),n("router-link",{attrs:{to:"/events/registration"}},[n("div",{staticClass:"buttonBase"},[t._v("イベント登録")])])],1)},staticRenderFns:[]};var xt=n("VU/8")({name:"Events",computed:{events:function(){return this.$store.getters.events}},created:function(){this.$store.dispatch("initEventlist",!1)},data:function(){return{archived:!1}},methods:{readArchived:function(){this.$store.dispatch("initEventlist",!0),this.archived=!0}}},Pt,!1,function(t){n("8cNz")},"data-v-04ca7f3e",null).exports,At={name:"Event",components:{SinglePosMap:dt,Modal:d},computed:{event:function(){return this.$store.getters.event}},data:function(){return{inputComment:"",modalMsg:"",showModal:!1,openUrl:""}},created:function(){var t=g()(f.a.mark(function t(){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),this.$store.dispatch("setToggreState",!0),t.next=4,this.$store.dispatch("initEvent",this.$route.params.eventNo);case 4:this.$store.dispatch("setPosSingleMap",{lat:this.event.pos.lat,lng:this.event.pos.lng}),this.$refs.map.initMap(),this.openUrl="https://std-ink.github.io/at-tjc/#/guest/events/detail/"+this.event.no;case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),watch:{$route:function(t,e){var n=this;return g()(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.$store.dispatch("initEvent",t.params.eventNo);case 2:n.$store.dispatch("setToggreState",!0),n.$store.dispatch("setPosSingleMap",{lat:n.event.pos.lat,lng:n.event.pos.lng}),n.$refs.map.initMap(),n.openUrl="https://std-ink.github.io/at-tjc/#/guest/events/detail/"+n.event.no;case 6:case"end":return e.stop()}},e,n)}))()}},methods:{add:function(){var t=this;return g()(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("addGuest",t.event.no);case 2:t.$store.dispatch("initEvent",t.$route.params.eventNo);case 3:case"end":return e.stop()}},e,t)}))()},cancel:function(){var t=this;return g()(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("removeGuest",t.event.no);case 2:t.$store.dispatch("initEvent",t.$route.params.eventNo);case 3:case"end":return e.stop()}},e,t)}))()},cancelEvent:function(){var t=this;return g()(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("cancelEvent",t.event.no);case 2:case"end":return e.stop()}},e,t)}))()},addComment:function(){var t=this;return g()(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=t.inputComment){e.next=4;break}return t.modalMsg="コメントを入力してください",t.showModal=!0,e.abrupt("return");case 4:return e.next=6,t.$store.dispatch("addComment",{eventNo:t.event.no,comment:t.inputComment});case 6:t.$store.dispatch("initEvent",t.$route.params.eventNo),t.inputComment="";case 8:case"end":return e.stop()}},e,t)}))()},modalOk:function(){this.showModal=!1}}},It={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("h1",{attrs:{"data-v-event":""}},[t._v(t._s(t.event.name))]),t._v(" "),n("SinglePosMap",{ref:"map"}),t._v(" "),n("h2",{attrs:{"data-v-event":""}},[t._v("概要")]),t._v(" "),n("p",{attrs:{"data-v-event":""}},[t._v(t._s(t.event.desc))]),t._v(" "),n("h2",{attrs:{"data-v-event":""}},[t._v("場所")]),t._v(" "),n("p",{attrs:{"data-v-event":""}},[t._v(t._s(t.event.pos.posName))]),t._v(" "),n("h2",{attrs:{"data-v-event":""}},[t._v("日時")]),t._v(" "),n("p",{attrs:{"data-v-event":""}},[t._v(t._s(t.event.time))]),t._v(" "),t.event.enableGuest?[n("h2",{attrs:{"data-v-event":""}},[t._v("公開イベント")]),t._v(" "),n("p",{attrs:{"data-v-event":""}},[t._v("公開用URL："+t._s(t.openUrl))])]:t._e(),t._v(" "),n("h2",{attrs:{"data-v-event":""}},[t._v("オーナー")]),t._v(" "),n("p",{attrs:{"data-v-event":""}},[n("router-link",{attrs:{to:"/profile/"+t.event.owner.userNo}},[t._v(t._s(t.event.owner.loginId))])],1),t._v(" "),n("h2",{attrs:{"data-v-event":""}},[t._v("参加者")]),t._v(" "),n("ul",{attrs:{"data-v-event":""}},t._l(t.event.guests,function(e,a){return n("li",{key:a,attrs:{"data-v-event":""}},[null!=e.userNo?n("router-link",{attrs:{to:"/profile/"+e.userNo}},[t._v(t._s(e.loginId))]):t._e(),t._v(" "),null==e.userNo?[t._v(t._s(e.loginId))]:t._e()],2)}),0),t._v(" "),t.event.dispControl.addGuests?n("div",{staticClass:"buttonBase",on:{click:t.add}},[t._v("参加する")]):t._e(),t._v(" "),t.event.dispControl.removeGuests?n("div",{staticClass:"buttonBase",on:{click:t.cancel}},[t._v("参加を取消")]):t._e(),t._v(" "),n("div",{staticStyle:{margin:"40px 0px"}},[n("router-link",{attrs:{to:"/events/update/"+t.event.no}},[t.event.dispControl.update?n("div",{staticClass:"buttonBase"},[t._v("イベント更新")]):t._e()]),t._v(" "),t.event.dispControl.delEvent?n("div",{staticClass:"buttonBase",on:{click:t.cancelEvent}},[t._v("イベントを取消")]):t._e()],1),t._v(" "),n("h2",{attrs:{"data-v-event":""}},[t._v("コメント")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputComment,expression:"inputComment"}],attrs:{type:"text",placeholder:"コメントを入力してください"},domProps:{value:t.inputComment},on:{input:function(e){e.target.composing||(t.inputComment=e.target.value)}}}),t._v(" "),n("div",{staticClass:"buttonBase",on:{click:t.addComment}},[t._v("コメント追加")]),t._v(" "),t._l(t.event.comments,function(e,a){return n("div",{key:a,staticClass:"comment",attrs:{"data-v-event":""}},[n("p",{staticClass:"commentBody",attrs:{"data-v-event":""}},[t._v(t._s(e.body))]),t._v(" "),n("p",{staticClass:"commentFooter",attrs:{"data-v-event":""}},[t._v(t._s(e.footer))])])}),t._v(" "),t.showModal?n("Modal",{attrs:{mtypeIn:2},on:{"modal-ok-event":t.modalOk}},[n("p",{attrs:{slot:"header"},slot:"header"},[t._v("@TJC message")]),t._v(" "),n("template",{slot:"body"},[n("p",{domProps:{innerHTML:t._s(t.modalMsg)}})])],2):t._e()],2)},staticRenderFns:[]};var Nt=n("VU/8")(At,It,!1,function(t){n("/mNf")},"data-v-7c13be6c",null).exports,Ct={name:"RegEvent",components:{SinglePosMap:dt,Modal:d},data:function(){return{regData:{no:"",name:"",desc:"",pos:{posName:"",lat:null,lng:null},from:null,to:null,allDay:!1,twitter:!1,enableGuest:!1},showMap:!1,modalMsg:"",showModal:!1,update:!1}},watch:{$route:function(t,e){var n=this;return g()(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"UpdateEvent"==t.name&&null!=t.params.eventNo&&n.initData(t.params.eventNo);case 1:case"end":return e.stop()}},e,n)}))()}},created:function(){var t=g()(f.a.mark(function t(){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"UpdateEvent"==this.$route.name&&null!=this.$route.params.eventNo&&this.initData(this.$route.params.eventNo);case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{initData:function(t){var e=this;return g()(f.a.mark(function n(){var a;return f.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return window.scrollTo(0,0),n.next=3,e.$store.dispatch("initEvent",t);case 3:a=e.$store.getters.event,e.regData.no=a.no,e.regData.name=a.name,e.regData.desc=a.desc,e.regData.allDay=a.allDay,e.regData.from=a.from,e.regData.to=a.to,e.regData.pos.posName=a.pos.posName,e.regData.pos.lat=a.pos.lat,e.regData.pos.lng=a.pos.lng,e.update=a.dispControl.update,e.regData.enableGuest=a.enableGuest,e.update||e.$router.push({name:"EventList"}),e.$store.dispatch("setPosSingleMap",{lat:e.regData.pos.lat,lng:e.regData.pos.lng}),null==e.regData.pos.posName||""==e.regData.pos.posName?e.showMap=!1:e.showMap=!0,e.$refs.map.initMap();case 19:case"end":return n.stop()}},n,e)}))()},resetDate:function(){this.regData.from=null,this.regData.to=null},searchPos:function(){var t=this;return g()(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("search"),e.next=3,t.$store.dispatch("searchPos",t.regData.pos.posName);case 3:t.showMap=!0,t.$refs.map.initMap(),t.regData.pos.lat=t.$store.getters.posSingleMap.lat,t.regData.pos.lng=t.$store.getters.posSingleMap.lng;case 7:case"end":return e.stop()}},e,t)}))()},register:function(){this.validate()&&this.$store.dispatch("regEvent",this.regData)},updateEvent:function(){this.validate()&&this.$store.dispatch("editEvent",this.regData)},validate:function(){return""==this.regData.name?(this.modalMsg="イベント名を入力してください",this.showModal=!0,!1):null==this.regData.pos.posName||""==this.regData.pos.posName||null!=this.regData.pos.lat&&null!=this.regData.pos.lng&&""!=this.regData.pos.lat&&""!=this.regData.pos.lng?null!=this.regData.from&&null!=this.regData.to&&""!=this.regData.from&&""!=this.regData.to||(this.modalMsg="期間の指定が不正です",this.showModal=!0,!1):(this.modalMsg="場所の指定が不正です",this.showModal=!0,!1)},modalOk:function(){this.showModal=!1}}},Ft={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("div",{staticStyle:{"margin-bottom":"50px"}},[n("h2",{attrs:{"data-v-regevent":""}},[t._v("イベント名")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.regData.name,expression:"regData.name"}],attrs:{type:"text",name:"name"},domProps:{value:t.regData.name},on:{input:function(e){e.target.composing||t.$set(t.regData,"name",e.target.value)}}}),t._v(" "),n("h2",{attrs:{"data-v-regevent":""}},[t._v("概要")]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.regData.desc,expression:"regData.desc"}],attrs:{rows:"5","data-v-regevent":"",name:"desc"},domProps:{value:t.regData.desc},on:{input:function(e){e.target.composing||t.$set(t.regData,"desc",e.target.value)}}}),t._v(" "),n("h2",{attrs:{"data-v-regevent":""}},[t._v("期間")]),t._v(" "),t.regData.allDay?t._e():n("input",{directives:[{name:"model",rawName:"v-model",value:t.regData.from,expression:"regData.from"}],staticClass:"fromToDate",attrs:{type:"datetime-local","data-v-regevent":"",name:"from"},domProps:{value:t.regData.from},on:{input:function(e){e.target.composing||t.$set(t.regData,"from",e.target.value)}}}),t._v(" "),t.regData.allDay?t._e():n("input",{directives:[{name:"model",rawName:"v-model",value:t.regData.to,expression:"regData.to"}],staticClass:"fromToDate",attrs:{type:"datetime-local","data-v-regevent":"",name:"to"},domProps:{value:t.regData.to},on:{input:function(e){e.target.composing||t.$set(t.regData,"to",e.target.value)}}}),t._v(" "),t.regData.allDay?n("input",{directives:[{name:"model",rawName:"v-model",value:t.regData.from,expression:"regData.from"}],staticClass:"fromToDate",attrs:{type:"date","data-v-regevent":"",name:"from"},domProps:{value:t.regData.from},on:{input:function(e){e.target.composing||t.$set(t.regData,"from",e.target.value)}}}):t._e(),t._v(" "),t.regData.allDay?n("input",{directives:[{name:"model",rawName:"v-model",value:t.regData.to,expression:"regData.to"}],staticClass:"fromToDate",attrs:{type:"date","data-v-regevent":"",name:"to"},domProps:{value:t.regData.to},on:{input:function(e){e.target.composing||t.$set(t.regData,"to",e.target.value)}}}):t._e(),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.regData.allDay,expression:"regData.allDay"}],staticClass:"checkBoxInput",attrs:{type:"checkbox","data-v-regevent":"",name:"allDay"},domProps:{checked:Array.isArray(t.regData.allDay)?t._i(t.regData.allDay,null)>-1:t.regData.allDay},on:{click:t.resetDate,change:function(e){var n=t.regData.allDay,a=e.target,r=!!a.checked;if(Array.isArray(n)){var o=t._i(n,null);a.checked?o<0&&t.$set(t.regData,"allDay",n.concat([null])):o>-1&&t.$set(t.regData,"allDay",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.regData,"allDay",r)}}}),t._v(" "),n("label",[t._v("終日")]),t._v(" "),n("h2",{attrs:{"data-v-regevent":""}},[t._v("場所")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.regData.pos.posName,expression:"regData.pos.posName"}],attrs:{type:"text",name:"posName",placeholder:"場所名・キーワードを入力してください"},domProps:{value:t.regData.pos.posName},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchPos(e)},input:function(e){e.target.composing||t.$set(t.regData.pos,"posName",e.target.value)}}}),t._v(" "),n("div",{staticClass:"buttonBase",on:{click:t.searchPos}},[t._v("検索")]),t._v(" "),n("SinglePosMap",{directives:[{name:"show",rawName:"v-show",value:t.showMap,expression:"showMap"}],ref:"map"})],1),t._v(" "),n("p",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.regData.enableGuest,expression:"regData.enableGuest"}],staticStyle:{width:"unset",height:"unset"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.regData.enableGuest)?t._i(t.regData.enableGuest,null)>-1:t.regData.enableGuest},on:{change:function(e){var n=t.regData.enableGuest,a=e.target,r=!!a.checked;if(Array.isArray(n)){var o=t._i(n,null);a.checked?o<0&&t.$set(t.regData,"enableGuest",n.concat([null])):o>-1&&t.$set(t.regData,"enableGuest",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.regData,"enableGuest",r)}}}),n("label",[t._v("@TJC非会員ゲストにもイベントを公開する")])]),t._v(" "),n("p",[t.update?t._e():n("input",{directives:[{name:"model",rawName:"v-model",value:t.regData.twitter,expression:"regData.twitter"}],staticStyle:{width:"unset",height:"unset"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.regData.twitter)?t._i(t.regData.twitter,null)>-1:t.regData.twitter},on:{change:function(e){var n=t.regData.twitter,a=e.target,r=!!a.checked;if(Array.isArray(n)){var o=t._i(n,null);a.checked?o<0&&t.$set(t.regData,"twitter",n.concat([null])):o>-1&&t.$set(t.regData,"twitter",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.regData,"twitter",r)}}}),t.update?t._e():n("label",[n("a",{attrs:{href:"https://twitter.com/tjc_ob_app",target:"_blank"}},[t._v("@TJC twitter")]),t._v("へ投稿する")])]),t._v(" "),t.update?t._e():n("div",{staticClass:"buttonBase",staticStyle:{"margin-top":"25px"},on:{click:t.register}},[t._v("登録")]),t._v(" "),t.update?n("div",{staticClass:"buttonBase",on:{click:t.updateEvent}},[t._v("更新")]):t._e(),t._v(" "),t.showModal?n("Modal",{attrs:{mtypeIn:2},on:{"modal-ok-event":t.modalOk}},[n("p",{attrs:{slot:"header"},slot:"header"},[t._v("@TJC message")]),t._v(" "),n("template",{slot:"body"},[n("p",{domProps:{innerHTML:t._s(t.modalMsg)}})])],2):t._e()],1)},staticRenderFns:[]};var $t=n("VU/8")(Ct,Ft,!1,function(t){n("sfoC")},"data-v-6518ad13",null).exports,Lt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mt-mask",attrs:{"data-v-mt":""}},[n("div",{staticClass:"mt-wrapper",attrs:{"data-v-mt":""}},[t._m(0),t._v(" "),n("div",{staticClass:"mt-content",attrs:{"data-v-mt":""}},[n("h2",{attrs:{"data-v-mt":""}},[t._v(t._s(t.maintenance.title))]),t._v(" "),n("div",{domProps:{innerHTML:t._s(t.maintenance.desc)}})])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{"data-v-mt":""}},[e("span",{staticClass:"logo",attrs:{"data-v-mt":""}},[this._v("@")]),e("span",{staticClass:"logoTxt",attrs:{"data-v-mt":""}},[this._v("TJC")])])}]};var Et=n("VU/8")({name:"Maintenance",data:function(){return{maintenance:this.$store.getters.maintenance}},created:function(){this.maintenance.flag||this.$router.push({name:"Portal"})}},Lt,!1,function(t){n("2FHI")},"data-v-3fdd6264",null).exports,Gt={name:"Entry",data:function(){return{}},computed:{entry:function(){return this.$store.getters.entry},dat:function(){var t=new Date(this.entry.dat);return t.getFullYear()+"/"+("00"+(t.getMonth()+1)).slice(-2)+"/"+("00"+t.getDate()).slice(-2)}},mounted:function(){var t=this;return g()(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return window.scrollTo(0,0),e.next=3,t.$store.dispatch("initEntry",t.$route.params.entryNo);case 3:case"end":return e.stop()}},e,t)}))()},watch:{$route:function(t,e){var n=this;return g()(f.a.mark(function t(){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.$store.dispatch("initEntry",n.$route.params.entryNo);case 2:case"end":return t.stop()}},t,n)}))()}},methods:{delEntry:function(){var t=this;return g()(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("delEntry",t.entry.no);case 2:case"end":return e.stop()}},e,t)}))()}}},Dt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("h1",[t._v(t._s(t.entry.title))]),t._v(" "),n("div",{staticStyle:{"margin-bottom":"30px"}},[n("p",{staticClass:"cInfo"},[t._v("Author : "),n("router-link",{attrs:{to:"/profile/"+t.entry.user}},[t._v(t._s(t.entry.userId))]),t._v(" , Date : "+t._s(this.dat))],1),t._v(" "),""!=t.entry.imgUrl?n("img",{staticStyle:{"margin-top":"10px"},attrs:{src:t.entry.imgUrl,width:"100%"}}):t._e(),t._v(" "),n("div",{staticClass:"cBody",domProps:{innerHTML:t._s(t.$sanitize(t.entry.body))}})]),t._v(" "),n("router-link",{attrs:{to:{name:"EditEntry"}}},[t.entry.editable?n("div",{staticClass:"buttonBase"},[t._v("編集")]):t._e()]),t._v(" "),t.entry.editable?n("div",{staticClass:"buttonBase",on:{click:t.delEntry}},[t._v("削除")]):t._e()],1)},staticRenderFns:[]};var Tt=n("VU/8")(Gt,Dt,!1,function(t){n("CIct")},"data-v-112fb7eb",null).exports,Rt={name:"EntryForm",data:function(){return{}},computed:{entry:{get:function(){return this.$store.getters.entry},set:function(t){this.$store.dispatch("setEntry",t)}},userInfo:{get:function(){return this.$store.getters.userInfo}}},methods:{selectFile:function(t){console.log("in select"),t.preventDefault();var e=t.target.files;this.entry.imgFile=e[0]}}},Bt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",[t._v("タイトル")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.entry.title,expression:"entry.title"}],attrs:{type:"text",name:"title"},domProps:{value:t.entry.title},on:{input:function(e){e.target.composing||t.$set(t.entry,"title",e.target.value)}}}),t._v(" "),n("h2",[t._v("本文")]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.entry.body,expression:"entry.body"}],attrs:{rows:"5",name:"body"},domProps:{value:t.entry.body},on:{input:function(e){e.target.composing||t.$set(t.entry,"body",e.target.value)}}}),t._v(" "),""==t.entry.imgUrl?n("h2",[t._v("画像添付")]):t._e(),t._v(" "),""!=t.entry.imgUrl?n("h2",[t._v("添付画像変更")]):t._e(),t._v(" "),n("input",{attrs:{type:"file",name:"image"},on:{change:t.selectFile}}),t._v(" "),null==t.entry.no?n("p",{staticStyle:{"margin-top":"30px"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.entry.twitter,expression:"entry.twitter"}],staticStyle:{width:"unset",height:"unset"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.entry.twitter)?t._i(t.entry.twitter,null)>-1:t.entry.twitter},on:{change:function(e){var n=t.entry.twitter,a=e.target,r=!!a.checked;if(Array.isArray(n)){var o=t._i(n,null);a.checked?o<0&&t.$set(t.entry,"twitter",n.concat([null])):o>-1&&t.$set(t.entry,"twitter",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.entry,"twitter",r)}}}),n("label",[n("a",{attrs:{href:"https://twitter.com/tjc_ob_app",target:"_blank"}},[t._v("@TJC twitter")]),t._v("へ投稿する "),n("br"),t._v("(投稿内容 :『新しいエントリが登録しました。「"+t._s(t.entry.title)+"」』 )")])]):t._e()])},staticRenderFns:[]};var Ht=n("VU/8")(Rt,Bt,!1,function(t){n("cEqR")},"data-v-7bfb8e93",null).exports,Wt={components:{EntryForm:Ht,Modal:d},name:"RegEntry",data:function(){return{modalMsg:"",showModal:!1}},computed:{entry:{get:function(){return this.$store.getters.entry},set:function(t){this.$store.dispatch("setEntry",t)}}},mounted:function(){this.entry.no=null,this.entry.title="",this.entry.body="",this.entry.imgUrl=""},methods:{register:function(){this.validate()&&this.$store.dispatch("regEntry",this.entry)},validate:function(){return""==this.entry.title?(this.modalMsg="タイトルを入力してください",this.showModal=!0,!1):""!=this.entry.body||(this.modalMsg="本文を入力してください",this.showModal=!0,!1)}}},Ot={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("h1",[t._v("新規投稿")]),t._v(" "),n("EntryForm"),t._v(" "),n("div",{staticClass:"buttonBase",staticStyle:{"margin-top":"30px"},on:{click:t.register}},[t._v("投稿")]),t._v(" "),t.showModal?n("Modal",{attrs:{mtypeIn:2},on:{"modal-ok-event":function(e){t.showModal=!1}}},[n("p",{attrs:{slot:"header"},slot:"header"},[t._v("@TJC message")]),t._v(" "),n("template",{slot:"body"},[n("p",{domProps:{innerHTML:t._s(t.modalMsg)}})])],2):t._e()],1)},staticRenderFns:[]};var zt=n("VU/8")(Wt,Ot,!1,function(t){n("pnfn")},"data-v-9a9f75fe",null).exports,jt={components:{EntryForm:Ht,Modal:d},name:"EditEntry",data:function(){return{modalMsg:"",showModal:!1,delImg:!1}},computed:{entry:{get:function(){return this.$store.getters.entry},set:function(t){this.$store.dispatch("setEntry",t)}}},mounted:function(){this.entry.editable||this.$router.push({name:"EntryList"})},methods:{updateEntry:function(){this.validate()&&(this.delImg&&(this.entry.imgUrl=""),this.$store.dispatch("updateEntry",this.entry))},validate:function(){return""==this.entry.title?(this.modalMsg="タイトルを入力してください",this.showModal=!0,!1):""!=this.entry.body||(this.modalMsg="本文を入力してください",this.showModal=!0,!1)}}},Zt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("h1",[t._v("編集")]),t._v(" "),n("EntryForm"),t._v(" "),n("p",{staticStyle:{"margin-top":"30px"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.delImg,expression:"delImg"}],staticStyle:{width:"unset",height:"unset"},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.delImg)?t._i(t.delImg,null)>-1:t.delImg},on:{change:function(e){var n=t.delImg,a=e.target,r=!!a.checked;if(Array.isArray(n)){var o=t._i(n,null);a.checked?o<0&&(t.delImg=n.concat([null])):o>-1&&(t.delImg=n.slice(0,o).concat(n.slice(o+1)))}else t.delImg=r}}}),n("label",[t._v("添付済の画像を削除")])]),t._v(" "),n("div",{staticClass:"buttonBase",staticStyle:{"margin-top":"30px"},on:{click:t.updateEntry}},[t._v("更新")]),t._v(" "),t.showModal?n("Modal",{attrs:{mtypeIn:2},on:{"modal-ok-event":function(e){t.showModal=!1}}},[n("p",{attrs:{slot:"header"},slot:"header"},[t._v("@TJC message")]),t._v(" "),n("template",{slot:"body"},[n("p",{domProps:{innerHTML:t._s(t.modalMsg)}})])],2):t._e()],1)},staticRenderFns:[]};var Vt=n("VU/8")(jt,Zt,!1,function(t){n("noBU")},"data-v-488c6f42",null).exports,qt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("h1",{attrs:{"data-v-events":""}},[t._v("エントリ一覧")]),t._v(" "),n("p",[t._v("皆様の近況等、ご自由に記載ください。")]),t._v(" "),n("div",{staticStyle:{"margin-bottom":"50px"}},t._l(t.entries,function(e,a){return n("h2",{key:a},[n("router-link",{attrs:{to:"/entries/detail/"+e.no}},[t._v(t._s(e.title))]),t._v(" "),n("h3",[t._v("Author："),n("router-link",{attrs:{to:"/profile/"+e.user}},[t._v(t._s(e.userId))])],1),t._v(" "),n("h3",[t._v("Date："+t._s(e.dat))])],1)}),0),t._v(" "),n("router-link",{attrs:{to:"/entries/registration"}},[n("div",{staticClass:"buttonBase"},[t._v("新規登録")])])],1)},staticRenderFns:[]};var Jt=n("VU/8")({name:"Entries",computed:{entries:function(){return this.$store.getters.entries}},created:function(){this.$store.dispatch("initEntrylist")}},qt,!1,function(t){n("exgS")},"data-v-87efbf72",null).exports,Qt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("メンテナンス設定")]),t._v(" "),n("div",{staticClass:"editBox",attrs:{"data-v-mts":""}},[n("h3",{attrs:{"data-v-mts":""}},[t._v("タイトル")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.maintenanceInfo.title,expression:"maintenanceInfo.title"}],attrs:{type:"text",name:"title"},domProps:{value:t.maintenanceInfo.title},on:{input:function(e){e.target.composing||t.$set(t.maintenanceInfo,"title",e.target.value)}}}),t._v(" "),n("h3",{attrs:{"data-v-mts":""}},[t._v("概要説明")]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.maintenanceInfo.desc,expression:"maintenanceInfo.desc"}],attrs:{rows:"5",name:"desc"},domProps:{value:t.maintenanceInfo.desc},on:{input:function(e){e.target.composing||t.$set(t.maintenanceInfo,"desc",e.target.value)}}}),t._v(" "),n("h3",{attrs:{"data-v-mts":""}},[t._v("開始日時")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.maintenanceInfo.from,expression:"maintenanceInfo.from"}],attrs:{type:"text",name:"from",placeholder:"yyyy-MM-dd HH:mm:ss +0900"},domProps:{value:t.maintenanceInfo.from},on:{input:function(e){e.target.composing||t.$set(t.maintenanceInfo,"from",e.target.value)}}}),t._v(" "),n("h3",{attrs:{"data-v-mts":""}},[t._v("終了日時")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.maintenanceInfo.to,expression:"maintenanceInfo.to"}],attrs:{type:"text",name:"to",placeholder:"yyyy-MM-dd HH:mm:ss +0900"},domProps:{value:t.maintenanceInfo.to},on:{input:function(e){e.target.composing||t.$set(t.maintenanceInfo,"to",e.target.value)}}}),t._v(" "),n("div",{staticClass:"buttonBase",on:{click:t.maintenanceRegister}},[t._v("登録")])])])},staticRenderFns:[]};var Yt=n("VU/8")({name:"MaintenanceSetting",computed:{maintenanceInfo:{get:function(){return this.$store.getters.adminMaintenance},set:function(t){this.$store.dispatch("setAdminMaintenanceFront",t),this.$store.dispatch("UpdateAdminMaintenance")}}},created:function(){this.$store.dispatch("GetAdminMaintenance"),this.$store.getters.userInfo.admin||this.$router.push("/")},methods:{maintenanceRegister:function(){this.$store.dispatch("UpdateAdminMaintenance")}},data:function(){return{}}},Qt,!1,function(t){n("8+Mr")},"data-v-5ba67bc8",null).exports,Kt={name:"InvitationComp",components:{Modal:d},methods:{toSend:function(){var t=this;return g()(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=t.formInput.mail){e.next=4;break}return t.modalMsg="メールアドレスを入力してください",t.showModal=!0,e.abrupt("return");case 4:return t.formInput.url="https://std-ink.github.io/at-tjc/#/registration?invCode=",e.next=7,t.$store.dispatch("invitationUser",t.formInput);case 7:t.formInput.mail="",t.formInput.comment="";case 9:case"end":return e.stop()}},e,t)}))()},modalOk:function(){this.showModal=!1}},data:function(){return{formInput:{mail:"",comment:"",url:""},showModal:!1}}},Xt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("p",[t._v("@TJCに招待したいユーザーのメールアドレスを入力してください。")]),t._v(" "),n("p",[t._v("指定されたユーザーへ招待URLリンクが送信されます。")]),t._v(" "),n("p",[t._v("入力されたメッセージは招待メール本文に設定されます。")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.formInput.mail,expression:"formInput.mail"}],attrs:{type:"text",name:"mail",placeholder:"メールアドレス"},domProps:{value:t.formInput.mail},on:{input:function(e){e.target.composing||t.$set(t.formInput,"mail",e.target.value)}}}),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formInput.comment,expression:"formInput.comment"}],attrs:{rows:"5",placeholder:"メッセージ"},domProps:{value:t.formInput.comment},on:{input:function(e){e.target.composing||t.$set(t.formInput,"comment",e.target.value)}}}),t._v(" "),n("div",{staticClass:"buttonBase",on:{click:t.toSend}},[t._v("招待状を送信する")]),t._v(" "),t.showModal?n("Modal",{attrs:{mtypeIn:2},on:{"modal-ok-event":t.modalOk}},[n("p",{attrs:{slot:"header"},slot:"header"},[t._v("@TJC message")]),t._v(" "),n("template",{slot:"body"},[n("p",{domProps:{innerHTML:t._s(t.modalMsg)}})])],2):t._e()],1)},staticRenderFns:[]};var te=n("VU/8")(Kt,Xt,!1,function(t){n("tHUL")},"data-v-1df89038",null).exports,ee={name:"LoginedUser",components:{InvitationComp:te},computed:{loginUsers:{get:function(){return this.$store.getters.adminLoginUsers}},invCode:{get:function(){var t=location.href;return(t=t.replace("/admin/loginedusers",""))+"/registration?invCode="+this.$store.getters.adminInvCode}}},created:function(){this.$store.dispatch("GetAdminLoginUsers"),this.$store.dispatch("GetAdminInvCode"),this.$store.getters.userInfo.admin||this.$router.push("/")},data:function(){return{}}},ne={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("ユーザー管理")]),t._v(" "),n("h2",{attrs:{"data-v-lgu":""}},[t._v("ログインユーザー情報")]),t._v(" "),n("table",{attrs:{width:"100%","data-v-lgu":""}},[t._m(0),t._v(" "),t._l(t.loginUsers,function(e,a){return n("tr",{key:a,attrs:{"data-v-lgu":""}},[n("td",{attrs:{"data-v-lgu":""}},[t._v(t._s(e.loginId))]),t._v(" "),n("td",{attrs:{"data-v-lgu":""}},[t._v(t._s(e.regDt))]),t._v(" "),n("td",{attrs:{"data-v-lgu":""}},[t._v(t._s(e.expDt))])])})],2),t._v(" "),n("div",{staticStyle:{margin:"40px 0px 60px 0px"}},[n("h2",{attrs:{"data-v-lgu":""}},[t._v("会員登録URL")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.invCode,expression:"invCode"}],attrs:{type:"text",name:"invCode",placeholder:" 会員登録URL",readonly:""},domProps:{value:t.invCode},on:{input:function(e){e.target.composing||(t.invCode=e.target.value)}}})]),t._v(" "),n("h2",{attrs:{"data-v-lgu":""}},[t._v("招待メール送信")]),t._v(" "),n("InvitationComp")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",{attrs:{"data-v-lgu":""}},[e("th",{attrs:{width:"30%","data-v-lgu":""}},[this._v("loginId")]),this._v(" "),e("th",{attrs:{width:"30%","data-v-lgu":""}},[this._v("ログイン日時")]),this._v(" "),e("th",{attrs:{width:"30%","data-v-lgu":""}},[this._v("トークン有効期限")])])}]};var ae=n("VU/8")(ee,ne,!1,function(t){n("XkwJ")},"data-v-b94e1c30",null).exports,re={name:"AdminMenu",components:{MaintenanceSetting:Yt,LoginedUser:ae},computed:{},created:function(){this.$store.getters.userInfo.admin||this.$router.push("/")},methods:{},data:function(){return{}}},oe={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("nav",[e("div",{staticClass:"btnBox"},[e("router-link",{staticClass:"btn",attrs:{to:{name:"AdminInfo"},"data-v-adminmenu":""}},[this._v("Info")]),this._v(" "),e("router-link",{staticClass:"btn",attrs:{to:{name:"MaintenanceSetting"},"data-v-adminmenu":""}},[this._v("メンテナンス")]),this._v(" "),e("router-link",{staticClass:"btn",attrs:{to:{name:"LoginedUsers"},"data-v-adminmenu":""}},[this._v("ユーザー管理")])],1)]),this._v(" "),e("section",[e("router-view")],1)])},staticRenderFns:[]};var se=n("VU/8")(re,oe,!1,function(t){n("bgPq")},"data-v-6a9e2626",null).exports,ie={name:"TimeLine",components:{TimeLineComp:C},computed:{},created:function(){window.scrollTo(0,0)},methods:{},data:function(){return{}}},le={render:function(){var t=this.$createElement,e=this._self._c||t;return e("section",[e("h1",[this._v("Comment TimeLine")]),this._v(" "),e("TimeLineComp")],1)},staticRenderFns:[]};var de=n("VU/8")(ie,le,!1,function(t){n("1Ek5")},"data-v-53099a16",null).exports,ce={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("h1",[t._v("パスワード再設定")]),t._v(" "),n("p",[t._v("会員登録されているメールアドレスを入力し「送信」をクリックしてください。")]),t._v(" "),n("p",[t._v("入力されたメールアドレスに、std.ink.system@gmail.com から確認メールを送信します。")]),t._v(" "),n("p",[t._v("std.ink.system@gmail.com からメール受信できるよう、メール設定をご確認ください。")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticStyle:{margin:"20px 0px"},attrs:{type:"text",name:"mail",placeholder:"登録メールアドレス"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),n("div",{staticClass:"buttonBase",on:{click:t.toSent}},[t._v("送信")])])},staticRenderFns:[]},ue=n("VU/8")({name:"PasswordReminder",created:function(){this.$store.dispatch("setToggreState",!1)},data:function(){return{email:null}},methods:{toSent:function(){this.$store.dispatch("passwordReminder",{email:this.email,url:"https://std-ink.github.io/at-tjc/#/resetpassword?key="})}}},ce,!1,null,null,null).exports,me={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("h1",[t._v("パスワード再設定")]),t._v(" "),n("p",[t._v("会員登録されているメールアドレスと新しいパスワードを入力し、「再設定」をクリックしてください。")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.input.email,expression:"input.email"}],staticStyle:{margin:"10px 0px"},attrs:{type:"text",name:"mail",placeholder:"登録メールアドレス"},domProps:{value:t.input.email},on:{input:function(e){e.target.composing||t.$set(t.input,"email",e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.input.updatedPW,expression:"input.updatedPW"}],staticStyle:{margin:"10px 0px"},attrs:{type:"password",name:"pw",placeholder:"パスワード"},domProps:{value:t.input.updatedPW},on:{input:function(e){e.target.composing||t.$set(t.input,"updatedPW",e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.input.updatedPWRe,expression:"input.updatedPWRe"}],staticStyle:{margin:"10px 0px"},attrs:{type:"password",name:"pw",placeholder:"パスワード（再確認）"},domProps:{value:t.input.updatedPWRe},on:{input:function(e){e.target.composing||t.$set(t.input,"updatedPWRe",e.target.value)}}}),t._v(" "),n("div",{staticClass:"buttonBase",on:{click:t.toSent}},[t._v("再設定")])])},staticRenderFns:[]},pe=n("VU/8")({name:"ResetPassword",created:function(){this.$store.dispatch("setToggreState",!1),this.input.key=this.$route.query.key},data:function(){return{input:{email:null,key:null,updatedPW:null,updatedPWRe:null}}},methods:{toSent:function(){this.$store.dispatch("resetPassword",this.input)}}},me,!1,null,null,null).exports,ve={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("Admin")]),t._v(" "),n("h2",{attrs:{"data-v-admn":""}},[t._v("Portal Information")]),t._v(" "),n("table",{attrs:{width:"100%"}},[t._m(0),t._v(" "),t._l(t.infos,function(e,a){return n("tr",{key:a},[n("td",{attrs:{"data-v-admn":""}},[n("router-link",{attrs:{to:"/admin/info/"+e.id}},[t._v(t._s(e.title))])],1),t._v(" "),n("td",{attrs:{"data-v-admn":""}},[t._v(t._s(e.from))]),t._v(" "),n("td",{attrs:{"data-v-admn":""}},[t._v(t._s(e.to))])])})],2),t._v(" "),n("router-link",{attrs:{to:{name:"RegAdminInfo"}}},[n("div",{staticClass:"buttonBase",staticStyle:{"margin-top":"25px"}},[t._v("Information登録")])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",{attrs:{width:"30%","data-v-admn":""}},[this._v("タイトル")]),e("th",{attrs:{width:"30%","data-v-admn":""}},[this._v("From")]),e("th",{attrs:{width:"30%","data-v-admn":""}},[this._v("To")])])}]};var fe=n("VU/8")({name:"AdminInfo",computed:{infos:{get:function(){return this.$store.getters.adminInfos}}},created:function(){this.$store.dispatch("GetAdminInfos",this.$route.params.infoId),this.$store.getters.userInfo.admin||this.$router.push("/")},methods:{},data:function(){return{}}},ve,!1,function(t){n("l4k6")},"data-v-40461c29",null).exports,he={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("Information")]),t._v(" "),n("h2",{attrs:{"data-v-adifdtl":""}},[t._v("タイトル")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.info.title,expression:"info.title"}],attrs:{type:"text",name:"title"},domProps:{value:t.info.title},on:{input:function(e){e.target.composing||t.$set(t.info,"title",e.target.value)}}}),t._v(" "),n("h2",{attrs:{"data-v-adifdtl":""}},[t._v("内容")]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.info.body,expression:"info.body"}],attrs:{rows:"5",name:"body"},domProps:{value:t.info.body},on:{input:function(e){e.target.composing||t.$set(t.info,"body",e.target.value)}}}),t._v(" "),n("h2",{attrs:{"data-v-adifdtl":""}},[t._v("掲載開始日時")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.info.from,expression:"info.from"}],attrs:{type:"datetime-local",name:"from",placeholder:"yyyy-MM-dd HH:mm:ss +0900"},domProps:{value:t.info.from},on:{input:function(e){e.target.composing||t.$set(t.info,"from",e.target.value)}}}),t._v(" "),n("h2",{attrs:{"data-v-adifdtl":""}},[t._v("掲載終了日時")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.info.to,expression:"info.to"}],attrs:{type:"datetime-local",name:"to",placeholder:"yyyy-MM-dd HH:mm:ss +0900"},domProps:{value:t.info.to},on:{input:function(e){e.target.composing||t.$set(t.info,"to",e.target.value)}}}),t._v(" "),t.update?t._e():n("div",{staticClass:"buttonBase",staticStyle:{"margin-top":"25px"},on:{click:t.registerInfo}},[t._v("登録")]),t._v(" "),t.update?n("div",{staticClass:"buttonBase",staticStyle:{"margin-top":"25px"},on:{click:t.updateInfo}},[t._v("更新")]):t._e(),t._v(" "),t.update?n("div",{staticClass:"buttonBase",staticStyle:{"margin-top":"25px"},on:{click:t.deleteInfo}},[t._v("削除")]):t._e()])},staticRenderFns:[]};var ge=n("VU/8")({name:"AdminInfoDtl",computed:{info:{get:function(){return this.$store.getters.adminInfo},set:function(t){this.$store.dispatch("setAdminInfo",t)}}},created:function(){"AdminInfoDtl"==this.$route.name&&null!=this.$route.params.infoId?(this.$store.dispatch("GetAdminInfo",this.$route.params.infoId),this.update=!0):this.info={},this.$store.getters.userInfo.admin||this.$router.push("/")},methods:{updateInfo:function(){this.$store.dispatch("UpdateAdminInfo",this.info)},registerInfo:function(){this.$store.dispatch("RegAdminInfo",this.info)},deleteInfo:function(){this.$store.dispatch("DelAdminInfo",this.info.id)}},data:function(){return{update:!1}}},he,!1,function(t){n("tvoE")},"data-v-22d5ad40",null).exports,_e={name:"Invitation",components:{InvitationComp:te}},we={render:function(){var t=this.$createElement,e=this._self._c||t;return e("section",[e("h1",[this._v("ユーザーを招待する")]),this._v(" "),e("InvitationComp")],1)},staticRenderFns:[]};var Me=n("VU/8")(_e,we,!1,function(t){n("WGgR")},"data-v-df559bd6",null).exports,be={name:"GuestEvent",components:{SinglePosMap:dt,Modal:d},computed:{event:function(){return this.$store.getters.event}},data:function(){return{inputGuestName:"",inputName:"",inputComment:"",modalMsg:"",showModal:!1,gtoken:null,isAdd:!0}},created:function(){var t=g()(f.a.mark(function t(){var e;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo(0,0),this.$store.dispatch("setToggreState",!1),t.next=4,this.$store.dispatch("initGuestEvent",this.$route.params.eventNo);case 4:this.$store.dispatch("setPosSingleMap",{lat:this.event.pos.lat,lng:this.event.pos.lng}),this.$refs.map.initMap(),e="E"+this.event.no,this.gtoken=localStorage.getItem(e),null!=this.gtoken&&(this.isAdd=!1);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),watch:{$route:function(t,e){var n=this;return g()(f.a.mark(function e(){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.$store.dispatch("setToggreState",!1),e.next=3,n.$store.dispatch("initGuestEvent",t.params.eventNo);case 3:n.$store.dispatch("setPosSingleMap",{lat:n.event.pos.lat,lng:n.event.pos.lng}),n.$refs.map.initMap(),a="E"+n.event.no,n.gtoken=localStorage.getItem(a),null!=n.gtoken&&(n.isAdd=!1);case 8:case"end":return e.stop()}},e,n)}))()}},methods:{add:function(){var t=this;return g()(f.a.mark(function e(){var n,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=t.inputGuestName){e.next=4;break}return t.modalMsg="名前が未入力です。",t.showModal=!0,e.abrupt("return");case 4:return n=(new Date).getTime().toString(16)+Math.floor(1e5*Math.random()).toString(16),e.next=7,t.$store.dispatch("addOtGuest",{eventNo:t.event.no,name:t.inputGuestName,gtoken:n});case 7:t.$store.dispatch("initGuestEvent",t.$route.params.eventNo),a="E"+t.event.no,t.gtoken=localStorage.getItem(a),null!=t.gtoken&&(t.isAdd=!1);case 11:case"end":return e.stop()}},e,t)}))()},cancel:function(){var t=this;return g()(f.a.mark(function e(){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("removeOtGuest",{eventNo:t.event.no,gtoken:t.gtoken});case 2:t.$store.dispatch("initGuestEvent",t.$route.params.eventNo),t.isAdd=!0,n="E"+t.event.no,t.gtoken=localStorage.getItem(n),null!=t.gtoken&&(t.isAdd=!1);case 7:case"end":return e.stop()}},e,t)}))()},addComment:function(){var t=this;return g()(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=t.inputComment&&""!=t.inputName){e.next=4;break}return t.modalMsg="名前、またはコメントが未入力です。",t.showModal=!0,e.abrupt("return");case 4:return e.next=6,t.$store.dispatch("addGuestComment",{eventNo:t.event.no,comment:t.inputComment,name:t.inputName});case 6:t.$store.dispatch("initGuestEvent",t.$route.params.eventNo),t.inputComment="";case 8:case"end":return e.stop()}},e,t)}))()},modalOk:function(){this.showModal=!1}}},ye={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("h1",{attrs:{"data-v-event":""}},[t._v(t._s(t.event.name))]),t._v(" "),n("SinglePosMap",{ref:"map"}),t._v(" "),n("h2",{attrs:{"data-v-event":""}},[t._v("Info")]),t._v(" "),n("p",{attrs:{"data-v-event":""}},[t._v("このページはゲスト用です。@TJC会員登録済の方は会員用ページへお進みください。")]),t._v(" "),n("router-link",{attrs:{to:"/events/detail/"+t.event.no}},[n("div",{staticClass:"buttonBase"},[t._v("会員用ページ")])]),t._v(" "),n("h2",{attrs:{"data-v-event":""}},[t._v("概要")]),t._v(" "),n("p",{attrs:{"data-v-event":""}},[t._v(t._s(t.event.desc))]),t._v(" "),n("h2",{attrs:{"data-v-event":""}},[t._v("場所")]),t._v(" "),n("p",{attrs:{"data-v-event":""}},[t._v(t._s(t.event.pos.posName))]),t._v(" "),n("h2",{attrs:{"data-v-event":""}},[t._v("日時")]),t._v(" "),n("p",{attrs:{"data-v-event":""}},[t._v(t._s(t.event.time))]),t._v(" "),n("h2",{attrs:{"data-v-event":""}},[t._v("オーナー")]),t._v(" "),n("p",{attrs:{"data-v-event":""}},[t._v(t._s(t.event.owner.loginId))]),t._v(" "),n("h2",{attrs:{"data-v-event":""}},[t._v("参加者")]),t._v(" "),n("ul",{attrs:{"data-v-event":""}},t._l(t.event.guests,function(e,a){return n("li",{key:a,attrs:{"data-v-event":""}},[t._v("\n            "+t._s(e.loginId)+"\n        ")])}),0),t._v(" "),t.isAdd?n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputGuestName,expression:"inputGuestName"}],attrs:{type:"text",placeholder:"名前を入力してください"},domProps:{value:t.inputGuestName},on:{input:function(e){e.target.composing||(t.inputGuestName=e.target.value)}}}):t._e(),t._v(" "),t.isAdd?n("div",{staticClass:"buttonBase",on:{click:t.add}},[t._v("参加する")]):t._e(),t._v(" "),t.isAdd?t._e():n("div",{staticClass:"buttonBase",on:{click:t.cancel}},[t._v("参加を取消")]),t._v(" "),n("h2",{attrs:{"data-v-event":""}},[t._v("コメント")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputName,expression:"inputName"}],attrs:{type:"text",placeholder:"名前を入力してください"},domProps:{value:t.inputName},on:{input:function(e){e.target.composing||(t.inputName=e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputComment,expression:"inputComment"}],attrs:{type:"text",placeholder:"コメントを入力してください"},domProps:{value:t.inputComment},on:{input:function(e){e.target.composing||(t.inputComment=e.target.value)}}}),t._v(" "),n("div",{staticClass:"buttonBase",on:{click:t.addComment}},[t._v("コメント追加")]),t._v(" "),t._l(t.event.comments,function(e,a){return n("div",{key:a,staticClass:"comment",attrs:{"data-v-event":""}},[n("p",{staticClass:"commentBody",attrs:{"data-v-event":""}},[t._v(t._s(e.body))]),t._v(" "),n("p",{staticClass:"commentFooter",attrs:{"data-v-event":""}},[t._v(t._s(e.footer))])])}),t._v(" "),t.showModal?n("Modal",{attrs:{mtypeIn:2},on:{"modal-ok-event":t.modalOk}},[n("p",{attrs:{slot:"header"},slot:"header"},[t._v("@TJC message")]),t._v(" "),n("template",{slot:"body"},[n("p",{domProps:{innerHTML:t._s(t.modalMsg)}})])],2):t._e()],2)},staticRenderFns:[]};var ke=n("VU/8")(be,ye,!1,function(t){n("NiFa")},"data-v-925617be",null).exports;a.a.use(_.a);var Se=new _.a({routes:[{path:"/",name:"Portal",component:L,meta:{requiresAuth:!0},beforeEnter:function(){var t=g()(f.a.mark(function t(e,n,a){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.dispatch("initPortalPage");case 2:a();case 3:case"end":return t.stop()}},t,this)}));return function(e,n,a){return t.apply(this,arguments)}}()},{path:"/registration",component:V,meta:{title:"会員登録"},children:[{name:"reg-inv",path:"",component:D,meta:{title:"招待コード入力"}},{name:"reg-input",path:"input",component:W,meta:{title:"会員登録"},beforeEnter:function(t,e,n){x.dispatch("CheckInvitationCode"),n()}},{name:"reg-comp",path:"comp",component:z,meta:{title:"会員登録完了"},beforeEnter:function(t,e,n){x.dispatch("Registration"),n()}}]},{path:"/login",name:"Login",component:Q,meta:{title:"ログイン"},beforeEnter:function(t,e,n){x.getters.logined?n("/"):n()}},{path:"/admin/login",name:"adLogin",component:K,meta:{title:"Adminログイン",maintenance:!0},beforeEnter:function(t,e,n){x.getters.logined?n("/"):n()}},{name:"MyPage",path:"/mypage",component:at,meta:{requiresAuth:!0,title:"マイページ"},children:[{name:"MyPage",path:"",component:st,meta:{title:"マイページ"},beforeEnter:function(t,e,n){x.dispatch("initMypage"),n()}},{name:"EditProfile",path:"edit",component:vt,meta:{title:"プロフィール編集"},beforeEnter:function(t,e,n){null==x.getters.profile.userId?n("/mypage"):n()}},{name:"UpdatePassword",path:"password",component:gt,meta:{title:"パスワード変更"}}]},{name:"Profile",path:"/profile/:userNo",component:Mt,meta:{requiresAuth:!0,title:"プロフィール"},beforeEnter:function(t,e,n){x.dispatch("initProfile",t.params.userNo),n()}},{path:"/inquiry",name:"Inquiry",component:kt,meta:{requiresAuth:!0,title:"お問い合わせフォーム"}},{name:"MemberList",path:"/members",component:Ut,meta:{requiresAuth:!0,title:"メンバーリスト"}},{name:"EventList",path:"/events",component:xt,meta:{requiresAuth:!0,title:"イベント一覧"}},{name:"EventDetail",path:"/events/detail/:eventNo",component:Nt,meta:{requiresAuth:!0,title:"イベント"}},{name:"RegEvent",path:"/events/registration",component:$t,meta:{requiresAuth:!0,title:"イベント登録"}},{name:"UpdateEvent",path:"/events/update/:eventNo",component:$t,meta:{requiresAuth:!0,title:"イベント更新"}},{name:"Maintenance",path:"/maintenance",component:Et,meta:{maintenance:!0}},{name:"Terms",path:"/terms",component:R,meta:{requiresAuth:!0,title:"利用規約"}},{name:"EntryList",path:"/entries",component:Jt,meta:{requiresAuth:!0,title:"エントリ一覧"}},{name:"Entry",path:"/entries/detail/:entryNo",component:Tt,meta:{requiresAuth:!0}},{path:"/entries/registration",component:zt,meta:{requiresAuth:!0,title:"新規エントリ投稿"}},{name:"EditEntry",path:"/entries/edit",component:Vt,meta:{requiresAuth:!0,title:"エントリ編集"}},{path:"/timeline",name:"TimeLine",component:de,meta:{requiresAuth:!0,title:"コメント"}},{path:"/admin",component:se,name:"AdminMenu",meta:{requiresAuth:!0,title:"Admin"},children:[{name:"AdminInfo",path:"",component:fe,meta:{title:"Admin"}},{name:"AdminInfoDtl",path:"info/:infoId",component:ge,title:"Admin Information"},{name:"RegAdminInfo",path:"regInfo/",component:ge,title:"Admin Information登録"},{name:"MaintenanceSetting",path:"maintenance",component:Yt,meta:{title:"Admin メンテナンス設定"}},{name:"LoginedUsers",path:"loginedusers",component:ae,meta:{title:"Admin ログインユーザー情報"}}]},{path:"/passwordreminder",component:ue,name:"PasswordReminder",meta:{requiresAuth:!1,title:"パスワード再設定"}},{path:"/resetpassword",component:pe,name:"ResetPassword",meta:{requiresAuth:!1,title:"パスワード再設定"}},{path:"/invitation",component:Me,name:"Invitation",meta:{requiresAuth:!0,title:"ユーザーを招待する"}},{name:"GuestEventDetail",path:"/guest/events/detail/:eventNo",component:ke,meta:{requiresAuth:!1,title:"イベント"}}]});Se.beforeEach(function(t,e,n){return g()(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return x.dispatch("setShowSidebar",!1),x.dispatch("setLoading",!0),console.log("info:"+t.path),"/login"!=t.path&&"/admin/login"!=t.path&&x.dispatch("setAfterLogin",t),e.next=6,x.dispatch("CheckMaintenance");case 6:if(x.getters.maintenance.flag&&t.matched.some(function(t){return!t.meta.maintenance})&&n({name:"Maintenance"}),!t.matched.some(function(t){return t.meta.requiresAuth})){e.next=23;break}return console.log("info:need auth"),e.next=11,x.dispatch("checkLogin");case 11:if(!x.getters.logined){e.next=18;break}return x.dispatch("setLoading",!1),console.log("info:logined"),n(),e.abrupt("return");case 18:x.dispatch("setLoading",!1),console.log("info:not logined"),n({name:"Login"});case 21:e.next=25;break;case 23:x.dispatch("setLoading",!1),n();case 25:case"end":return e.stop()}},e,this)}))()}),Se.afterEach(function(t,e){null!=t.meta.title?document.title=t.meta.title+" - @TJC":document.title="@TJC - TJC OB向け情報ページ"});var Ue=Se,Pe=n("vCKl"),xe=n.n(Pe);a.a.config.productionTip=!1,a.a.prototype.$sanitize=xe.a,new a.a({el:"#app",store:x,router:Ue,components:{App:p},template:"<App/>"})},NiFa:function(t,e){},T0hD:function(t,e){},TDKC:function(t,e){},U0rC:function(module,__webpack_exports__,__webpack_require__){"use strict";function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function _objectSpread2(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],a=!0,r=!1,o=void 0;try{for(var s,i=t[Symbol.iterator]();!(a=(s=i.next()).done)&&(n.push(s.value),!e||n.length!==e);a=!0);}catch(t){r=!0,o=t}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function createCommonjsModule(t){var e={exports:{}};return t(e,e.exports),e.exports}var UZIP_1=createCommonjsModule(function(t){var e,n,a={};t.exports=a,a.parse=function(t,e){for(var n=a.bin.readUshort,r=a.bin.readUint,o=0,s={},i=new Uint8Array(t),l=i.length-4;101010256!=r(i,l);)l--;o=l,o+=4;var d=n(i,o+=4),c=(n(i,o+=2),r(i,o+=2)),u=r(i,o+=4);o+=4,o=u;for(var m=0;m<d;m++){r(i,o),o+=4,o+=4,o+=4,r(i,o+=4),c=r(i,o+=4);var p=r(i,o+=4),v=n(i,o+=4),f=n(i,o+2),h=n(i,o+4);o+=6;var g=r(i,o+=8);o+=4,o+=v+f+h,a._readLocal(i,g,s,c,p,e)}return s},a._readLocal=function(t,e,n,r,o,s){var i=a.bin.readUshort,l=a.bin.readUint,d=(l(t,e),i(t,e+=4),i(t,e+=2),i(t,e+=2));l(t,e+=2),l(t,e+=4),e+=4;var c=i(t,e+=8),u=i(t,e+=2);e+=2;var m=a.bin.readUTF8(t,e,c);if(e+=c,e+=u,s)n[m]={size:o,csize:r};else{var p=new Uint8Array(t.buffer,e);if(0==d)n[m]=new Uint8Array(p.buffer.slice(e,e+r));else{if(8!=d)throw"unknown compression method: "+d;var v=new Uint8Array(o);a.inflateRaw(p,v),n[m]=v}}},a.inflateRaw=function(t,e){return a.F.inflate(t,e)},a.inflate=function(t,e){return t[0],t[1],a.inflateRaw(new Uint8Array(t.buffer,t.byteOffset+2,t.length-6),e)},a.deflate=function(t,e){null==e&&(e={level:6});var n=0,r=new Uint8Array(50+Math.floor(1.1*t.length));r[n]=120,r[n+1]=156,n+=2,n=a.F.deflateRaw(t,r,n,e.level);var o=a.adler(t,0,t.length);return r[n+0]=o>>>24&255,r[n+1]=o>>>16&255,r[n+2]=o>>>8&255,r[n+3]=o>>>0&255,new Uint8Array(r.buffer,0,n+4)},a.deflateRaw=function(t,e){null==e&&(e={level:6});var n=new Uint8Array(50+Math.floor(1.1*t.length)),r=a.F.deflateRaw(t,n,r,e.level);return new Uint8Array(n.buffer,0,r)},a.encode=function(t,e){null==e&&(e=!1);var n=0,r=a.bin.writeUint,o=a.bin.writeUshort,s={};for(var i in t){var l=!a._noNeed(i)&&!e,d=t[i],c=a.crc.crc(d,0,d.length);s[i]={cpr:l,usize:d.length,crc:c,file:l?a.deflateRaw(d):d}}for(var i in s)n+=s[i].file.length+30+46+2*a.bin.sizeUTF8(i);n+=22;var u=new Uint8Array(n),m=0,p=[];for(var i in s){var v=s[i];p.push(m),m=a._writeHeader(u,m,i,v,0)}var f=0,h=m;for(var i in s)v=s[i],p.push(m),m=a._writeHeader(u,m,i,v,1,p[f++]);var g=m-h;return r(u,m,101010256),m+=4,o(u,m+=4,f),o(u,m+=2,f),r(u,m+=2,g),r(u,m+=4,h),m+=4,m+=2,u.buffer},a._noNeed=function(t){var e=t.split(".").pop().toLowerCase();return-1!="png,jpg,jpeg,zip".indexOf(e)},a._writeHeader=function(t,e,n,r,o,s){var i=a.bin.writeUint,l=a.bin.writeUshort,d=r.file;return i(t,e,0==o?67324752:33639248),e+=4,1==o&&(e+=2),l(t,e,20),l(t,e+=2,0),l(t,e+=2,r.cpr?8:0),i(t,e+=2,0),i(t,e+=4,r.crc),i(t,e+=4,d.length),i(t,e+=4,r.usize),l(t,e+=4,a.bin.sizeUTF8(n)),l(t,e+=2,0),e+=2,1==o&&(e+=2,e+=2,i(t,e+=6,s),e+=4),e+=a.bin.writeUTF8(t,e,n),0==o&&(t.set(d,e),e+=d.length),e},a.crc={table:function(){for(var t=new Uint32Array(256),e=0;e<256;e++){for(var n=e,a=0;a<8;a++)1&n?n=3988292384^n>>>1:n>>>=1;t[e]=n}return t}(),update:function(t,e,n,r){for(var o=0;o<r;o++)t=a.crc.table[255&(t^e[n+o])]^t>>>8;return t},crc:function(t,e,n){return 4294967295^a.crc.update(4294967295,t,e,n)}},a.adler=function(t,e,n){for(var a=1,r=0,o=e,s=e+n;o<s;){for(var i=Math.min(o+5552,s);o<i;)r+=a+=t[o++];a%=65521,r%=65521}return r<<16|a},a.bin={readUshort:function(t,e){return t[e]|t[e+1]<<8},writeUshort:function(t,e,n){t[e]=255&n,t[e+1]=n>>8&255},readUint:function(t,e){return 16777216*t[e+3]+(t[e+2]<<16|t[e+1]<<8|t[e])},writeUint:function(t,e,n){t[e]=255&n,t[e+1]=n>>8&255,t[e+2]=n>>16&255,t[e+3]=n>>24&255},readASCII:function(t,e,n){for(var a="",r=0;r<n;r++)a+=String.fromCharCode(t[e+r]);return a},writeASCII:function(t,e,n){for(var a=0;a<n.length;a++)t[e+a]=n.charCodeAt(a)},pad:function(t){return t.length<2?"0"+t:t},readUTF8:function(t,e,n){for(var r,o="",s=0;s<n;s++)o+="%"+a.bin.pad(t[e+s].toString(16));try{r=decodeURIComponent(o)}catch(r){return a.bin.readASCII(t,e,n)}return r},writeUTF8:function(t,e,n){for(var a=n.length,r=0,o=0;o<a;o++){var s=n.charCodeAt(o);if(0==(4294967168&s))t[e+r]=s,r++;else if(0==(4294965248&s))t[e+r]=192|s>>6,t[e+r+1]=128|s>>0&63,r+=2;else if(0==(4294901760&s))t[e+r]=224|s>>12,t[e+r+1]=128|s>>6&63,t[e+r+2]=128|s>>0&63,r+=3;else{if(0!=(4292870144&s))throw"e";t[e+r]=240|s>>18,t[e+r+1]=128|s>>12&63,t[e+r+2]=128|s>>6&63,t[e+r+3]=128|s>>0&63,r+=4}}return r},sizeUTF8:function(t){for(var e=t.length,n=0,a=0;a<e;a++){var r=t.charCodeAt(a);if(0==(4294967168&r))n++;else if(0==(4294965248&r))n+=2;else if(0==(4294901760&r))n+=3;else{if(0!=(4292870144&r))throw"e";n+=4}}return n}},a.F={},a.F.deflateRaw=function(t,e,n,r){var o=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][r],s=a.F.U,i=a.F._goodIndex,l=(a.F._hash,a.F._putsE),d=0,c=n<<3,u=0,m=t.length;if(0==r){for(;d<m;)l(e,c,d+(S=Math.min(65535,m-d))==m?1:0),c=a.F._copyExact(t,d,S,e,c+8),d+=S;return c>>>3}var p=s.lits,v=s.strt,f=s.prev,h=0,g=0,_=0,w=0,M=0,b=0;for(m>2&&(v[b=a.F._hash(t,0)]=0),d=0;d<m;d++){if(M=b,d+1<m-2){b=a.F._hash(t,d+1);var y=d+1&32767;f[y]=v[b],v[b]=y}if(u<=d){(h>14e3||g>26697)&&m-d>100&&(u<d&&(p[h]=d-u,h+=2,u=d),c=a.F._writeBlock(d==m-1||u==m?1:0,p,h,w,t,_,d-_,e,c),h=g=w=0,_=d);var k=0;d<m-2&&(k=a.F._bestMatch(t,d,f,M,Math.min(o[2],m-d),o[3]));var S=k>>>16,U=65535&k;if(0!=k){U=65535&k;var P=i(S=k>>>16,s.of0);s.lhst[257+P]++;var x=i(U,s.df0);s.dhst[x]++,w+=s.exb[P]+s.dxb[x],p[h]=S<<23|d-u,p[h+1]=U<<16|P<<8|x,h+=2,u=d+S}else s.lhst[t[d]]++;g++}}for(_==d&&0!=t.length||(u<d&&(p[h]=d-u,h+=2,u=d),c=a.F._writeBlock(1,p,h,w,t,_,d-_,e,c),h=0,g=0,h=g=w=0,_=d);0!=(7&c);)c++;return c>>>3},a.F._bestMatch=function(t,e,n,r,o,s){var i=32767&e,l=n[i],d=i-l+32768&32767;if(l==i||r!=a.F._hash(t,e-d))return 0;for(var c=0,u=0,m=Math.min(32767,e);d<=m&&0!=--s&&l!=i;){if(0==c||t[e+c]==t[e+c-d]){var p=a.F._howLong(t,e,d);if(p>c){if(u=d,(c=p)>=o)break;d+2<p&&(p=d+2);for(var v=0,f=0;f<p-2;f++){var h=e-d+f+32768&32767,g=h-n[h]+32768&32767;g>v&&(v=g,l=h)}}}d+=(i=l)-(l=n[i])+32768&32767}return c<<16|u},a.F._howLong=function(t,e,n){if(t[e]!=t[e-n]||t[e+1]!=t[e+1-n]||t[e+2]!=t[e+2-n])return 0;var a=e,r=Math.min(t.length,e+258);for(e+=3;e<r&&t[e]==t[e-n];)e++;return e-a},a.F._hash=function(t,e){return(t[e]<<8|t[e+1])+(t[e+2]<<4)&65535},a.saved=0,a.F._writeBlock=function(t,e,n,r,o,s,i,l,d){var c,u,m,p,v,f,h,g,_,w=a.F.U,M=a.F._putsF,b=a.F._putsE;w.lhst[256]++,u=(c=a.F.getTrees())[0],m=c[1],p=c[2],v=c[3],f=c[4],h=c[5],g=c[6],_=c[7];var y=32+(0==(d+3&7)?0:8-(d+3&7))+(i<<3),k=r+a.F.contSize(w.fltree,w.lhst)+a.F.contSize(w.fdtree,w.dhst),S=r+a.F.contSize(w.ltree,w.lhst)+a.F.contSize(w.dtree,w.dhst);S+=14+3*h+a.F.contSize(w.itree,w.ihst)+(2*w.ihst[16]+3*w.ihst[17]+7*w.ihst[18]);for(var U=0;U<286;U++)w.lhst[U]=0;for(U=0;U<30;U++)w.dhst[U]=0;for(U=0;U<19;U++)w.ihst[U]=0;var P=y<k&&y<S?0:k<S?1:2;if(M(l,d,t),M(l,d+1,P),d+=3,0==P){for(;0!=(7&d);)d++;d=a.F._copyExact(o,s,i,l,d)}else{var x,A;if(1==P&&(x=w.fltree,A=w.fdtree),2==P){a.F.makeCodes(w.ltree,u),a.F.revCodes(w.ltree,u),a.F.makeCodes(w.dtree,m),a.F.revCodes(w.dtree,m),a.F.makeCodes(w.itree,p),a.F.revCodes(w.itree,p),x=w.ltree,A=w.dtree,b(l,d,v-257),b(l,d+=5,f-1),b(l,d+=5,h-4),d+=4;for(var I=0;I<h;I++)b(l,d+3*I,w.itree[1+(w.ordr[I]<<1)]);d+=3*h,d=a.F._codeTiny(g,w.itree,l,d),d=a.F._codeTiny(_,w.itree,l,d)}for(var N=s,C=0;C<n;C+=2){for(var F=e[C],$=F>>>23,L=N+(8388607&F);N<L;)d=a.F._writeLit(o[N++],x,l,d);if(0!=$){var E=e[C+1],G=E>>16,D=E>>8&255,T=255&E;b(l,d=a.F._writeLit(257+D,x,l,d),$-w.of0[D]),d+=w.exb[D],M(l,d=a.F._writeLit(T,A,l,d),G-w.df0[T]),d+=w.dxb[T],N+=$}}d=a.F._writeLit(256,x,l,d)}return d},a.F._copyExact=function(t,e,n,a,r){var o=r>>>3;return a[o]=n,a[o+1]=n>>>8,a[o+2]=255-a[o],a[o+3]=255-a[o+1],o+=4,a.set(new Uint8Array(t.buffer,e,n),o),r+(n+4<<3)},a.F.getTrees=function(){for(var t=a.F.U,e=a.F._hufTree(t.lhst,t.ltree,15),n=a.F._hufTree(t.dhst,t.dtree,15),r=[],o=a.F._lenCodes(t.ltree,r),s=[],i=a.F._lenCodes(t.dtree,s),l=0;l<r.length;l+=2)t.ihst[r[l]]++;for(l=0;l<s.length;l+=2)t.ihst[s[l]]++;for(var d=a.F._hufTree(t.ihst,t.itree,7),c=19;c>4&&0==t.itree[1+(t.ordr[c-1]<<1)];)c--;return[e,n,d,o,i,c,r,s]},a.F.getSecond=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(t[n+1]);return e},a.F.nonZero=function(t){for(var e="",n=0;n<t.length;n+=2)0!=t[n+1]&&(e+=(n>>1)+",");return e},a.F.contSize=function(t,e){for(var n=0,a=0;a<e.length;a++)n+=e[a]*t[1+(a<<1)];return n},a.F._codeTiny=function(t,e,n,r){for(var o=0;o<t.length;o+=2){var s=t[o],i=t[o+1];r=a.F._writeLit(s,e,n,r);var l=16==s?2:17==s?3:7;s>15&&(a.F._putsE(n,r,i,l),r+=l)}return r},a.F._lenCodes=function(t,e){for(var n=t.length;2!=n&&0==t[n-1];)n-=2;for(var a=0;a<n;a+=2){var r=t[a+1],o=a+3<n?t[a+3]:-1,s=a+5<n?t[a+5]:-1,i=0==a?-1:t[a-1];if(0==r&&o==r&&s==r){for(var l=a+5;l+2<n&&t[l+2]==r;)l+=2;(d=Math.min(l+1-a>>>1,138))<11?e.push(17,d-3):e.push(18,d-11),a+=2*d-2}else if(r==i&&o==r&&s==r){for(l=a+5;l+2<n&&t[l+2]==r;)l+=2;var d=Math.min(l+1-a>>>1,6);e.push(16,d-3),a+=2*d-2}else e.push(r,0)}return n>>>1},a.F._hufTree=function(t,e,n){var r=[],o=t.length,s=e.length,i=0;for(i=0;i<s;i+=2)e[i]=0,e[i+1]=0;for(i=0;i<o;i++)0!=t[i]&&r.push({lit:i,f:t[i]});var l=r.length,d=r.slice(0);if(0==l)return 0;if(1==l){var c=r[0].lit;return d=0==c?1:0,e[1+(c<<1)]=1,e[1+(d<<1)]=1,1}r.sort(function(t,e){return t.f-e.f});var u=r[0],m=r[1],p=0,v=1,f=2;for(r[0]={lit:-1,f:u.f+m.f,l:u,r:m,d:0};v!=l-1;)u=p!=v&&(f==l||r[p].f<r[f].f)?r[p++]:r[f++],m=p!=v&&(f==l||r[p].f<r[f].f)?r[p++]:r[f++],r[v++]={lit:-1,f:u.f+m.f,l:u,r:m};var h=a.F.setDepth(r[v-1],0);for(h>n&&(a.F.restrictDepth(d,n,h),h=n),i=0;i<l;i++)e[1+(d[i].lit<<1)]=d[i].d;return h},a.F.setDepth=function(t,e){return-1!=t.lit?(t.d=e,e):Math.max(a.F.setDepth(t.l,e+1),a.F.setDepth(t.r,e+1))},a.F.restrictDepth=function(t,e,n){var a=0,r=1<<n-e,o=0;for(t.sort(function(t,e){return e.d==t.d?t.f-e.f:e.d-t.d}),a=0;a<t.length&&t[a].d>e;a++){var s=t[a].d;t[a].d=e,o+=r-(1<<n-s)}for(o>>>=n-e;o>0;)(s=t[a].d)<e?(t[a].d++,o-=1<<e-s-1):a++;for(;a>=0;a--)t[a].d==e&&o<0&&(t[a].d--,o++);0!=o&&console.log("debt left")},a.F._goodIndex=function(t,e){var n=0;return e[16|n]<=t&&(n|=16),e[8|n]<=t&&(n|=8),e[4|n]<=t&&(n|=4),e[2|n]<=t&&(n|=2),e[1|n]<=t&&(n|=1),n},a.F._writeLit=function(t,e,n,r){return a.F._putsF(n,r,e[t<<1]),r+e[1+(t<<1)]},a.F.inflate=function(t,e){var n=Uint8Array;if(3==t[0]&&0==t[1])return e||new n(0);var r=a.F,o=r._bitsF,s=r._bitsE,i=r._decodeTiny,l=r.makeCodes,d=r.codes2map,c=r._get17,u=r.U,m=null==e;m&&(e=new n(t.length>>>2<<3));for(var p,v,f=0,h=0,g=0,_=0,w=0,M=0,b=0,y=0,k=0;0==f;)if(f=o(t,k,1),h=o(t,k+1,2),k+=3,0!=h){if(m&&(e=a.F._check(e,y+(1<<17))),1==h&&(p=u.flmap,v=u.fdmap,M=511,b=31),2==h){g=s(t,k,5)+257,_=s(t,k+5,5)+1,w=s(t,k+10,4)+4,k+=14;for(var S=0;S<38;S+=2)u.itree[S]=0,u.itree[S+1]=0;var U=1;for(S=0;S<w;S++){var P=s(t,k+3*S,3);u.itree[1+(u.ordr[S]<<1)]=P,P>U&&(U=P)}k+=3*w,l(u.itree,U),d(u.itree,U,u.imap),p=u.lmap,v=u.dmap,k=i(u.imap,(1<<U)-1,g+_,t,k,u.ttree);var x=r._copyOut(u.ttree,0,g,u.ltree);M=(1<<x)-1;var A=r._copyOut(u.ttree,g,_,u.dtree);b=(1<<A)-1,l(u.ltree,x),d(u.ltree,x,p),l(u.dtree,A),d(u.dtree,A,v)}for(;;){var I=p[c(t,k)&M];k+=15&I;var N=I>>>4;if(N>>>8==0)e[y++]=N;else{if(256==N)break;var C=y+N-254;if(N>264){var F=u.ldef[N-257];C=y+(F>>>3)+s(t,k,7&F),k+=7&F}var $=v[c(t,k)&b];k+=15&$;var L=$>>>4,E=u.ddef[L],G=(E>>>4)+o(t,k,15&E);for(k+=15&E,m&&(e=a.F._check(e,y+(1<<17)));y<C;)e[y]=e[y++-G],e[y]=e[y++-G],e[y]=e[y++-G],e[y]=e[y++-G];y=C}}}else{0!=(7&k)&&(k+=8-(7&k));var D=4+(k>>>3),T=t[D-4]|t[D-3]<<8;m&&(e=a.F._check(e,y+T)),e.set(new n(t.buffer,t.byteOffset+D,T),y),k=D+T<<3,y+=T}return e.length==y?e:e.slice(0,y)},a.F._check=function(t,e){var n=t.length;if(e<=n)return t;var a=new Uint8Array(Math.max(n<<1,e));return a.set(t,0),a},a.F._decodeTiny=function(t,e,n,r,o,s){for(var i=a.F._bitsE,l=a.F._get17,d=0;d<n;){var c=t[l(r,o)&e];o+=15&c;var u=c>>>4;if(u<=15)s[d]=u,d++;else{var m=0,p=0;16==u?(p=3+i(r,o,2),o+=2,m=s[d-1]):17==u?(p=3+i(r,o,3),o+=3):18==u&&(p=11+i(r,o,7),o+=7);for(var v=d+p;d<v;)s[d]=m,d++}}return o},a.F._copyOut=function(t,e,n,a){for(var r=0,o=0,s=a.length>>>1;o<n;){var i=t[o+e];a[o<<1]=0,a[1+(o<<1)]=i,i>r&&(r=i),o++}for(;o<s;)a[o<<1]=0,a[1+(o<<1)]=0,o++;return r},a.F.makeCodes=function(t,e){for(var n,r,o,s,i=a.F.U,l=t.length,d=i.bl_count,c=0;c<=e;c++)d[c]=0;for(c=1;c<l;c+=2)d[t[c]]++;var u=i.next_code;for(n=0,d[0]=0,r=1;r<=e;r++)n=n+d[r-1]<<1,u[r]=n;for(o=0;o<l;o+=2)0!=(s=t[o+1])&&(t[o]=u[s],u[s]++)},a.F.codes2map=function(t,e,n){for(var r=t.length,o=a.F.U.rev15,s=0;s<r;s+=2)if(0!=t[s+1])for(var i=s>>1,l=t[s+1],d=i<<4|l,c=e-l,u=t[s]<<c,m=u+(1<<c);u!=m;)n[o[u]>>>15-e]=d,u++},a.F.revCodes=function(t,e){for(var n=a.F.U.rev15,r=15-e,o=0;o<t.length;o+=2){var s=t[o]<<e-t[o+1];t[o]=n[s]>>>r}},a.F._putsE=function(t,e,n){n<<=7&e;var a=e>>>3;t[a]|=n,t[a+1]|=n>>>8},a.F._putsF=function(t,e,n){n<<=7&e;var a=e>>>3;t[a]|=n,t[a+1]|=n>>>8,t[a+2]|=n>>>16},a.F._bitsE=function(t,e,n){return(t[e>>>3]|t[1+(e>>>3)]<<8)>>>(7&e)&(1<<n)-1},a.F._bitsF=function(t,e,n){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16)>>>(7&e)&(1<<n)-1},a.F._get17=function(t,e){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16)>>>(7&e)},a.F._get25=function(t,e){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16|t[3+(e>>>3)]<<24)>>>(7&e)},a.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var t=a.F.U,e=0;e<32768;e++){var n=e;n=(4278255360&(n=(4042322160&(n=(3435973836&(n=(2863311530&n)>>>1|(1431655765&n)<<1))>>>2|(858993459&n)<<2))>>>4|(252645135&n)<<4))>>>8|(16711935&n)<<8,t.rev15[e]=(n>>>16|n<<16)>>>17}function r(t,e,n){for(;0!=e--;)t.push(0,n)}for(e=0;e<32;e++)t.ldef[e]=t.of0[e]<<3|t.exb[e],t.ddef[e]=t.df0[e]<<4|t.dxb[e];r(t.fltree,144,8),r(t.fltree,112,9),r(t.fltree,24,7),r(t.fltree,8,8),a.F.makeCodes(t.fltree,9),a.F.codes2map(t.fltree,9,t.flmap),a.F.revCodes(t.fltree,9),r(t.fdtree,32,5),a.F.makeCodes(t.fdtree,5),a.F.codes2map(t.fdtree,5,t.fdmap),a.F.revCodes(t.fdtree,5),r(t.itree,19,0),r(t.ltree,286,0),r(t.dtree,30,0),r(t.ttree,320,0)}()}),UZIP=Object.freeze(Object.assign(Object.create(null),UZIP_1,{default:UZIP_1})),UPNG={},N,W,H;UPNG.toRGBA8=function(t){var e=t.width,n=t.height;if(null==t.tabs.acTL)return[UPNG.toRGBA8.decodeImage(t.data,e,n,t).buffer];var a=[];null==t.frames[0].data&&(t.frames[0].data=t.data);for(var r=e*n*4,o=new Uint8Array(r),s=new Uint8Array(r),i=new Uint8Array(r),l=0;l<t.frames.length;l++){var d=t.frames[l],c=d.rect.x,u=d.rect.y,m=d.rect.width,p=d.rect.height,v=UPNG.toRGBA8.decodeImage(d.data,m,p,t);if(0!=l)for(var f=0;f<r;f++)i[f]=o[f];if(0==d.blend?UPNG._copyTile(v,m,p,o,e,n,c,u,0):1==d.blend&&UPNG._copyTile(v,m,p,o,e,n,c,u,1),a.push(o.buffer.slice(0)),0==d.dispose);else if(1==d.dispose)UPNG._copyTile(s,m,p,o,e,n,c,u,0);else if(2==d.dispose)for(f=0;f<r;f++)o[f]=i[f]}return a},UPNG.toRGBA8.decodeImage=function(t,e,n,a){var r=e*n,o=UPNG.decode._getBPP(a),s=Math.ceil(e*o/8),i=new Uint8Array(4*r),l=new Uint32Array(i.buffer),d=a.ctype,c=a.depth,u=UPNG._bin.readUshort;if(6==d){var m=r<<2;if(8==c)for(var p=0;p<m;p+=4)i[p]=t[p],i[p+1]=t[p+1],i[p+2]=t[p+2],i[p+3]=t[p+3];if(16==c)for(p=0;p<m;p++)i[p]=t[p<<1]}else if(2==d){var v=a.tabs.tRNS;if(null==v){if(8==c)for(p=0;p<r;p++){var f=3*p;l[p]=255<<24|t[f+2]<<16|t[f+1]<<8|t[f]}if(16==c)for(p=0;p<r;p++)f=6*p,l[p]=255<<24|t[f+4]<<16|t[f+2]<<8|t[f]}else{var h=v[0],g=v[1],_=v[2];if(8==c)for(p=0;p<r;p++){var w=p<<2;f=3*p,l[p]=255<<24|t[f+2]<<16|t[f+1]<<8|t[f],t[f]==h&&t[f+1]==g&&t[f+2]==_&&(i[w+3]=0)}if(16==c)for(p=0;p<r;p++)w=p<<2,f=6*p,l[p]=255<<24|t[f+4]<<16|t[f+2]<<8|t[f],u(t,f)==h&&u(t,f+2)==g&&u(t,f+4)==_&&(i[w+3]=0)}}else if(3==d){var M=a.tabs.PLTE,b=a.tabs.tRNS,y=b?b.length:0;if(1==c)for(var k=0;k<n;k++){var S=k*s,U=k*e;for(p=0;p<e;p++){w=U+p<<2;var P=3*(x=t[S+(p>>3)]>>7-((7&p)<<0)&1);i[w]=M[P],i[w+1]=M[P+1],i[w+2]=M[P+2],i[w+3]=x<y?b[x]:255}}if(2==c)for(k=0;k<n;k++)for(S=k*s,U=k*e,p=0;p<e;p++)w=U+p<<2,P=3*(x=t[S+(p>>2)]>>6-((3&p)<<1)&3),i[w]=M[P],i[w+1]=M[P+1],i[w+2]=M[P+2],i[w+3]=x<y?b[x]:255;if(4==c)for(k=0;k<n;k++)for(S=k*s,U=k*e,p=0;p<e;p++)w=U+p<<2,P=3*(x=t[S+(p>>1)]>>4-((1&p)<<2)&15),i[w]=M[P],i[w+1]=M[P+1],i[w+2]=M[P+2],i[w+3]=x<y?b[x]:255;if(8==c)for(p=0;p<r;p++){var x;w=p<<2,P=3*(x=t[p]),i[w]=M[P],i[w+1]=M[P+1],i[w+2]=M[P+2],i[w+3]=x<y?b[x]:255}}else if(4==d){if(8==c)for(p=0;p<r;p++){w=p<<2;var A=t[I=p<<1];i[w]=A,i[w+1]=A,i[w+2]=A,i[w+3]=t[I+1]}if(16==c)for(p=0;p<r;p++){var I;w=p<<2,A=t[I=p<<2],i[w]=A,i[w+1]=A,i[w+2]=A,i[w+3]=t[I+2]}}else if(0==d)for(h=a.tabs.tRNS?a.tabs.tRNS:-1,k=0;k<n;k++){var N=k*s,C=k*e;if(1==c)for(var F=0;F<e;F++){var $=(A=255*(t[N+(F>>>3)]>>>7-(7&F)&1))==255*h?0:255;l[C+F]=$<<24|A<<16|A<<8|A}else if(2==c)for(F=0;F<e;F++)$=(A=85*(t[N+(F>>>2)]>>>6-((3&F)<<1)&3))==85*h?0:255,l[C+F]=$<<24|A<<16|A<<8|A;else if(4==c)for(F=0;F<e;F++)$=(A=17*(t[N+(F>>>1)]>>>4-((1&F)<<2)&15))==17*h?0:255,l[C+F]=$<<24|A<<16|A<<8|A;else if(8==c)for(F=0;F<e;F++)$=(A=t[N+F])==h?0:255,l[C+F]=$<<24|A<<16|A<<8|A;else if(16==c)for(F=0;F<e;F++)A=t[N+(F<<1)],$=u(t,N+(F<<p))==h?0:255,l[C+F]=$<<24|A<<16|A<<8|A}return i},UPNG.decode=function(t){for(var e,n=new Uint8Array(t),a=8,r=UPNG._bin,o=r.readUshort,s=r.readUint,i={tabs:{},frames:[]},l=new Uint8Array(n.length),d=0,c=0,u=[137,80,78,71,13,10,26,10],m=0;m<8;m++)if(n[m]!=u[m])throw"The input is not a PNG file!";for(;a<n.length;){var p=r.readUint(n,a);a+=4;var v=r.readASCII(n,a,4);if(a+=4,"IHDR"==v)UPNG.decode._IHDR(n,a,i);else if("CgBI"==v)i.tabs[v]=n.slice(a,a+4);else if("IDAT"==v){for(m=0;m<p;m++)l[d+m]=n[a+m];d+=p}else if("acTL"==v)i.tabs[v]={num_frames:s(n,a),num_plays:s(n,a+4)},e=new Uint8Array(n.length);else if("fcTL"==v){var f;0!=c&&((f=i.frames[i.frames.length-1]).data=UPNG.decode._decompress(i,e.slice(0,c),f.rect.width,f.rect.height),c=0);var h={x:s(n,a+12),y:s(n,a+16),width:s(n,a+4),height:s(n,a+8)},g=o(n,a+22);g=o(n,a+20)/(0==g?100:g);var _={rect:h,delay:Math.round(1e3*g),dispose:n[a+24],blend:n[a+25]};i.frames.push(_)}else if("fdAT"==v){for(m=0;m<p-4;m++)e[c+m]=n[a+m+4];c+=p-4}else if("pHYs"==v)i.tabs[v]=[r.readUint(n,a),r.readUint(n,a+4),n[a+8]];else if("cHRM"==v)for(i.tabs[v]=[],m=0;m<8;m++)i.tabs[v].push(r.readUint(n,a+4*m));else if("tEXt"==v||"zTXt"==v){null==i.tabs[v]&&(i.tabs[v]={});var w=r.nextZero(n,a),M=r.readASCII(n,a,w-a),b=a+p-w-1;if("tEXt"==v)S=r.readASCII(n,w+1,b);else{var y=UPNG.decode._inflate(n.slice(w+2,w+2+b));S=r.readUTF8(y,0,y.length)}i.tabs[v][M]=S}else if("iTXt"==v){null==i.tabs[v]&&(i.tabs[v]={}),w=0;var k=a;w=r.nextZero(n,k),M=r.readASCII(n,k,w-k);var S,U=n[k=w+1];k+=2,w=r.nextZero(n,k),r.readASCII(n,k,w-k),k=w+1,w=r.nextZero(n,k),r.readUTF8(n,k,w-k),b=p-((k=w+1)-a),0==U?S=r.readUTF8(n,k,b):(y=UPNG.decode._inflate(n.slice(k,k+b)),S=r.readUTF8(y,0,y.length)),i.tabs[v][M]=S}else if("PLTE"==v)i.tabs[v]=r.readBytes(n,a,p);else if("hIST"==v){var P=i.tabs.PLTE.length/3;for(i.tabs[v]=[],m=0;m<P;m++)i.tabs[v].push(o(n,a+2*m))}else if("tRNS"==v)3==i.ctype?i.tabs[v]=r.readBytes(n,a,p):0==i.ctype?i.tabs[v]=o(n,a):2==i.ctype&&(i.tabs[v]=[o(n,a),o(n,a+2),o(n,a+4)]);else if("gAMA"==v)i.tabs[v]=r.readUint(n,a)/1e5;else if("sRGB"==v)i.tabs[v]=n[a];else if("bKGD"==v)0==i.ctype||4==i.ctype?i.tabs[v]=[o(n,a)]:2==i.ctype||6==i.ctype?i.tabs[v]=[o(n,a),o(n,a+2),o(n,a+4)]:3==i.ctype&&(i.tabs[v]=n[a]);else if("IEND"==v)break;a+=p,r.readUint(n,a),a+=4}return 0!=c&&((f=i.frames[i.frames.length-1]).data=UPNG.decode._decompress(i,e.slice(0,c),f.rect.width,f.rect.height),c=0),i.data=UPNG.decode._decompress(i,l,i.width,i.height),delete i.compress,delete i.interlace,delete i.filter,i},UPNG.decode._decompress=function(t,e,n,a){var r=UPNG.decode._getBPP(t),o=Math.ceil(n*r/8),s=new Uint8Array((o+1+t.interlace)*a);return e=t.tabs.CgBI?UPNG.inflateRaw(e,s):UPNG.decode._inflate(e,s),0==t.interlace?e=UPNG.decode._filterZero(e,t,0,n,a):1==t.interlace&&(e=UPNG.decode._readInterlace(e,t)),e},UPNG.decode._inflate=function(t,e){return UPNG.inflateRaw(new Uint8Array(t.buffer,2,t.length-6),e)},UPNG.inflateRaw=(H={},H.H={},H.H.N=function(t,e){var n,a,r=Uint8Array,o=0,s=0,i=0,l=0,d=0,c=0,u=0,m=0,p=0;if(3==t[0]&&0==t[1])return e||new r(0);var v=H.H,f=v.b,h=v.e,g=v.R,_=v.n,w=v.A,M=v.Z,b=v.m,y=null==e;for(y&&(e=new r(t.length>>>2<<5));0==o;)if(o=f(t,p,1),s=f(t,p+1,2),p+=3,0!=s){if(y&&(e=H.H.W(e,m+(1<<17))),1==s&&(n=b.J,a=b.h,c=511,u=31),2==s){i=h(t,p,5)+257,l=h(t,p+5,5)+1,d=h(t,p+10,4)+4,p+=14;for(var k=1,S=0;S<38;S+=2)b.Q[S]=0,b.Q[S+1]=0;for(S=0;S<d;S++){var U=h(t,p+3*S,3);b.Q[1+(b.X[S]<<1)]=U,U>k&&(k=U)}p+=3*d,_(b.Q,k),w(b.Q,k,b.u),n=b.w,a=b.d,p=g(b.u,(1<<k)-1,i+l,t,p,b.v);var P=v.V(b.v,0,i,b.C);c=(1<<P)-1;var x=v.V(b.v,i,l,b.D);u=(1<<x)-1,_(b.C,P),w(b.C,P,n),_(b.D,x),w(b.D,x,a)}for(;;){var A=n[M(t,p)&c];p+=15&A;var I=A>>>4;if(I>>>8==0)e[m++]=I;else{if(256==I)break;var N=m+I-254;if(I>264){var C=b.q[I-257];N=m+(C>>>3)+h(t,p,7&C),p+=7&C}var F=a[M(t,p)&u];p+=15&F;var $=F>>>4,L=b.c[$],E=(L>>>4)+f(t,p,15&L);for(p+=15&L;m<N;)e[m]=e[m++-E],e[m]=e[m++-E],e[m]=e[m++-E],e[m]=e[m++-E];m=N}}}else{0!=(7&p)&&(p+=8-(7&p));var G=4+(p>>>3),D=t[G-4]|t[G-3]<<8;y&&(e=H.H.W(e,m+D)),e.set(new r(t.buffer,t.byteOffset+G,D),m),p=G+D<<3,m+=D}return e.length==m?e:e.slice(0,m)},H.H.W=function(t,e){var n=t.length;if(e<=n)return t;var a=new Uint8Array(n<<1);return a.set(t,0),a},H.H.R=function(t,e,n,a,r,o){for(var s=H.H.e,i=H.H.Z,l=0;l<n;){var d=t[i(a,r)&e];r+=15&d;var c=d>>>4;if(c<=15)o[l]=c,l++;else{var u=0,m=0;16==c?(m=3+s(a,r,2),r+=2,u=o[l-1]):17==c?(m=3+s(a,r,3),r+=3):18==c&&(m=11+s(a,r,7),r+=7);for(var p=l+m;l<p;)o[l]=u,l++}}return r},H.H.V=function(t,e,n,a){for(var r=0,o=0,s=a.length>>>1;o<n;){var i=t[o+e];a[o<<1]=0,a[1+(o<<1)]=i,i>r&&(r=i),o++}for(;o<s;)a[o<<1]=0,a[1+(o<<1)]=0,o++;return r},H.H.n=function(t,e){for(var n,a,r,o,s=H.H.m,i=t.length,l=s.j,d=0;d<=e;d++)l[d]=0;for(d=1;d<i;d+=2)l[t[d]]++;var c=s.K;for(n=0,l[0]=0,a=1;a<=e;a++)n=n+l[a-1]<<1,c[a]=n;for(r=0;r<i;r+=2)0!=(o=t[r+1])&&(t[r]=c[o],c[o]++)},H.H.A=function(t,e,n){for(var a=t.length,r=H.H.m.r,o=0;o<a;o+=2)if(0!=t[o+1])for(var s=o>>1,i=t[o+1],l=s<<4|i,d=e-i,c=t[o]<<d,u=c+(1<<d);c!=u;)n[r[c]>>>15-e]=l,c++},H.H.l=function(t,e){for(var n=H.H.m.r,a=15-e,r=0;r<t.length;r+=2){var o=t[r]<<e-t[r+1];t[r]=n[o]>>>a}},H.H.M=function(t,e,n){n<<=7&e;var a=e>>>3;t[a]|=n,t[a+1]|=n>>>8},H.H.I=function(t,e,n){n<<=7&e;var a=e>>>3;t[a]|=n,t[a+1]|=n>>>8,t[a+2]|=n>>>16},H.H.e=function(t,e,n){return(t[e>>>3]|t[1+(e>>>3)]<<8)>>>(7&e)&(1<<n)-1},H.H.b=function(t,e,n){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16)>>>(7&e)&(1<<n)-1},H.H.Z=function(t,e){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16)>>>(7&e)},H.H.i=function(t,e){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16|t[3+(e>>>3)]<<24)>>>(7&e)},H.H.m=(N=Uint16Array,W=Uint32Array,{K:new N(16),j:new N(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new N(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new W(32),J:new N(512),_:[],h:new N(32),$:[],w:new N(32768),C:[],v:[],d:new N(32768),D:[],u:new N(512),Q:[],r:new N(32768),s:new W(286),Y:new W(30),a:new W(19),t:new W(15e3),k:new N(65536),g:new N(32768)}),function(){for(var t=H.H.m,e=0;e<32768;e++){var n=e;n=(4278255360&(n=(4042322160&(n=(3435973836&(n=(2863311530&n)>>>1|(1431655765&n)<<1))>>>2|(858993459&n)<<2))>>>4|(252645135&n)<<4))>>>8|(16711935&n)<<8,t.r[e]=(n>>>16|n<<16)>>>17}function a(t,e,n){for(;0!=e--;)t.push(0,n)}for(e=0;e<32;e++)t.q[e]=t.S[e]<<3|t.T[e],t.c[e]=t.p[e]<<4|t.z[e];a(t._,144,8),a(t._,112,9),a(t._,24,7),a(t._,8,8),H.H.n(t._,9),H.H.A(t._,9,t.J),H.H.l(t._,9),a(t.$,32,5),H.H.n(t.$,5),H.H.A(t.$,5,t.h),H.H.l(t.$,5),a(t.Q,19,0),a(t.C,286,0),a(t.D,30,0),a(t.v,320,0)}(),H.H.N),UPNG.decode._readInterlace=function(t,e){for(var n=e.width,a=e.height,r=UPNG.decode._getBPP(e),o=r>>3,s=Math.ceil(n*r/8),i=new Uint8Array(a*s),l=0,d=[0,0,4,0,2,0,1],c=[0,4,0,2,0,1,0],u=[8,8,8,4,4,2,2],m=[8,8,4,4,2,2,1],p=0;p<7;){for(var v=u[p],f=m[p],h=0,g=0,_=d[p];_<a;)_+=v,g++;for(var w=c[p];w<n;)w+=f,h++;var M=Math.ceil(h*r/8);UPNG.decode._filterZero(t,e,l,h,g);for(var b=0,y=d[p];y<a;){for(var k=c[p],S=l+b*M<<3;k<n;){var U;if(1==r&&(U=(U=t[S>>3])>>7-(7&S)&1,i[y*s+(k>>3)]|=U<<7-((7&k)<<0)),2==r&&(U=(U=t[S>>3])>>6-(7&S)&3,i[y*s+(k>>2)]|=U<<6-((3&k)<<1)),4==r&&(U=(U=t[S>>3])>>4-(7&S)&15,i[y*s+(k>>1)]|=U<<4-((1&k)<<2)),r>=8)for(var P=y*s+k*o,x=0;x<o;x++)i[P+x]=t[(S>>3)+x];S+=r,k+=f}b++,y+=v}h*g!=0&&(l+=g*(1+M)),p+=1}return i},UPNG.decode._getBPP=function(t){return[1,null,3,1,2,null,4][t.ctype]*t.depth},UPNG.decode._filterZero=function(t,e,n,a,r){var o=UPNG.decode._getBPP(e),s=Math.ceil(a*o/8),i=UPNG.decode._paeth;o=Math.ceil(o/8);var l=0,d=1,c=t[n],u=0;if(c>1&&(t[n]=[0,0,1][c-2]),3==c)for(u=o;u<s;u++)t[u+1]=t[u+1]+(t[u+1-o]>>>1)&255;for(var m=0;m<r;m++)if(u=0,0==(c=t[(d=(l=n+m*s)+m+1)-1]))for(;u<s;u++)t[l+u]=t[d+u];else if(1==c){for(;u<o;u++)t[l+u]=t[d+u];for(;u<s;u++)t[l+u]=t[d+u]+t[l+u-o]}else if(2==c)for(;u<s;u++)t[l+u]=t[d+u]+t[l+u-s];else if(3==c){for(;u<o;u++)t[l+u]=t[d+u]+(t[l+u-s]>>>1);for(;u<s;u++)t[l+u]=t[d+u]+(t[l+u-s]+t[l+u-o]>>>1)}else{for(;u<o;u++)t[l+u]=t[d+u]+i(0,t[l+u-s],0);for(;u<s;u++)t[l+u]=t[d+u]+i(t[l+u-o],t[l+u-s],t[l+u-o-s])}return t},UPNG.decode._paeth=function(t,e,n){var a=t+e-n,r=a-t,o=a-e,s=a-n;return r*r<=o*o&&r*r<=s*s?t:o*o<=s*s?e:n},UPNG.decode._IHDR=function(t,e,n){var a=UPNG._bin;n.width=a.readUint(t,e),e+=4,n.height=a.readUint(t,e),e+=4,n.depth=t[e],e++,n.ctype=t[e],e++,n.compress=t[e],e++,n.filter=t[e],e++,n.interlace=t[e],e++},UPNG._bin={nextZero:function(t,e){for(;0!=t[e];)e++;return e},readUshort:function(t,e){return t[e]<<8|t[e+1]},writeUshort:function(t,e,n){t[e]=n>>8&255,t[e+1]=255&n},readUint:function(t,e){return 16777216*t[e]+(t[e+1]<<16|t[e+2]<<8|t[e+3])},writeUint:function(t,e,n){t[e]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n},readASCII:function(t,e,n){for(var a="",r=0;r<n;r++)a+=String.fromCharCode(t[e+r]);return a},writeASCII:function(t,e,n){for(var a=0;a<n.length;a++)t[e+a]=n.charCodeAt(a)},readBytes:function(t,e,n){for(var a=[],r=0;r<n;r++)a.push(t[e+r]);return a},pad:function(t){return t.length<2?"0"+t:t},readUTF8:function(t,e,n){for(var a,r="",o=0;o<n;o++)r+="%"+UPNG._bin.pad(t[e+o].toString(16));try{a=decodeURIComponent(r)}catch(a){return UPNG._bin.readASCII(t,e,n)}return a}},UPNG._copyTile=function(t,e,n,a,r,o,s,i,l){for(var d=Math.min(e,r),c=Math.min(n,o),u=0,m=0,p=0;p<c;p++)for(var v=0;v<d;v++)if(s>=0&&i>=0?(u=p*e+v<<2,m=(i+p)*r+s+v<<2):(u=(-i+p)*e-s+v<<2,m=p*r+v<<2),0==l)a[m]=t[u],a[m+1]=t[u+1],a[m+2]=t[u+2],a[m+3]=t[u+3];else if(1==l){var f=t[u+3]*(1/255),h=t[u]*f,g=t[u+1]*f,_=t[u+2]*f,w=a[m+3]*(1/255),M=a[m]*w,b=a[m+1]*w,y=a[m+2]*w,k=1-f,S=f+w*k,U=0==S?0:1/S;a[m+3]=255*S,a[m+0]=(h+M*k)*U,a[m+1]=(g+b*k)*U,a[m+2]=(_+y*k)*U}else if(2==l)f=t[u+3],h=t[u],g=t[u+1],_=t[u+2],w=a[m+3],M=a[m],b=a[m+1],y=a[m+2],f==w&&h==M&&g==b&&_==y?(a[m]=0,a[m+1]=0,a[m+2]=0,a[m+3]=0):(a[m]=h,a[m+1]=g,a[m+2]=_,a[m+3]=f);else if(3==l){if(f=t[u+3],h=t[u],g=t[u+1],_=t[u+2],w=a[m+3],M=a[m],b=a[m+1],y=a[m+2],f==w&&h==M&&g==b&&_==y)continue;if(f<220&&w>20)return!1}return!0},UPNG.encode=function(t,e,n,a,r,o,s){null==a&&(a=0),null==s&&(s=!1);var i=UPNG.encode.compress(t,e,n,a,[!1,!1,!1,0,s]);return UPNG.encode.compressPNG(i,-1),UPNG.encode._main(i,e,n,r,o)},UPNG.encodeLL=function(t,e,n,a,r,o,s,i){for(var l={ctype:0+(1==a?0:2)+(0==r?0:4),depth:o,frames:[]},d=(a+r)*o,c=d*e,u=0;u<t.length;u++)l.frames.push({rect:{x:0,y:0,width:e,height:n},img:new Uint8Array(t[u]),blend:0,dispose:1,bpp:Math.ceil(d/8),bpl:Math.ceil(c/8)});return UPNG.encode.compressPNG(l,0,!0),UPNG.encode._main(l,e,n,s,i)},UPNG.encode._main=function(t,e,n,a,r){null==r&&(r={});var o=UPNG.crc.crc,s=UPNG._bin.writeUint,i=UPNG._bin.writeUshort,l=UPNG._bin.writeASCII,d=8,c=t.frames.length>1,u=!1,m=33+(c?20:0);if(null!=r.sRGB&&(m+=13),null!=r.pHYs&&(m+=21),3==t.ctype){for(var p=t.plte.length,v=0;v<p;v++)t.plte[v]>>>24!=255&&(u=!0);m+=8+3*p+4+(u?8+1*p+4:0)}for(var f=0;f<t.frames.length;f++)c&&(m+=38),m+=(S=t.frames[f]).cimg.length+12,0!=f&&(m+=4);m+=12;var h=new Uint8Array(m),g=[137,80,78,71,13,10,26,10];for(v=0;v<8;v++)h[v]=g[v];if(s(h,d,13),l(h,d+=4,"IHDR"),s(h,d+=4,e),s(h,d+=4,n),h[d+=4]=t.depth,h[++d]=t.ctype,h[++d]=0,h[++d]=0,h[++d]=0,s(h,++d,o(h,d-17,17)),d+=4,null!=r.sRGB&&(s(h,d,1),l(h,d+=4,"sRGB"),h[d+=4]=r.sRGB,s(h,++d,o(h,d-5,5)),d+=4),null!=r.pHYs&&(s(h,d,9),l(h,d+=4,"pHYs"),s(h,d+=4,r.pHYs[0]),s(h,d+=4,r.pHYs[1]),h[d+=4]=r.pHYs[2],s(h,++d,o(h,d-13,13)),d+=4),c&&(s(h,d,8),l(h,d+=4,"acTL"),s(h,d+=4,t.frames.length),s(h,d+=4,null!=r.loop?r.loop:0),s(h,d+=4,o(h,d-12,12)),d+=4),3==t.ctype){for(s(h,d,3*(p=t.plte.length)),l(h,d+=4,"PLTE"),d+=4,v=0;v<p;v++){var _=3*v,w=t.plte[v],M=255&w,b=w>>>8&255,y=w>>>16&255;h[d+_+0]=M,h[d+_+1]=b,h[d+_+2]=y}if(s(h,d+=3*p,o(h,d-3*p-4,3*p+4)),d+=4,u){for(s(h,d,p),l(h,d+=4,"tRNS"),d+=4,v=0;v<p;v++)h[d+v]=t.plte[v]>>>24&255;s(h,d+=p,o(h,d-p-4,p+4)),d+=4}}var k=0;for(f=0;f<t.frames.length;f++){var S=t.frames[f];c&&(s(h,d,26),l(h,d+=4,"fcTL"),s(h,d+=4,k++),s(h,d+=4,S.rect.width),s(h,d+=4,S.rect.height),s(h,d+=4,S.rect.x),s(h,d+=4,S.rect.y),i(h,d+=4,a[f]),i(h,d+=2,1e3),h[d+=2]=S.dispose,h[++d]=S.blend,s(h,++d,o(h,d-30,30)),d+=4);var U=S.cimg;s(h,d,(p=U.length)+(0==f?0:4));var P=d+=4;l(h,d,0==f?"IDAT":"fdAT"),d+=4,0!=f&&(s(h,d,k++),d+=4),h.set(U,d),s(h,d+=p,o(h,P,d-P)),d+=4}return s(h,d,0),l(h,d+=4,"IEND"),s(h,d+=4,o(h,d-4,4)),d+=4,h.buffer},UPNG.encode.compressPNG=function(t,e,n){for(var a=0;a<t.frames.length;a++){var r=t.frames[a],o=(r.rect.width,r.rect.height),s=new Uint8Array(o*r.bpl+o);r.cimg=UPNG.encode._filterZero(r.img,o,r.bpp,r.bpl,s,e,n)}},UPNG.encode.compress=function(t,e,n,a,r){for(var o=r[0],s=r[1],i=r[2],l=r[3],d=r[4],c=6,u=8,m=255,p=0;p<t.length;p++)for(var v=new Uint8Array(t[p]),f=v.length,h=0;h<f;h+=4)m&=v[h+3];var g=255!=m,_=UPNG.encode.framize(t,e,n,o,s,i),w={},M=[],b=[];if(0!=a){var y=[];for(h=0;h<_.length;h++)y.push(_[h].img.buffer);var k=UPNG.encode.concatRGBA(y),S=UPNG.quantize(k,a),U=0,P=new Uint8Array(S.abuf);for(h=0;h<_.length;h++){var x=(j=_[h].img).length;for(b.push(new Uint8Array(S.inds.buffer,U>>2,x>>2)),p=0;p<x;p+=4)j[p]=P[U+p],j[p+1]=P[U+p+1],j[p+2]=P[U+p+2],j[p+3]=P[U+p+3];U+=x}for(h=0;h<S.plte.length;h++)M.push(S.plte[h].est.rgba)}else for(p=0;p<_.length;p++){var A=_[p],I=new Uint32Array(A.img.buffer),N=A.rect.width,C=(f=I.length,new Uint8Array(f));for(b.push(C),h=0;h<f;h++){var F=I[h];if(0!=h&&F==I[h-1])C[h]=C[h-1];else if(h>N&&F==I[h-N])C[h]=C[h-N];else{var $=w[F];if(null==$&&(w[F]=$=M.length,M.push(F),M.length>=300))break;C[h]=$}}}var L=M.length;for(L<=256&&0==d&&(u=L<=2?1:L<=4?2:L<=16?4:8,u=Math.max(u,l)),p=0;p<_.length;p++){(A=_[p]).rect.x,A.rect.y,N=A.rect.width;var E=A.rect.height,G=A.img,D=(new Uint32Array(G.buffer),4*N),T=4;if(L<=256&&0==d){D=Math.ceil(u*N/8);for(var R=new Uint8Array(D*E),B=b[p],H=0;H<E;H++){h=H*D;var W=H*N;if(8==u)for(var O=0;O<N;O++)R[h+O]=B[W+O];else if(4==u)for(O=0;O<N;O++)R[h+(O>>1)]|=B[W+O]<<4-4*(1&O);else if(2==u)for(O=0;O<N;O++)R[h+(O>>2)]|=B[W+O]<<6-2*(3&O);else if(1==u)for(O=0;O<N;O++)R[h+(O>>3)]|=B[W+O]<<7-1*(7&O)}G=R,c=3,T=1}else if(0==g&&1==_.length){R=new Uint8Array(N*E*3);var z=N*E;for(h=0;h<z;h++){var j,Z=4*h;R[j=3*h]=G[Z],R[j+1]=G[Z+1],R[j+2]=G[Z+2]}G=R,c=2,T=3,D=3*N}A.img=G,A.bpl=D,A.bpp=T}return{ctype:c,depth:u,plte:M,frames:_}},UPNG.encode.framize=function(t,e,n,a,r,o){for(var s=[],i=0;i<t.length;i++){var l,d=new Uint8Array(t[i]),c=new Uint32Array(d.buffer),u=0,m=0,p=e,v=n,f=a?1:0;if(0!=i){for(var h=o||a||1==i||0!=s[i-2].dispose?1:2,g=0,_=1e9,w=0;w<h;w++){for(var M=new Uint8Array(t[i-1-w]),b=new Uint32Array(t[i-1-w]),y=e,k=n,S=-1,U=-1,P=0;P<n;P++)for(var x=0;x<e;x++)c[L=P*e+x]!=b[L]&&(x<y&&(y=x),x>S&&(S=x),P<k&&(k=P),P>U&&(U=P));-1==S&&(y=k=S=U=0),r&&(1==(1&y)&&y--,1==(1&k)&&k--);var A=(S-y+1)*(U-k+1);A<_&&(_=A,g=w,u=y,m=k,p=S-y+1,v=U-k+1)}M=new Uint8Array(t[i-1-g]),1==g&&(s[i-1].dispose=2),l=new Uint8Array(p*v*4),UPNG._copyTile(M,e,n,l,p,v,-u,-m,0),1==(f=UPNG._copyTile(d,e,n,l,p,v,-u,-m,3)?1:0)?UPNG.encode._prepareDiff(d,e,n,l,{x:u,y:m,width:p,height:v}):UPNG._copyTile(d,e,n,l,p,v,-u,-m,0)}else l=d.slice(0);s.push({rect:{x:u,y:m,width:p,height:v},img:l,blend:f,dispose:0})}if(a)for(i=0;i<s.length;i++)if(1!=(E=s[i]).blend){var I=E.rect,N=s[i-1].rect,C=Math.min(I.x,N.x),F=Math.min(I.y,N.y),$={x:C,y:F,width:Math.max(I.x+I.width,N.x+N.width)-C,height:Math.max(I.y+I.height,N.y+N.height)-F};s[i-1].dispose=1,i-1!=0&&UPNG.encode._updateFrame(t,e,n,s,i-1,$,r),UPNG.encode._updateFrame(t,e,n,s,i,$,r)}if(1!=t.length)for(var L=0;L<s.length;L++){var E;(E=s[L]).rect.width,E.rect.height}return s},UPNG.encode._updateFrame=function(t,e,n,a,r,o,s){for(var i=Uint8Array,l=Uint32Array,d=new i(t[r-1]),c=new l(t[r-1]),u=r+1<t.length?new i(t[r+1]):null,m=new i(t[r]),p=new l(m.buffer),v=e,f=n,h=-1,g=-1,_=0;_<o.height;_++)for(var w=0;w<o.width;w++){var M=o.x+w,b=o.y+_,y=b*e+M,k=p[y];0==k||0==a[r-1].dispose&&c[y]==k&&(null==u||0!=u[4*y+3])||(M<v&&(v=M),M>h&&(h=M),b<f&&(f=b),b>g&&(g=b))}-1==h&&(v=f=h=g=0),s&&(1==(1&v)&&v--,1==(1&f)&&f--),o={x:v,y:f,width:h-v+1,height:g-f+1};var S=a[r];S.rect=o,S.blend=1,S.img=new Uint8Array(o.width*o.height*4),0==a[r-1].dispose?(UPNG._copyTile(d,e,n,S.img,o.width,o.height,-o.x,-o.y,0),UPNG.encode._prepareDiff(m,e,n,S.img,o)):UPNG._copyTile(m,e,n,S.img,o.width,o.height,-o.x,-o.y,0)},UPNG.encode._prepareDiff=function(t,e,n,a,r){UPNG._copyTile(t,e,n,a,r.width,r.height,-r.x,-r.y,2)},UPNG.encode._filterZero=function(t,e,n,a,r,o,s){var i,l=[],d=[0,1,2,3,4];-1!=o?d=[o]:(e*a>5e5||1==n)&&(d=[0]),s&&(i={level:0});for(var c=UZIP,u=0;u<d.length;u++){for(var m=0;m<e;m++)UPNG.encode._filterLine(r,t,m,a,n,d[u]);l.push(c.deflate(r,i))}var p,v=1e9;for(u=0;u<l.length;u++)l[u].length<v&&(p=u,v=l[u].length);return l[p]},UPNG.encode._filterLine=function(t,e,n,a,r,o){var s=n*a,i=s+n,l=UPNG.decode._paeth;if(t[i]=o,i++,0==o)if(a<500)for(var d=0;d<a;d++)t[i+d]=e[s+d];else t.set(new Uint8Array(e.buffer,s,a),i);else if(1==o){for(d=0;d<r;d++)t[i+d]=e[s+d];for(d=r;d<a;d++)t[i+d]=e[s+d]-e[s+d-r]+256&255}else if(0==n){for(d=0;d<r;d++)t[i+d]=e[s+d];if(2==o)for(d=r;d<a;d++)t[i+d]=e[s+d];if(3==o)for(d=r;d<a;d++)t[i+d]=e[s+d]-(e[s+d-r]>>1)+256&255;if(4==o)for(d=r;d<a;d++)t[i+d]=e[s+d]-l(e[s+d-r],0,0)+256&255}else{if(2==o)for(d=0;d<a;d++)t[i+d]=e[s+d]+256-e[s+d-a]&255;if(3==o){for(d=0;d<r;d++)t[i+d]=e[s+d]+256-(e[s+d-a]>>1)&255;for(d=r;d<a;d++)t[i+d]=e[s+d]+256-(e[s+d-a]+e[s+d-r]>>1)&255}if(4==o){for(d=0;d<r;d++)t[i+d]=e[s+d]+256-l(0,e[s+d-a],0)&255;for(d=r;d<a;d++)t[i+d]=e[s+d]+256-l(e[s+d-r],e[s+d-a],e[s+d-r-a])&255}}},UPNG.crc={table:function(){for(var t=new Uint32Array(256),e=0;e<256;e++){for(var n=e,a=0;a<8;a++)1&n?n=3988292384^n>>>1:n>>>=1;t[e]=n}return t}(),update:function(t,e,n,a){for(var r=0;r<a;r++)t=UPNG.crc.table[255&(t^e[n+r])]^t>>>8;return t},crc:function(t,e,n){return 4294967295^UPNG.crc.update(4294967295,t,e,n)}},UPNG.quantize=function(t,e){var n,a=new Uint8Array(t),r=a.slice(0),o=new Uint32Array(r.buffer),s=UPNG.quantize.getKDtree(r,e),i=s[0],l=s[1],d=UPNG.quantize.planeDst,c=a,u=o,m=c.length,p=new Uint8Array(a.length>>2);if(a.length<2e7)for(var v=0;v<m;v+=4){var f=c[v]*(1/255),h=c[v+1]*(1/255),g=c[v+2]*(1/255),_=c[v+3]*(1/255);n=UPNG.quantize.getNearest(i,f,h,g,_),p[v>>2]=n.ind,u[v>>2]=n.est.rgba}else for(v=0;v<m;v+=4){for(f=c[v]*(1/255),h=c[v+1]*(1/255),g=c[v+2]*(1/255),_=c[v+3]*(1/255),n=i;n.left;)n=d(n.est,f,h,g,_)<=0?n.left:n.right;p[v>>2]=n.ind,u[v>>2]=n.est.rgba}return{abuf:r.buffer,inds:p,plte:l}},UPNG.quantize.getKDtree=function(t,e,n){null==n&&(n=1e-4);var a=new Uint32Array(t.buffer),r={i0:0,i1:t.length,bst:null,est:null,tdst:0,left:null,right:null};r.bst=UPNG.quantize.stats(t,r.i0,r.i1),r.est=UPNG.quantize.estats(r.bst);for(var o=[r];o.length<e;){for(var s=0,i=0,l=0;l<o.length;l++)o[l].est.L>s&&(s=o[l].est.L,i=l);if(s<n)break;var d=o[i],c=UPNG.quantize.splitPixels(t,a,d.i0,d.i1,d.est.e,d.est.eMq255);if(d.i0>=c||d.i1<=c)d.est.L=0;else{var u={i0:d.i0,i1:c,bst:null,est:null,tdst:0,left:null,right:null};u.bst=UPNG.quantize.stats(t,u.i0,u.i1),u.est=UPNG.quantize.estats(u.bst);var m={i0:c,i1:d.i1,bst:null,est:null,tdst:0,left:null,right:null};for(m.bst={R:[],m:[],N:d.bst.N-u.bst.N},l=0;l<16;l++)m.bst.R[l]=d.bst.R[l]-u.bst.R[l];for(l=0;l<4;l++)m.bst.m[l]=d.bst.m[l]-u.bst.m[l];m.est=UPNG.quantize.estats(m.bst),d.left=u,d.right=m,o[i]=u,o.push(m)}}for(o.sort(function(t,e){return e.bst.N-t.bst.N}),l=0;l<o.length;l++)o[l].ind=l;return[r,o]},UPNG.quantize.getNearest=function(t,e,n,a,r){if(null==t.left)return t.tdst=UPNG.quantize.dist(t.est.q,e,n,a,r),t;var o=UPNG.quantize.planeDst(t.est,e,n,a,r),s=t.left,i=t.right;o>0&&(s=t.right,i=t.left);var l=UPNG.quantize.getNearest(s,e,n,a,r);if(l.tdst<=o*o)return l;var d=UPNG.quantize.getNearest(i,e,n,a,r);return d.tdst<l.tdst?d:l},UPNG.quantize.planeDst=function(t,e,n,a,r){var o=t.e;return o[0]*e+o[1]*n+o[2]*a+o[3]*r-t.eMq},UPNG.quantize.dist=function(t,e,n,a,r){var o=e-t[0],s=n-t[1],i=a-t[2],l=r-t[3];return o*o+s*s+i*i+l*l},UPNG.quantize.splitPixels=function(t,e,n,a,r,o){var s=UPNG.quantize.vecDot;for(a-=4;n<a;){for(;s(t,n,r)<=o;)n+=4;for(;s(t,a,r)>o;)a-=4;if(n>=a)break;var i=e[n>>2];e[n>>2]=e[a>>2],e[a>>2]=i,n+=4,a-=4}for(;s(t,n,r)>o;)n-=4;return n+4},UPNG.quantize.vecDot=function(t,e,n){return t[e]*n[0]+t[e+1]*n[1]+t[e+2]*n[2]+t[e+3]*n[3]},UPNG.quantize.stats=function(t,e,n){for(var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=[0,0,0,0],o=n-e>>2,s=e;s<n;s+=4){var i=t[s]*(1/255),l=t[s+1]*(1/255),d=t[s+2]*(1/255),c=t[s+3]*(1/255);r[0]+=i,r[1]+=l,r[2]+=d,r[3]+=c,a[0]+=i*i,a[1]+=i*l,a[2]+=i*d,a[3]+=i*c,a[5]+=l*l,a[6]+=l*d,a[7]+=l*c,a[10]+=d*d,a[11]+=d*c,a[15]+=c*c}return a[4]=a[1],a[8]=a[2],a[9]=a[6],a[12]=a[3],a[13]=a[7],a[14]=a[11],{R:a,m:r,N:o}},UPNG.quantize.estats=function(t){var e=t.R,n=t.m,a=t.N,r=n[0],o=n[1],s=n[2],i=n[3],l=0==a?0:1/a,d=[e[0]-r*r*l,e[1]-r*o*l,e[2]-r*s*l,e[3]-r*i*l,e[4]-o*r*l,e[5]-o*o*l,e[6]-o*s*l,e[7]-o*i*l,e[8]-s*r*l,e[9]-s*o*l,e[10]-s*s*l,e[11]-s*i*l,e[12]-i*r*l,e[13]-i*o*l,e[14]-i*s*l,e[15]-i*i*l],c=d,u=UPNG.M4,m=[Math.random(),Math.random(),Math.random(),Math.random()],p=0,v=0;if(0!=a)for(var f=0;f<16&&(m=u.multVec(c,m),v=Math.sqrt(u.dot(m,m)),m=u.sml(1/v,m),!(0!=f&&Math.abs(v-p)<1e-9));f++)p=v;var h=[r*l,o*l,s*l,i*l];return{Cov:d,q:h,e:m,L:p,eMq255:u.dot(u.sml(255,h),m),eMq:u.dot(m,h),rgba:(Math.round(255*h[3])<<24|Math.round(255*h[2])<<16|Math.round(255*h[1])<<8|Math.round(255*h[0])<<0)>>>0}},UPNG.M4={multVec:function(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3],t[4]*e[0]+t[5]*e[1]+t[6]*e[2]+t[7]*e[3],t[8]*e[0]+t[9]*e[1]+t[10]*e[2]+t[11]*e[3],t[12]*e[0]+t[13]*e[1]+t[14]*e[2]+t[15]*e[3]]},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},sml:function(t,e){return[t*e[0],t*e[1],t*e[2],t*e[3]]}},UPNG.encode.concatRGBA=function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].byteLength;var a=new Uint8Array(e),r=0;for(n=0;n<t.length;n++){for(var o=new Uint8Array(t[n]),s=o.length,i=0;i<s;i+=4){var l=o[i],d=o[i+1],c=o[i+2],u=o[i+3];0==u&&(l=d=c=0),a[r+i]=l,a[r+i+1]=d,a[r+i+2]=c,a[r+i+3]=u}r+=s}return a.buffer};var isBrowser="undefined"!=typeof window,moduleMapper=isBrowser&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),CustomFile=isBrowser&&(moduleMapper&&moduleMapper.getOriginalSymbol(window,"File")||File),CustomFileReader=isBrowser&&(moduleMapper&&moduleMapper.getOriginalSymbol(window,"FileReader")||FileReader);function isAutoOrientationInBrowser(){return new Promise(function(t,e){var n,a,r,o;return void 0!==isAutoOrientationInBrowser.result?t(isAutoOrientationInBrowser.result):getFilefromDataUrl("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(s){try{return drawFileInCanvas(n=s).then(function(s){try{return canvasToFile(a=s[1],n.type,n.name,n.lastModified).then(function(n){try{return r=n,cleanupCanvasMemory(a),drawFileInCanvas(r).then(function(n){try{return o=n[0],isAutoOrientationInBrowser.result=1===o.width&&2===o.height,t(isAutoOrientationInBrowser.result)}catch(t){return e(t)}},e)}catch(t){return e(t)}},e)}catch(t){return e(t)}},e)}catch(t){return e(t)}},e)})}function getDataUrlFromFile(t){return new Promise(function(e,n){var a=new CustomFileReader;a.onload=function(){return e(a.result)},a.onerror=function(t){return n(t)},a.readAsDataURL(t)})}function getFilefromDataUrl(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return new Promise(function(a){for(var r=t.split(","),o=r[0].match(/:(.*?);/)[1],s=globalThis.atob(r[1]),i=s.length,l=new Uint8Array(i);i--;)l[i]=s.charCodeAt(i);var d=new Blob([l],{type:o});d.name=e,d.lastModified=n,a(d)})}function loadImage(t){return new Promise(function(e,n){var a=new Image;a.onload=function(){return e(a)},a.onerror=function(t){return n(t)},a.src=t})}function drawImageInCanvas(t){var e=_slicedToArray(getNewCanvasAndCtx(t.width,t.height),2),n=e[0];return e[1].drawImage(t,0,0,n.width,n.height),n}function drawFileInCanvas(t){return new Promise(function(e,n){var a,r,o=function(){try{return r=drawImageInCanvas(a),e([a,r])}catch(t){return n(t)}},s=function(e){try{return getDataUrlFromFile(t).then(function(t){try{return loadImage(t).then(function(t){try{return a=t,o()}catch(t){return n(t)}},n)}catch(t){return n(t)}},n)}catch(t){return n(t)}};try{return createImageBitmap(t).then(function(t){try{return a=t,o()}catch(t){return s()}},s)}catch(t){s()}})}function canvasToFile(t,e,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return new Promise(function(o,s){var i,l,d;if("image/png"===e)return l=t.getContext("2d").getImageData(0,0,t.width,t.height).data,d=UPNG.encode([l],t.width,t.height,256*r),(i=new Blob([d],{type:e})).name=n,i.lastModified=a,u.call(this);{return"function"==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?t.convertToBlob({type:e,quality:r}).then(function(t){try{return(i=t).name=n,i.lastModified=a,c.call(this)}catch(t){return s(t)}}.bind(this),s):getFilefromDataUrl(t.toDataURL(e,r),n,a).then(function(t){try{return i=t,c.call(this)}catch(t){return s(t)}}.bind(this),s);function c(){return u.call(this)}}function u(){return o(i)}})}function getExifOrientation(t){return new Promise(function(e,n){var a=new CustomFileReader;a.onload=function(t){var n=new DataView(t.target.result);if(65496!=n.getUint16(0,!1))return e(-2);for(var a=n.byteLength,r=2;r<a;){if(n.getUint16(r+2,!1)<=8)return e(-1);var o=n.getUint16(r,!1);if(r+=2,65505==o){if(1165519206!=n.getUint32(r+=2,!1))return e(-1);var s=18761==n.getUint16(r+=6,!1);r+=n.getUint32(r+4,s);var i=n.getUint16(r,s);r+=2;for(var l=0;l<i;l++)if(274==n.getUint16(r+12*l,s))return e(n.getUint16(r+12*l+8,s))}else{if(65280!=(65280&o))break;r+=n.getUint16(r,!1)}}return e(-1)},a.onerror=function(t){return n(t)},a.readAsArrayBuffer(t)})}function handleMaxWidthOrHeight(t,e){var n,a=t.width,r=t.height,o=e.maxWidthOrHeight,s=t;if(isFinite(o)&&(a>o||r>o)){var i=_slicedToArray(getNewCanvasAndCtx(a,r),2);s=i[0],n=i[1],a>r?(s.width=o,s.height=r/a*o):(s.width=a/r*o,s.height=o),n.drawImage(t,0,0,s.width,s.height),cleanupCanvasMemory(t)}return s}function followExifOrientation(t,e){var n=t.width,a=t.height,r=_slicedToArray(getNewCanvasAndCtx(n,a),2),o=r[0],s=r[1];switch(4<e&&e<9?(o.width=a,o.height=n):(o.width=n,o.height=a),e){case 2:s.transform(-1,0,0,1,n,0);break;case 3:s.transform(-1,0,0,-1,n,a);break;case 4:s.transform(1,0,0,-1,0,a);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,a,0);break;case 7:s.transform(0,-1,-1,0,a,n);break;case 8:s.transform(0,-1,1,0,0,n)}return s.drawImage(t,0,0,n,a),cleanupCanvasMemory(t),o}function getNewCanvasAndCtx(t,e){var n,a;try{if(null===(a=(n=new OffscreenCanvas(t,e)).getContext("2d")))throw new Error("getContext of OffscreenCanvas returns null")}catch(t){a=(n=document.createElement("canvas")).getContext("2d")}return n.width=t,n.height=e,[n,a]}function cleanupCanvasMemory(t){t.width=0,t.height=0}function compress(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise(function(a,r){var o,s,i,l,d,c,u,m,p,v,f,h,g,_,w,M,b,y;function k(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;o+=t,e.onProgress(Math.min(o,100))}function S(t){o=Math.min(Math.max(t,o),100),e.onProgress(o)}return o=n,s=e.maxIteration||10,i=1024*e.maxSizeMB*1024,k(),drawFileInCanvas(t).then(function(n){try{var o=_slicedToArray(n,2);return o[0],l=o[1],k(),d=handleMaxWidthOrHeight(l,e),k(),new Promise(function(n,a){var r;if(!(r=e.exifOrientation))return getExifOrientation(t).then(function(t){try{return r=t,o.call(this)}catch(t){return a(t)}}.bind(this),a);function o(){return n(r)}return o.call(this)}).then(function(n){try{return c=n,k(),isAutoOrientationInBrowser().then(function(n){try{return u=n?d:followExifOrientation(d,c),k(),m=e.initialQuality||1,p=e.fileType||t.type,canvasToFile(u,p,t.name,t.lastModified,m).then(function(e){try{{if(v=e,k(),f=v.size>i,h=v.size>t.size,!f&&!h)return S(100),a(v);var n;function o(){if(s--&&(w>i||w>g)){var e,n,a=_slicedToArray(getNewCanvasAndCtx(e=f?.95*y.width:y.width,n=f?.95*y.height:y.height),2);return b=a[0],a[1].drawImage(y,0,0,e,n),m*=.95,canvasToFile(b,p,t.name,t.lastModified,m).then(function(t){try{return M=t,cleanupCanvasMemory(y),y=b,w=M.size,S(Math.min(99,Math.floor((_-w)/(_-i)*100))),o}catch(t){return r(t)}},r)}return[1]}return g=t.size,_=v.size,w=_,y=u,(n=function(t){for(;t;){if(t.then)return void t.then(n,r);try{if(t.pop){if(t.length)return t.pop()?c.call(this):t;t=o}else t=t.call(this)}catch(t){return r(t)}}}.bind(this))(o);function c(){return cleanupCanvasMemory(y),cleanupCanvasMemory(b),cleanupCanvasMemory(d),cleanupCanvasMemory(u),cleanupCanvasMemory(l),S(100),a(M)}}}catch(t){return r(t)}}.bind(this),r)}catch(t){return r(t)}}.bind(this),r)}catch(t){return r(t)}}.bind(this),r)}catch(t){return r(t)}}.bind(this),r)})}isBrowser&&(Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t});var cnt=0,imageCompressionLibUrl,worker;function createWorker(t){return"function"==typeof t&&(t="(".concat(f,")()")),new Worker(URL.createObjectURL(new Blob([t])))}function createSourceObject(t){return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}function stringify(t){return JSON.stringify(t,function(t,e){return"function"==typeof e?"BIC_FN:::(() => ".concat(e.toString(),")()"):e})}function parse(o){if("string"==typeof o)return o;var result={};return Object.entries(o).forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];if("string"==typeof value&&value.startsWith("BIC_FN:::"))try{result[key]=eval(value.replace(/^BIC_FN:::/,""))}catch(t){throw console.log(key,t),t}else result[key]=parse(value)}),result}function generateLib(){return createSourceObject("\n    // reconstruct library\n    function imageCompression (){return (".concat(imageCompression,").apply(null, arguments)}\n\n    imageCompression.getDataUrlFromFile = ").concat(imageCompression.getDataUrlFromFile,"\n    imageCompression.getFilefromDataUrl = ").concat(imageCompression.getFilefromDataUrl,"\n    imageCompression.loadImage = ").concat(imageCompression.loadImage,"\n    imageCompression.drawImageInCanvas = ").concat(imageCompression.drawImageInCanvas,"\n    imageCompression.drawFileInCanvas = ").concat(imageCompression.drawFileInCanvas,"\n    imageCompression.canvasToFile = ").concat(imageCompression.canvasToFile,"\n    imageCompression.getExifOrientation = ").concat(imageCompression.getExifOrientation,"\n    imageCompression.handleMaxWidthOrHeight = ").concat(imageCompression.handleMaxWidthOrHeight,"\n    imageCompression.followExifOrientation = ").concat(imageCompression.followExifOrientation,"\n    imageCompression.cleanupCanvasMemory = ").concat(imageCompression.cleanupCanvasMemory,"\n    imageCompression.isAutoOrientationInBrowser = ").concat(imageCompression.isAutoOrientationInBrowser,"\n\n    // functions / objects\n    getDataUrlFromFile = imageCompression.getDataUrlFromFile\n    getFilefromDataUrl = imageCompression.getFilefromDataUrl\n    loadImage = imageCompression.loadImage\n    drawImageInCanvas = imageCompression.drawImageInCanvas\n    drawFileInCanvas = imageCompression.drawFileInCanvas\n    canvasToFile = imageCompression.canvasToFile\n    getExifOrientation = imageCompression.getExifOrientation\n    handleMaxWidthOrHeight = imageCompression.handleMaxWidthOrHeight\n    followExifOrientation = imageCompression.followExifOrientation\n    cleanupCanvasMemory = imageCompression.cleanupCanvasMemory\n    isAutoOrientationInBrowser = imageCompression.isAutoOrientationInBrowser\n    \n    getNewCanvasAndCtx = ").concat(getNewCanvasAndCtx,"\n    CustomFileReader = FileReader\n    CustomFile = File\n    function _slicedToArray(arr, n) { return arr }\n    function _typeof(a) { return typeof a }\n    function compress (){return (").concat(compress,").apply(null, arguments)}\n\n    // Libraries\n    const parse = ").concat(parse,"\n    const UPNG = {}\n    UPNG.toRGBA8 = ").concat(UPNG.toRGBA8,"\n    UPNG.toRGBA8.decodeImage = ").concat(UPNG.toRGBA8.decodeImage,"\n    UPNG.decode = ").concat(UPNG.decode,"\n    UPNG.decode._decompress = ").concat(UPNG.decode._decompress,"\n    UPNG.decode._inflate = ").concat(UPNG.decode._inflate,"\n    UPNG.decode._readInterlace = ").concat(UPNG.decode._readInterlace,"\n    UPNG.decode._getBPP = ").concat(UPNG.decode._getBPP," \n    UPNG.decode._filterZero = ").concat(UPNG.decode._filterZero,"\n    UPNG.decode._paeth = ").concat(UPNG.decode._paeth,"\n    UPNG.decode._IHDR = ").concat(UPNG.decode._IHDR,"\n    UPNG._bin = parse(").concat(stringify(UPNG._bin),")\n    UPNG._copyTile = ").concat(UPNG._copyTile,"\n    UPNG.encode = ").concat(UPNG.encode,"\n    UPNG.encodeLL = ").concat(UPNG.encodeLL," \n    UPNG.encode._main = ").concat(UPNG.encode._main,"\n    UPNG.encode.compressPNG = ").concat(UPNG.encode.compressPNG," \n    UPNG.encode.compress = ").concat(UPNG.encode.compress,"\n    UPNG.encode.framize = ").concat(UPNG.encode.framize," \n    UPNG.encode._updateFrame = ").concat(UPNG.encode._updateFrame," \n    UPNG.encode._prepareDiff = ").concat(UPNG.encode._prepareDiff," \n    UPNG.encode._filterZero = ").concat(UPNG.encode._filterZero," \n    UPNG.encode._filterLine = ").concat(UPNG.encode._filterLine,"\n    UPNG.encode.concatRGBA = ").concat(UPNG.encode.concatRGBA,"\n    UPNG.crc = parse(").concat(stringify(UPNG.crc),")\n    UPNG.crc.table = ( function() {\n    var tab = new Uint32Array(256);\n    for (var n=0; n<256; n++) {\n      var c = n;\n      for (var k=0; k<8; k++) {\n        if (c & 1)  c = 0xedb88320 ^ (c >>> 1);\n        else        c = c >>> 1;\n      }\n      tab[n] = c;  }\n    return tab;  })()\n    UPNG.quantize = ").concat(UPNG.quantize," \n    UPNG.quantize.getKDtree = ").concat(UPNG.quantize.getKDtree," \n    UPNG.quantize.getNearest = ").concat(UPNG.quantize.getNearest," \n    UPNG.quantize.planeDst = ").concat(UPNG.quantize.planeDst," \n    UPNG.quantize.dist = ").concat(UPNG.quantize.dist,"     \n    UPNG.quantize.splitPixels = ").concat(UPNG.quantize.splitPixels," \n    UPNG.quantize.vecDot = ").concat(UPNG.quantize.vecDot," \n    UPNG.quantize.stats = ").concat(UPNG.quantize.stats," \n    UPNG.quantize.estats = ").concat(UPNG.quantize.estats,"\n    UPNG.M4 = parse(").concat(stringify(UPNG.M4),")\n    UPNG.encode.concatRGBA = ").concat(UPNG.encode.concatRGBA,'\n    UPNG.inflateRaw=function(){\n    var H={};H.H={};H.H.N=function(N,W){var R=Uint8Array,i=0,m=0,J=0,h=0,Q=0,X=0,u=0,w=0,d=0,v,C;\n      if(N[0]==3&&N[1]==0)return W?W:new R(0);var V=H.H,n=V.b,A=V.e,l=V.R,M=V.n,I=V.A,e=V.Z,b=V.m,Z=W==null;\n      if(Z)W=new R(N.length>>>2<<5);while(i==0){i=n(N,d,1);m=n(N,d+1,2);d+=3;if(m==0){if((d&7)!=0)d+=8-(d&7);\n        var D=(d>>>3)+4,q=N[D-4]|N[D-3]<<8;if(Z)W=H.H.W(W,w+q);W.set(new R(N.buffer,N.byteOffset+D,q),w);d=D+q<<3;\n        w+=q;continue}if(Z)W=H.H.W(W,w+(1<<17));if(m==1){v=b.J;C=b.h;X=(1<<9)-1;u=(1<<5)-1}if(m==2){J=A(N,d,5)+257;\n        h=A(N,d+5,5)+1;Q=A(N,d+10,4)+4;d+=14;var E=d,j=1;for(var c=0;c<38;c+=2){b.Q[c]=0;b.Q[c+1]=0}for(var c=0;\n                                                                                                        c<Q;c++){var K=A(N,d+c*3,3);b.Q[(b.X[c]<<1)+1]=K;if(K>j)j=K}d+=3*Q;M(b.Q,j);I(b.Q,j,b.u);v=b.w;C=b.d;\n        d=l(b.u,(1<<j)-1,J+h,N,d,b.v);var r=V.V(b.v,0,J,b.C);X=(1<<r)-1;var S=V.V(b.v,J,h,b.D);u=(1<<S)-1;M(b.C,r);\n        I(b.C,r,v);M(b.D,S);I(b.D,S,C)}while(!0){var T=v[e(N,d)&X];d+=T&15;var p=T>>>4;if(p>>>8==0){W[w++]=p}else if(p==256){break}else{var z=w+p-254;\n        if(p>264){var _=b.q[p-257];z=w+(_>>>3)+A(N,d,_&7);d+=_&7}var $=C[e(N,d)&u];d+=$&15;var s=$>>>4,Y=b.c[s],a=(Y>>>4)+n(N,d,Y&15);\n        d+=Y&15;while(w<z){W[w]=W[w++-a];W[w]=W[w++-a];W[w]=W[w++-a];W[w]=W[w++-a]}w=z}}}return W.length==w?W:W.slice(0,w)};\n      H.H.W=function(N,W){var R=N.length;if(W<=R)return N;var V=new Uint8Array(R<<1);V.set(N,0);return V};\n      H.H.R=function(N,W,R,V,n,A){var l=H.H.e,M=H.H.Z,I=0;while(I<R){var e=N[M(V,n)&W];n+=e&15;var b=e>>>4;\n        if(b<=15){A[I]=b;I++}else{var Z=0,m=0;if(b==16){m=3+l(V,n,2);n+=2;Z=A[I-1]}else if(b==17){m=3+l(V,n,3);\n          n+=3}else if(b==18){m=11+l(V,n,7);n+=7}var J=I+m;while(I<J){A[I]=Z;I++}}}return n};H.H.V=function(N,W,R,V){var n=0,A=0,l=V.length>>>1;\n        while(A<R){var M=N[A+W];V[A<<1]=0;V[(A<<1)+1]=M;if(M>n)n=M;A++}while(A<l){V[A<<1]=0;V[(A<<1)+1]=0;A++}return n};\n      H.H.n=function(N,W){var R=H.H.m,V=N.length,n,A,l,M,I,e=R.j;for(var M=0;M<=W;M++)e[M]=0;for(M=1;M<V;M+=2)e[N[M]]++;\n        var b=R.K;n=0;e[0]=0;for(A=1;A<=W;A++){n=n+e[A-1]<<1;b[A]=n}for(l=0;l<V;l+=2){I=N[l+1];if(I!=0){N[l]=b[I];\n          b[I]++}}};H.H.A=function(N,W,R){var V=N.length,n=H.H.m,A=n.r;for(var l=0;l<V;l+=2)if(N[l+1]!=0){var M=l>>1,I=N[l+1],e=M<<4|I,b=W-I,Z=N[l]<<b,m=Z+(1<<b);\n        while(Z!=m){var J=A[Z]>>>15-W;R[J]=e;Z++}}};H.H.l=function(N,W){var R=H.H.m.r,V=15-W;for(var n=0;n<N.length;\n                                                                                                 n+=2){var A=N[n]<<W-N[n+1];N[n]=R[A]>>>V}};H.H.M=function(N,W,R){R=R<<(W&7);var V=W>>>3;N[V]|=R;N[V+1]|=R>>>8};\n      H.H.I=function(N,W,R){R=R<<(W&7);var V=W>>>3;N[V]|=R;N[V+1]|=R>>>8;N[V+2]|=R>>>16};H.H.e=function(N,W,R){return(N[W>>>3]|N[(W>>>3)+1]<<8)>>>(W&7)&(1<<R)-1};\n      H.H.b=function(N,W,R){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16)>>>(W&7)&(1<<R)-1};H.H.Z=function(N,W){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16)>>>(W&7)};\n      H.H.i=function(N,W){return(N[W>>>3]|N[(W>>>3)+1]<<8|N[(W>>>3)+2]<<16|N[(W>>>3)+3]<<24)>>>(W&7)};H.H.m=function(){var N=Uint16Array,W=Uint32Array;\n        return{K:new N(16),j:new N(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new N(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new W(32),J:new N(512),_:[],h:new N(32),$:[],w:new N(32768),C:[],v:[],d:new N(32768),D:[],u:new N(512),Q:[],r:new N(1<<15),s:new W(286),Y:new W(30),a:new W(19),t:new W(15e3),k:new N(1<<16),g:new N(1<<15)}}();\n      (function(){var N=H.H.m,W=1<<15;for(var R=0;R<W;R++){var V=R;V=(V&2863311530)>>>1|(V&1431655765)<<1;\n        V=(V&3435973836)>>>2|(V&858993459)<<2;V=(V&4042322160)>>>4|(V&252645135)<<4;V=(V&4278255360)>>>8|(V&16711935)<<8;\n        N.r[R]=(V>>>16|V<<16)>>>17}function n(A,l,M){while(l--!=0)A.push(0,M)}for(var R=0;R<32;R++){N.q[R]=N.S[R]<<3|N.T[R];\n        N.c[R]=N.p[R]<<4|N.z[R]}n(N._,144,8);n(N._,255-143,9);n(N._,279-255,7);n(N._,287-279,8);H.H.n(N._,9);\n        H.H.A(N._,9,N.J);H.H.l(N._,9);n(N.$,32,5);H.H.n(N.$,5);H.H.A(N.$,5,N.h);H.H.l(N.$,5);n(N.Q,19,0);n(N.C,286,0);\n        n(N.D,30,0);n(N.v,320,0)}());return H.H.N}()\n    \n    const UZIP = {}\n    UZIP["parse"] = ').concat(UZIP_1.parse,"\n    UZIP._readLocal = ").concat(UZIP_1._readLocal,"\n    UZIP.inflateRaw = ").concat(UZIP_1.inflateRaw,"\n    UZIP.inflate = ").concat(UZIP_1.inflate,"\n    UZIP.deflate = ").concat(UZIP_1.deflate,"\n    UZIP.deflateRaw = ").concat(UZIP_1.deflateRaw,"\n    UZIP.encode = ").concat(UZIP_1.encode,"\n    UZIP._noNeed = ").concat(UZIP_1._noNeed,"\n    UZIP._writeHeader = ").concat(UZIP_1._writeHeader,"\n    UZIP.crc = parse(").concat(stringify(UZIP_1.crc),")\n    UZIP.crc.table = ( function() {\n      var tab = new Uint32Array(256);\n      for (var n=0; n<256; n++) {\n        var c = n;\n        for (var k=0; k<8; k++) {\n          if (c & 1)  c = 0xedb88320 ^ (c >>> 1);\n          else        c = c >>> 1;\n        }\n        tab[n] = c;  }\n      return tab;  })()\n    \n    UZIP.adler = ").concat(UZIP_1.adler,"\n    UZIP.bin = parse(").concat(stringify(UZIP_1.bin),")\n    UZIP.F = {}\n    UZIP.F.deflateRaw = ").concat(UZIP_1.F.deflateRaw,"\n    UZIP.F._bestMatch = ").concat(UZIP_1.F._bestMatch,"\n    UZIP.F._howLong = ").concat(UZIP_1.F._howLong,"\n    UZIP.F._hash = ").concat(UZIP_1.F._hash,"\n    UZIP.saved = ").concat(UZIP_1.saved,"\n    UZIP.F._writeBlock = ").concat(UZIP_1.F._writeBlock,"\n    UZIP.F._copyExact = ").concat(UZIP_1.F._copyExact,"\n    UZIP.F.getTrees = ").concat(UZIP_1.F.getTrees,"\n    UZIP.F.getSecond = ").concat(UZIP_1.F.getSecond,"\n    UZIP.F.nonZero = ").concat(UZIP_1.F.nonZero,"\n    UZIP.F.contSize = ").concat(UZIP_1.F.contSize,"\n    UZIP.F._codeTiny = ").concat(UZIP_1.F._codeTiny," \n    UZIP.F._lenCodes = ").concat(UZIP_1.F._lenCodes," \n    UZIP.F._hufTree = ").concat(UZIP_1.F._hufTree," \n    UZIP.F.setDepth = ").concat(UZIP_1.F.setDepth," \n    UZIP.F.restrictDepth = ").concat(UZIP_1.F.restrictDepth,"\n    UZIP.F._goodIndex = ").concat(UZIP_1.F._goodIndex," \n    UZIP.F._writeLit = ").concat(UZIP_1.F._writeLit," \n    UZIP.F.inflate = ").concat(UZIP_1.F.inflate," \n    UZIP.F._check = ").concat(UZIP_1.F._check," \n    UZIP.F._decodeTiny = ").concat(UZIP_1.F._decodeTiny," \n    UZIP.F._copyOut = ").concat(UZIP_1.F._copyOut," \n    UZIP.F.makeCodes = ").concat(UZIP_1.F.makeCodes," \n    UZIP.F.codes2map = ").concat(UZIP_1.F.codes2map," \n    UZIP.F.revCodes = ").concat(UZIP_1.F.revCodes," \n\n    // used only in deflate\n    UZIP.F._putsE = ").concat(UZIP_1.F._putsE,"\n    UZIP.F._putsF = ").concat(UZIP_1.F._putsF,"\n  \n    UZIP.F._bitsE = ").concat(UZIP_1.F._bitsE,"\n    UZIP.F._bitsF = ").concat(UZIP_1.F._bitsF,"\n\n    UZIP.F._get17 = ").concat(UZIP_1.F._get17,"\n    UZIP.F._get25 = ").concat(UZIP_1.F._get25,"\n    UZIP.F.U = function(){\n      var u16=Uint16Array, u32=Uint32Array;\n      return {\n        next_code : new u16(16),\n        bl_count  : new u16(16),\n        ordr : [ 16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15 ],\n        of0  : [3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],\n        exb  : [0,0,0,0,0,0,0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4,  4,  5,  5,  5,  5,  0,  0,  0,  0],\n        ldef : new u16(32),\n        df0  : [1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577, 65535, 65535],\n        dxb  : [0,0,0,0,1,1,2, 2, 3, 3, 4, 4, 5, 5,  6,  6,  7,  7,  8,  8,   9,   9,  10,  10,  11,  11,  12,   12,   13,   13,     0,     0],\n        ddef : new u32(32),\n        flmap: new u16(  512),  fltree: [],\n        fdmap: new u16(   32),  fdtree: [],\n        lmap : new u16(32768),  ltree : [],  ttree:[],\n        dmap : new u16(32768),  dtree : [],\n        imap : new u16(  512),  itree : [],\n        //rev9 : new u16(  512)\n        rev15: new u16(1<<15),\n        lhst : new u32(286), dhst : new u32( 30), ihst : new u32(19),\n        lits : new u32(15000),\n        strt : new u16(1<<16),\n        prev : new u16(1<<15)\n      };\n    } ();\n\n    (function(){\n      var U = UZIP.F.U;\n      var len = 1<<15;\n      for(var i=0; i<len; i++) {\n        var x = i;\n        x = (((x & 0xaaaaaaaa) >>> 1) | ((x & 0x55555555) << 1));\n        x = (((x & 0xcccccccc) >>> 2) | ((x & 0x33333333) << 2));\n        x = (((x & 0xf0f0f0f0) >>> 4) | ((x & 0x0f0f0f0f) << 4));\n        x = (((x & 0xff00ff00) >>> 8) | ((x & 0x00ff00ff) << 8));\n        U.rev15[i] = (((x >>> 16) | (x << 16)))>>>17;\n      }\n  \n      function pushV(tgt, n, sv) {  while(n--!=0) tgt.push(0,sv);  }\n  \n      for(var i=0; i<32; i++) {  U.ldef[i]=(U.of0[i]<<3)|U.exb[i];  U.ddef[i]=(U.df0[i]<<4)|U.dxb[i];  }\n  \n      pushV(U.fltree, 144, 8);  pushV(U.fltree, 255-143, 9);  pushV(U.fltree, 279-255, 7);  pushV(U.fltree,287-279,8);\n      /*\n        var i = 0;\n        for(; i<=143; i++) U.fltree.push(0,8);\n        for(; i<=255; i++) U.fltree.push(0,9);\n        for(; i<=279; i++) U.fltree.push(0,7);\n        for(; i<=287; i++) U.fltree.push(0,8);\n        */\n      UZIP.F.makeCodes(U.fltree, 9);\n      UZIP.F.codes2map(U.fltree, 9, U.flmap);\n      UZIP.F.revCodes (U.fltree, 9)\n  \n      pushV(U.fdtree,32,5);\n      //for(i=0;i<32; i++) U.fdtree.push(0,5);\n      UZIP.F.makeCodes(U.fdtree, 5);\n      UZIP.F.codes2map(U.fdtree, 5, U.fdmap);\n      UZIP.F.revCodes (U.fdtree, 5)\n  \n      pushV(U.itree,19,0);  pushV(U.ltree,286,0);  pushV(U.dtree,30,0);  pushV(U.ttree,320,0);\n      /*\n        for(var i=0; i< 19; i++) U.itree.push(0,0);\n        for(var i=0; i<286; i++) U.ltree.push(0,0);\n        for(var i=0; i< 30; i++) U.dtree.push(0,0);\n        for(var i=0; i<320; i++) U.ttree.push(0,0);\n        */\n    })()\n    "))}function generateWorkerScript(){return createWorker("\n    let scriptImported = false\n    self.addEventListener('message', async (e) => {\n      const { file, id, imageCompressionLibUrl, options } = e.data\n      options.onProgress = (progress) => self.postMessage({ progress, id })\n      try {\n        if (!scriptImported) {\n          // console.log('[worker] importScripts', imageCompressionLibUrl)\n          self.importScripts(imageCompressionLibUrl)\n          scriptImported = true\n        }\n        // console.log('[worker] self', self)\n        const compressedFile = await imageCompression(file, options)\n        self.postMessage({ file: compressedFile, id })\n      } catch (e) {\n        // console.error('[worker] error', e)\n        self.postMessage({ error: e.message + '\\n' + e.stack, id })\n      }\n    })\n  ")}function compressOnWebWorker(t,e){return new Promise(function(n,a){return new Promise(function(r,o){var s=cnt++;return imageCompressionLibUrl||(imageCompressionLibUrl=generateLib()),worker||(worker=generateWorkerScript()),worker.addEventListener("message",function t(r){if(r.data.id===s){if(void 0!==r.data.progress)return void e.onProgress(r.data.progress);worker.removeEventListener("message",t),r.data.error&&a(new Error(r.data.error)),n(r.data.file)}}),worker.addEventListener("error",a),worker.postMessage({file:t,id:s,imageCompressionLibUrl:imageCompressionLibUrl,options:_objectSpread2(_objectSpread2({},e),{},{onProgress:void 0})}),r()})})}function imageCompression(t,e){return new Promise(function(n,a){var r,o,s,i,l;if(o=0,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,i="boolean"!=typeof e.useWebWorker||e.useWebWorker,delete e.useWebWorker,s=e.onProgress,e.onProgress=function(t){o=t,"function"==typeof s&&s(o)},!(t instanceof Blob||t instanceof CustomFile))return a(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return a(new Error("The file given is not an image"));if(l="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!i||"function"!=typeof Worker||l)return compress(t,e).then(function(t){try{return r=t,u.call(this)}catch(t){return a(t)}}.bind(this),a);var d=function(){try{return u.call(this)}catch(t){return a(t)}}.bind(this),c=function(n){try{return compress(t,e).then(function(t){try{return r=t,d()}catch(t){return a(t)}},a)}catch(t){return a(t)}};try{return compressOnWebWorker(t,e).then(function(t){try{return r=t,d()}catch(t){return c()}},c)}catch(t){c()}function u(){try{r.name=t.name,r.lastModified=t.lastModified}catch(t){}return n(r)}})}imageCompression.getDataUrlFromFile=getDataUrlFromFile,imageCompression.getFilefromDataUrl=getFilefromDataUrl,imageCompression.loadImage=loadImage,imageCompression.drawImageInCanvas=drawImageInCanvas,imageCompression.drawFileInCanvas=drawFileInCanvas,imageCompression.canvasToFile=canvasToFile,imageCompression.getExifOrientation=getExifOrientation,imageCompression.handleMaxWidthOrHeight=handleMaxWidthOrHeight,imageCompression.followExifOrientation=followExifOrientation,imageCompression.cleanupCanvasMemory=cleanupCanvasMemory,imageCompression.isAutoOrientationInBrowser=isAutoOrientationInBrowser,imageCompression.version="1.0.14",__webpack_exports__.a=imageCompression},WGgR:function(t,e){},X0MJ:function(t,e){},XkwJ:function(t,e){},"Y+9a":function(t,e){},aKXg:function(t,e,n){t.exports=n.p+"static/img/loading2.0efe727.gif"},b5xD:function(t,e){},bD3I:function(t,e){},bgPq:function(t,e){},cEqR:function(t,e){},eG7f:function(t,e){},exgS:function(t,e){},g8SE:function(t,e){},i7Bl:function(t,e){},l4k6:function(t,e){},noBU:function(t,e){},pnfn:function(t,e){},sfoC:function(t,e){},tHUL:function(t,e){},tvoE:function(t,e){},xg5q:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.b7d62cab53b82f6125aa.js.map