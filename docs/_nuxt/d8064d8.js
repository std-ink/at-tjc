(window.webpackJsonp=window.webpackJsonp||[]).push([[28,7,8],{460:function(t,e,r){"use strict";r(191);var n=r(193);e.a=Object(n.a)("layout")},464:function(t,e,r){"use strict";r.r(e);r(11);var n={props:["dataFields","closeEditModal","returnData"],data:function(){return{}},computed:{},methods:{onUpdate:function(){for(var t="UPD",s=0;s<this.dataFields.length;s++)if("sys_updmode"==this.dataFields[s].name){"INS"==this.dataFields[s].val&&(t="INS");break}null==this.returnData?this.$store.dispatch("ChangeDataView",{input:this.dataFields,sys_updmode:t}):this.returnData({data:this.dataFields,sys_updmode:t}),this.closeEditModal()},onDelete:function(){null==this.returnData?this.$store.dispatch("ChangeDataView",{input:this.dataFields,sys_updmode:"DEL"}):this.returnData({data:this.dataFields,sys_updmode:"DEL"}),this.closeEditModal()}}},o=r(26),l=r(38),c=r.n(l),d=r(198),v=r(173),f=r(14),h=r(620),m=r(453),x=r(441),y=r(454),_=r(467),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",[r("v-card-title",[t._v("データ修正")]),t._v(" "),r("v-container",[r("v-row",{staticStyle:{margin:"30px 5px 0px 5px"}},t._l(t.dataFields,(function(e,i){return r("v-col",{key:i,attrs:{lg:"3",md:"3",sm:"6",cols:"12"}},[0==e.name.indexOf("sys_")||null!=e.fieldType&&"checkbox"==e.fieldType?t._e():r("v-text-field",{attrs:{label:e.name,readonly:e.readOnly,color:"accent",type:null==e.fieldType?"text":e.fieldType},model:{value:e.val,callback:function(r){t.$set(e,"val",r)},expression:"dataField.val"}}),t._v(" "),0!=e.name.indexOf("sys_")&&null!=e.fieldType&&"checkbox"==e.fieldType?r("v-checkbox",{attrs:{label:e.name,readonly:e.readOnly,color:"accent"},model:{value:e.val,callback:function(r){t.$set(e,"val",r)},expression:"dataField.val"}}):t._e()],1)})),1)],1),t._v(" "),r("v-card-actions",{staticStyle:{"padding-bottom":"30px"}},[r("div",{staticClass:"flex-grow-1"}),t._v(" "),r("v-btn",{attrs:{color:"primary"},on:{click:t.onUpdate}},[t._v("UPDATE")]),t._v(" "),r("v-btn",{attrs:{color:"primary"},on:{click:t.onDelete}},[t._v("DELETE")]),t._v(" "),r("v-btn",{attrs:{color:"primary"},on:{click:t.closeEditModal}},[t._v("CLOSE")])],1)],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{VBtn:d.a,VCard:v.a,VCardActions:f.a,VCardTitle:f.c,VCheckbox:h.a,VCol:m.a,VContainer:x.a,VRow:y.a,VTextField:_.a})},510:function(t,e,r){"use strict";r.r(e);var n,o=r(3),l=(r(45),r(12),r(57),r(58),r(19),{props:["dataSource","edit"],head:function(){return{title:this.title}},data:function(){return{title:"DataViewer",dataHeader:[],upFile:null,fileModal:!1,editModal:!1,selected:[],search:null}},computed:{DataEntries:function(){return this.$store.getters.DataView},SaveDisabled:function(){var t=!0;try{this.DataEntries.forEach((function(element){"UPD"!=element.sys_updmode&&"INS"!=element.sys_updmode&&"DEL"!=element.sys_updmode||(t=!1)}))}catch(t){return!0}return t}},watch:{$route:function(t,e){var r=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.refreshPage();case 2:case"end":return t.stop()}}),t)})))()}},mounted:(n=Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.refreshPage();case 2:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)}),methods:{refreshPage:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var header;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t.dataSource){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.$store.dispatch("GetComData",t.dataSource);case 4:if(t.dataHeader=[],null!=(header=t.DataEntries[0])){e.next=8;break}return e.abrupt("return");case 8:t.dataHeader.push({text:"UpdMode",value:"sys_updmode"}),Object.keys(header).forEach((function(e){var r={};r.text=e,r.value=e,t.dataHeader.push(r)}));case 10:case"end":return e.stop()}}),e)})))()},OpenFileModal:function(){this.fileModal=!0},CloseFileModal:function(){this.fileModal=!1},DownloadCsv:function(){this.$store.dispatch("localFS/DownloadCsv",{headers:this.dataHeader,entries:this.DataEntries,headerLine:!0,fileName:this.dataSource+".csv"}),this.CloseFileModal()},UploadCsv:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e.upFile=t.target.files[0],e.$store.dispatch("localFS/UploadCsv",{headers:e.dataHeader,headerLine:!0,uploadFile:e.upFile,targetSate:"SetDataView"}),e.CloseFileModal();case 3:case"end":return r.stop()}}),r)})))()},OnClickRow:function(data){var t=this;if("INS"!=data.sys_updmode&&null!=data.id){this.editModal=!0;var e=[];Object.keys(data).forEach((function(r){var n=!1;"id"!=r&&"ro"!=r.substr(-2)||(n=!0);var o={name:r,val:data[r],readOnly:n};e.push(o),t.selected=e}))}},OnAdd:function(){var t=this.DataEntries[0],e=[];Object.keys(t).forEach((function(t){var r=!1;"id"!=t&&"ro"!=t.substr(-2)||(r=!0);var n={name:t,val:null,readOnly:r};e.push(n)})),e.push({name:"sys_updmode",val:"INS",readOnly:!0}),this.selected=e,this.editModal=!0},CloseEditModal:function(){this.editModal=!1},OnSave:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$store.dispatch("UpdateDataView",t.dataSource).then((function(e){e&&t.refreshPage()}));case 1:case"end":return e.stop()}}),e)})))()},OnRefresh:function(){this.refreshPage()},filterOnlyCapsText:function(t,e,r){return null!=t&&null!=e&&"string"==typeof t&&-1!==t.toString().toLocaleUpperCase().indexOf(e)}}}),c=r(26),d=r(38),v=r.n(d),f=r(198),h=r(173),m=r(14),x=r(453),y=r(441),_=r(581),w=r(442),D=r(460),k=r(454),C=r(467),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{column:"","justify-center":"","align-center":""}},[r("v-container",[r("v-text-field",{staticStyle:{"margin-bottom":"15px","margin-top":"-10px"},attrs:{label:"Search","append-icon":"mdi-magnify","hide-details":"",color:"accent"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),t.DataEntries.length>0?r("v-data-table",{staticStyle:{margin:"20px 0px"},attrs:{headers:t.dataHeader,items:t.DataEntries,"hide-default-footer":!1,"show-group-by":!0,"custom-filter":t.filterOnlyCapsText,search:t.search},on:{"click:row":t.OnClickRow}}):t._e(),t._v(" "),t.edit?r("v-row",[r("v-col",{attrs:{cols:"0",md:"4",lg:"4",xl:"4"}}),t._v(" "),r("v-col",{attrs:{cols:"12",sm:"6",md:"2",lg:"2",xl:"2"}},[r("v-btn",{attrs:{block:"",color:"primary",disabled:0==t.DataEntries.length||null==t.DataEntries.length},on:{click:function(e){return t.OpenFileModal()}}},[t._v("\n          FILE\n        ")])],1),t._v(" "),r("v-col",{attrs:{cols:"12",sm:"6",md:"2",lg:"2",xl:"2"}},[r("v-btn",{attrs:{block:"",color:"primary"},on:{click:function(e){return t.OnAdd()}}},[t._v("\n          ADD\n        ")])],1),t._v(" "),r("v-col",{attrs:{cols:"12",sm:"6",md:"2",lg:"2",xl:"2"}},[r("v-btn",{attrs:{block:"",color:"primary"},on:{click:function(e){return t.OnRefresh()}}},[t._v("\n          REFRESH\n        ")])],1),t._v(" "),r("v-col",{attrs:{cols:"12",sm:"6",md:"2",lg:"2",xl:"2"}},[r("v-btn",{attrs:{block:"",color:"primary",disabled:t.SaveDisabled},on:{click:function(e){return t.OnSave()}}},[t._v("\n          SAVE\n        ")])],1)],1):t._e()],1),t._v(" "),r("v-dialog",{attrs:{width:"90%",persistent:!0},model:{value:t.fileModal,callback:function(e){t.fileModal=e},expression:"fileModal"}},[r("v-card",[r("v-card-title",[t._v("ファイル入出力")]),t._v(" "),r("v-container",[r("v-row",[r("v-col",{attrs:{lg:"6",md:"6",sm:"12",cols:"12"}},[r("v-btn",{attrs:{block:"",color:"primary"},on:{click:function(e){return t.DownloadCsv()}}},[t._v("\n              Download As CSV\n            ")])],1),t._v(" "),r("v-col",{attrs:{lg:"6",md:"6",sm:"12",cols:"12"}},[r("input",{attrs:{type:"file",accept:".csv,.CSV"},on:{change:t.UploadCsv}})])],1)],1),t._v(" "),r("v-card-actions",[r("div",{staticClass:"flex-grow-1"}),t._v(" "),r("v-btn",{attrs:{color:"primary"},on:{click:t.CloseFileModal}},[t._v("CLOSE")])],1)],1)],1),t._v(" "),t.edit?r("v-dialog",{attrs:{width:"90%",persistent:!0},model:{value:t.editModal,callback:function(e){t.editModal=e},expression:"editModal"}},[r("DevDataViewEdit",{attrs:{dataFields:t.selected,closeEditModal:t.CloseEditModal}})],1):t._e()],1)}),[],!1,null,null,null);e.default=component.exports;v()(component,{DevDataViewEdit:r(464).default}),v()(component,{VBtn:f.a,VCard:h.a,VCardActions:m.a,VCardTitle:m.c,VCol:x.a,VContainer:y.a,VDataTable:_.a,VDialog:w.a,VLayout:D.a,VRow:k.a,VTextField:C.a})},599:function(t,e,r){"use strict";r.r(e);var n,o=r(3),l=(r(19),{head:function(){return{title:this.title}},data:function(){return{title:"DataViewer",dsModal:!1,dsInput:""}},watch:{$route:function(t,e){var r=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.refreshPage();case 2:case"end":return t.stop()}}),t)})))()}},mounted:(n=Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.refreshPage();case 2:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)}),methods:{refreshPage:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$store.dispatch("SetTitle",t.title),null!=t.$route.query.target){e.next=5;break}return t.dsModal=!0,e.abrupt("return");case 5:case"end":return e.stop()}}),e)})))()},OnDsInput:function(){""!=this.dsInput&&(this.dsModal=!1,$nuxt.$router.push("/dev/dataView?target="+this.dsInput))}}}),c=r(26),d=r(38),v=r.n(d),f=r(198),h=r(173),m=r(14),x=r(441),y=r(442),_=r(467),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("h2",{staticClass:"primary--text"},[t._v("データソース："+t._s(t.$route.query.target))]),t._v(" "),r("DevDataViewComp",{attrs:{dataSource:this.$route.query.target,edit:!0}}),t._v(" "),r("v-dialog",{staticStyle:{"z-index":"9998"},attrs:{"max-width":"290",persistent:!0},model:{value:t.dsModal,callback:function(e){t.dsModal=e},expression:"dsModal"}},[r("v-card",[r("v-card-title",[t._v("データソース指定")]),t._v(" "),r("v-card-text",[r("v-text-field",{attrs:{label:"データソースID",color:"accent",type:"text"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.OnDsInput.apply(null,arguments)}},model:{value:t.dsInput,callback:function(e){t.dsInput=e},expression:"dsInput"}})],1),t._v(" "),r("v-card-actions",[r("div",{staticClass:"flex-grow-1"}),t._v(" "),r("v-btn",{attrs:{color:"accent"},on:{click:t.OnDsInput}},[t._v("OK")])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;v()(component,{DevDataViewComp:r(510).default}),v()(component,{VBtn:f.a,VCard:h.a,VCardActions:m.a,VCardText:m.b,VCardTitle:m.c,VContainer:x.a,VDialog:y.a,VTextField:_.a})}}]);