(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{608:function(e,t,r){"use strict";r.r(t);var o,n=r(3),l=(r(19),{head:function(){return{title:this.title}},data:function(){return{moduleTitle:"My Page",title:"プロフィール編集",profile:{},imgFile:null,delImg:!1}},mounted:(o=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.$store.dispatch("SetTitle",this.moduleTitle),this.refreshPage();case 2:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)}),watch:{$route:function(e,t){var r=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.refreshPage();case 2:case"end":return e.stop()}}),e)})))()}},methods:{refreshPage:function(){var e=this;this.$store.dispatch("members/GetMyProfile",this.$route.params.userNo).then((function(t){e.profile=t}))},OnUpdate:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e.profile.userName&&""!=e.profile.userName){t.next=3;break}return e.$store.dispatch("widget/SetModalMsg",{enabled:!0,title:"Info",body:"ユーザー名を指定してください。"}),t.abrupt("return");case 3:if(r={userName:e.profile.userName,dob:e.profile.dob,comment:e.profile.comment,icon:null,delIcon:e.delImg},null==e.imgFile||null==e.imgFile[0]){t.next=9;break}return t.next=7,e.$store.dispatch("firebaseCommon/UploadImagToStorage",e.imgFile[0]);case 7:o=t.sent,r.icon=o;case 9:e.$store.dispatch("members/UpdateMyProfile",r).then((function(t){t?$nuxt.$router.push("/mypage"):e.$store.dispatch("widget/SetModalMsg",{enabled:!0,title:"Error",body:"データ更新に失敗しました。時間をおいて再度お試しください。"})}));case 10:case"end":return t.stop()}}),t)})))()},selectFile:function(e){console.log(e),this.imgFile=e},uploadFile:function(e){this.imgFile=e.target.files}}}),c=r(26),m=r(38),d=r.n(m),f=r(198),v=r(622),h=r(453),x=r(441),w=r(454),k=r(455),component=Object(c.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("h2",{staticClass:"primary--text"},[e._v(e._s(e.title))]),e._v(" "),r("v-container",[r("v-row",[r("h3",[e._v("基本情報")])]),e._v(" "),r("v-row",[r("v-col",{attrs:{lg:"4",md:"6",sm:"12",cols:"12"}},[r("v-text-field",{attrs:{label:"ユーザー名(必須)",color:"accent",type:"text"},model:{value:e.profile.userName,callback:function(t){e.$set(e.profile,"userName",t)},expression:"profile.userName"}})],1),e._v(" "),r("v-col",{attrs:{lg:"4",md:"6",sm:"12",cols:"12"}},[r("v-text-field",{attrs:{label:"生年月日",color:"accent",type:"date"},model:{value:e.profile.dob,callback:function(t){e.$set(e.profile,"dob",t)},expression:"profile.dob"}})],1),e._v(" "),r("v-col",{attrs:{lg:"4",md:"6",sm:"12",cols:"12"}},[r("v-text-field",{attrs:{label:"コメント",color:"accent",type:"text"},model:{value:e.profile.comment,callback:function(t){e.$set(e.profile,"comment",t)},expression:"profile.comment"}})],1)],1),e._v(" "),r("v-row",[r("h3",[e._v("プロフィール画像")])]),e._v(" "),r("v-row",[r("v-col",{attrs:{lg:"4",md:"6",sm:"12",cols:"12"}},[r("input",{attrs:{type:"file"},on:{change:e.uploadFile}})]),e._v(" "),r("v-col",{attrs:{lg:"4",md:"6",sm:"12",cols:"12"}},[r("v-checkbox",{attrs:{label:"現在プロフィール画像を削除",color:"accent"},model:{value:e.delImg,callback:function(t){e.delImg=t},expression:"delImg"}})],1)],1),e._v(" "),r("v-row",[r("v-col",{attrs:{lg:"4",md:"6",sm:"12",cols:"12"}},[r("v-btn",{attrs:{block:"",color:"primary"},on:{click:function(t){return e.OnUpdate()}}},[e._v("SAVE")])],1),e._v(" "),r("v-col",{attrs:{lg:"4",md:"6",sm:"12",cols:"12"}},[r("v-btn",{attrs:{block:"",color:"primary"},on:{click:function(t){return e.$nuxt.$router.push("/mypage")}}},[e._v("キャンセル")])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;d()(component,{VBtn:f.a,VCheckbox:v.a,VCol:h.a,VContainer:x.a,VRow:w.a,VTextField:k.a})}}]);